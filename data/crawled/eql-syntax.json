{
  "doc_id": "eql-syntax",
  "url": "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/eql-syntax.html",
  "title": "Синтаксис EQL-запроса",
  "breadcrumbs": [
    "Приложение",
    "Поисковые запросы на языке EQL365"
  ],
  "section": "Приложение > Поисковые запросы на языке EQL365 | [kedo]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Синтаксис EQL-запроса</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"Refitem,SELECT_FROM_WHERE,Time(),Номер телефона,Произвольное приложение,создать параметр,Ссылка,Строка,Учетная запись\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Чтобы найти элемент приложения по параметрам, в EQL-запросе его свойствам задаются определённые значения. Для создания EQL‑запроса соблюдаются определённые правила и...\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/eql-syntax.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Low-code дизайнер &gt; <a href=\"360006963072.html\">Приложение</a> &gt; <a href=\"eql365-search.html\">Поисковые запросы на языке EQL365</a> / Синтаксис EQL-запроса</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Синтаксис EQL-запроса</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Чтобы найти элемент приложения по параметрам, в EQL-запросе его свойствам задаются определённые значения. Для создания EQL‑запроса соблюдаются определённые правила и применяются особенности:</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\">Для обращения к свойствам приложения используются коды, присвоенные им при создании. Указывать код переменной необходимо в квадратных скобках: <code><b>[property_name]</b></code>. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\">Указывается <a class=\"topiclink\" href=\"eql-syntax.html#operations\">операция поиска</a>. Используются стандартные математические знаки или ключевые слова языка EQL365. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\">Искомое значение указывается с учётом <a class=\"topiclink\" href=\"eql-syntax.html#assign-value\">правил присвоения значений свойствам различных типов</a>. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\">Для присвоения значения или его вычисления в запросе можно использовать <a class=\"topiclink\" href=\"eql-syntax.html#functions\">функции</a>, например, для указания определённой даты или поиска в свойстве типа <span style=\"font-weight: bold;\">Пользователи</span> текущего сотрудника.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"5\">Для присвоения значений свойствам в рамках запроса можно <a class=\"topiclink\" href=\"eql-syntax.html#create-eql-parameters\">создать параметр</a> и обращаться к нему множество раз. Значение параметра указывается после составления запроса в полях, добавленных в окно поиска автоматически. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"6\">Чтобы осуществлять поиск по нескольким условиям, в запрос добавляются <a class=\"topiclink\" href=\"eql-syntax.html#logical-operators\">логические операторы</a>. При этом можно указывать условие, выполнение которого будет проверяться первым. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"7\">Для составления сложных выборок данных можно использовать <a class=\"topiclink\" href=\"eql-syntax.html#subquery\">подзапросы</a>. Внутри подзапроса можно обращаться к свойствам любого приложения в системе.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"8\">Все составляющие запроса указываются через пробел.   </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры поиска элементов по составленным EQL-запросам</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[company_name] = 'АвтоПром' or [company_name] like 'Авто'</span> — поиск элементов приложения <span style=\"font-weight: bold;\">Компании</span>, в которых поле <span style=\"font-weight: bold;\">Название</span> полностью совпадает с первым указанным значением или содержит второе.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[__createdAt] = Datetime(2025, 1) and [price] &gt; 4000</span> — поиск записей приложения <span style=\"font-weight: bold;\">Заказы</span>, у которых в поле <span style=\"font-weight: bold;\">Дата создания</span> указан январь 2025 года и поле <span style=\"font-weight: bold;\">Стоимость</span> содержит значение большее, чем 4 000 рублей.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[contract] in (select [__id] from [documents.contracts] where [total] &gt; 10000)</span> — поиск записей приложения <span style=\"font-weight: bold;\">Контрагенты</span>, где в поле <span style=\"font-weight: bold;\">Договор</span> указан элемент приложения, в котором сумма превышает 10 000 рублей.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"assign-value\"></a><span class=\"f_Heading2\">Присвоение значения свойствам различных типов</span></h2>\n<p style=\"margin: 0 0 11px 0;\">Для корректной обработки EQL-запроса все его составляющие указываются через пробел. При написании запроса можно использовать опцию автозаполнения строки. Чтобы вызвать выпадающее меню с доступными свойствами, функциями и операторами, нажмите <span style=\"font-weight: bold;\">Ctrl + Пробел</span>.</p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Для указания значений в различных <a class=\"topiclink\" href=\"360009707032.html\">типах свойств</a> из контекста приложений используются определённые правила. Они приведены в таблице:</p>\n<div style=\"text-align: left; text-indent: 0; line-height: 1.28; padding: 0 0 0 0; margin: 0 0 11px 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Тип данных</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Правило присвоения значения</span></p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Пример</span></p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Строка</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся строкой в одинарных кавычках. </p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"1\"><span style=\"font-weight: bold;\">[authors_name] like 'Алекс'</span> — поле <span style=\"font-weight: bold;\">Имя автора </span>содержит значение <span style=\"font-weight: bold;\">Алекс</span>.</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"2\"><span style=\"font-weight: bold;\">[product] in ('вентилятор', 'холодильник')</span> — поле <span style=\"font-weight: bold;\">Продукт</span> содержит одно из указанных значений.</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"3\"><span style=\"font-weight: bold;\">[authors_name] is null</span> — имя автора не указано.</li></ol>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Число, Деньги</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Используется значение искомого числа без кавычек. </p>\n<p>Дробные числа разделяются точкой. </p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"1\"><span style=\"font-weight: bold;\">[size] &lt; 5.5</span> — в поле <span style=\"font-weight: bold;\">Размер</span> указано значение меньше, чем 5,5 метров.</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"2\"><span style=\"font-weight: bold;\">[price] &gt;= 5000</span> — значение поля <span style=\"font-weight: bold;\">Стоимость</span> больше или равно 5 000 рублей.</li></ol>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Выбор «да/нет»</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся значением <code><b>true</b></code> без кавычек.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li value=\"1\"><span style=\"font-weight: bold;\">[prepayment] = true</span> — в поле <span style=\"font-weight: bold;\">Предоплата</span> выбрано значение <span style=\"font-weight: bold;\">Да</span>.</li><li value=\"2\"><span style=\"font-weight: bold;\">[prepayment] &lt;&gt; true</span> — в поле <span style=\"font-weight: bold;\">Предоплата</span> не указано значение или выбрано <span style=\"font-weight: bold;\">Нет</span>.</li><li value=\"3\"><span style=\"font-weight: bold;\">[prepayment] is null</span> — поле <span style=\"font-weight: bold;\">Предоплата</span> не заполнено.</li></ol>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Дата/время</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся следующими способами:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\">функцией <a class=\"topiclink\" href=\"eql-syntax.html#functions\">Datetime()</a> или <a class=\"topiclink\" href=\"eql-syntax.html#functions\">Time()</a>, аргументы прописываются через запятую;</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\">строкой в одинарных кавычках, даты прописываются через тире.  </li></ul>\n<p>Использовать можно укороченное написание части даты, а также указывать время, в том числе с использованием часового пояса.</p>\n<p><span style=\"font-size: 13px; color: #000000;\"> </span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Период времени относительно текущей даты вычисляется функцией <a class=\"topiclink\" href=\"eql-syntax.html#relative-date\">RelativeDatetime('start', 'end')</a>. В круглых скобках указывается начало и конец периода, параметры заключаются в одинарные кавычки и разделяются запятыми.  <span style=\"font-family: 'Times New Roman',Times,Georgia,serif;\"> </span></p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"1\"><span style=\"font-weight: bold;\">[close_date] &gt; Datetime(2025, 1, 31, 12)</span>;</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"2\"><span style=\"font-weight: bold;\">[close_date] &gt; '2025-01-31-12'</span>.</li></ol>\n<p style=\"margin: 0 0 0 1px;\">Оба запроса используются для поиска поля <span style=\"font-weight: bold;\">Дата закрытия</span> со значением позднее, чем 31 января 2025 года после полудня.</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"3\"><span style=\"font-weight: bold;\">[close_date] &lt; '2025-01-31T12:30:00'</span> — дата закрытия произошла ранее, чем 31 января 2025 года в 12:30.</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"4\"><span style=\"font-weight: bold;\">[close_date] &lt; '2025-01-31T12:30+09:00'</span> — дата закрытия со значением ранее, чем 31 января 2025 года в 12:30 с учётом часового пояса UTC+09:00.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"5\"><span style=\"font-weight: bold;\">[__createdAt] IN RelativeDatetime('-1m','0d')</span> — поиск всех элементов, созданных с начала прошлого месяца и до текущей даты.</li></ol>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Категория</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся кодом категории в одинарных кавычках.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">[payment] in ('half', 'full')</span> — в поле <span style=\"font-weight: bold;\">Оплата</span> выбраны значения <span style=\"font-weight: bold;\">Частично</span> и <span style=\"font-weight: bold;\">Полная предоплата</span>. </p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Номер телефона </span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся строкой в одинарных кавычках.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">[phone] = '+71234567890'</span> — поле <span style=\"font-weight: bold;\">Телефон</span> заполнено указанным значением.</p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Электронная почта</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся строкой в одинарных кавычках.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">[email] = 'admin@example.com'</span> — поле <span style=\"font-weight: bold;\">Электронная почта</span> заполнено указанным значением.</p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Ф.И.О.</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся строкой в одинарных кавычках.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">[contact] like 'Иван'</span> — поле <span style=\"font-weight: bold;\">Контактное лицо</span> содержит указанное значение. </p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Пользователи</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся строковым представлением идентификатора в одинарных кавычках, без пробелов.</p>\n<p>Чтобы найти идентификатор пользователя, перейдите в раздел <span style=\"font-weight: bold;\">Компания &gt; Сотрудники</span>, выберите нужную карточку и скопируйте значение<span style=\"font-weight: bold;\"> </span>в url-адресе страницы. </p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">[responsible] = '95806fe5-f8e8-460c-b2be-ce607068726c'</span> — в поле <span style=\"font-weight: bold;\">Ответственный</span> указан определённый пользователь.</p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; height:165px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Приложение</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; height:165px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li value=\"1\">Задаётся строковым представлением идентификатора в одинарных кавычках, без пробелов. </li></ol>\n<p style=\"margin: 0 0 0 25px;\">Чтобы найти идентификатор элемента, перейдите на страницу нужного приложения, выберите запись и скопируйте значение<span style=\"font-weight: bold;\"> </span>в url-адресе страницы.</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\">Поиск выборкой данных по критериям. Указывается с помощью подзапроса с функцией вида <a class=\"topiclink\" href=\"eql-syntax.html#subquery\">Select_From_Where</a>.</li></ol>\n</td>\n<td style=\"vertical-align:top; width:417px; height:165px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li value=\"1\"><span style=\"font-weight: bold;\">[app] = '018a1c61-c2b9-7701-86ab-d8b39a143465'</span> — в поле выбран элемент текущего приложения с указанным идентификатором.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-weight: bold;\">[order] in (select [__id] from [clients] where [__name] like </span><span style=\"font-weight: bold;\">'</span><span style=\"font-weight: bold;\">Хол</span><span style=\"font-weight: bold;\">'</span><span style=\"font-weight: bold;\">)</span> — поиск заказа из приложения <span style=\"font-weight: bold;\">Клиенты</span>, где имя компании содержит указанное значение. </li></ol>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Произвольное приложение</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Поиск осуществляется по коду элемента двумя способами:</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\">Задаётся идентификатором определённого элемента:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\">поиск элемента коллекции с помощью функции <a class=\"topiclink\" href=\"eql-syntax.html#refitem\">Refitem()</a>. В скобках через запятую прописывается код раздела, приложения и идентификатор элемента. Каждое значение отделяется одинарными кавычками;</li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\">строкой в одинарных кавычках. Путь до элемента указывается без пробелов, через двоеточие.</li></ul>\n<ol start=\"2\" style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"color: #394149;\">Используется выборка данных по критериям. Указывается с помощью подзапроса с функцией вида </span><a class=\"topiclink\" href=\"eql-syntax.html#subquery\">Select_From_Where</a>.</li></ol>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\" value=\"1\">Запрос для поиска элементов, у которых в поле <span style=\"font-weight: bold;\">Договор</span> указана определённая запись из раздела <span style=\"font-weight: bold;\">Клиенты &gt; Договоры</span>:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">[contract] = Refitem('clients', 'contracts', '1415381a-1197-11ee-be56-0242ac120002')</span>; </li><li style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">[client] = 'clients:contracts:1415381a-1197-11ee-be56-0242ac120002'</span>.</li></ul>\n<ol start=\"2\" style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"2\">Запрос для поиска всех элементов из раздела <span style=\"font-weight: bold;\">Клиенты &gt; Договоры</span>, где указан заказ с суммой более 1 000 рублей:</li></ol>\n<p class=\"p_Normal\" style=\"text-indent: -1px; margin: 0 0 0 33px;\"><span style=\"font-weight: bold;\">[contract] in (select [__id] from [clients.orders] where [total] &gt; 1000)</span>.</p>\n</td>\n</tr>\n<tr>\n<td style=\"vertical-align:top; width:192px; padding:0; border:none\"><p><span style=\"font-weight: bold;\">Статус</span></p>\n</td>\n<td style=\"vertical-align:top; width:451px; padding:0; border:none\"><p>Задаётся числовым представлением идентификатора статуса.</p>\n</td>\n<td style=\"vertical-align:top; width:417px; padding:0; border:none\"><p style=\"text-indent: -1px; margin: 0 0 0 1px;\"><span style=\"font-weight: bold;\">[__status] = 1</span> — элементу присвоен первый по счёту статус. </p>\n</td>\n</tr>\n</table>\n</div>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Можно искать элементы, в полях которых не указано никакого значения. Для этого в запросе используется операция <a class=\"topiclink\" href=\"eql-syntax.html#key-words\">Is null или Is empty</a>. Исключения составляют свойства типа <span style=\"font-weight: bold;\">Номер телефона</span> и <span style=\"font-weight: bold;\">Электронная почта</span>.</p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"create-eql-parameters\"></a><span class=\"f_Heading2\">Создание параметров в EQL-запросе и их использование</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">В запросе можно создать параметр для определённого свойства, чтобы подставлять в него различные значения и находить подходящие элементы приложения. Сам запрос изменять при этом не нужно. Такой параметр добавляется на форму поиска в виде дополнительного поля, в котором указываются искомые значения.  </span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">Запрос с параметром можно </span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif; color: #0000ff;\"><a class=\"topiclink\" href=\"360009669952.html#filter\">сохранить как фильтр</a></span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\"> для его многократного использования. Фильтр появляется на боковой панели окна расширенного поиска.</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">Чтобы создать параметр:</span></p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">В квадратных скобках укажите код свойства приложения, по которому будет выполняться поиск.</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">Добавьте к нему знак равенства и значок @, а затем произвольное название параметра на латинице или кириллице.</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">Чтобы найти элементы по нескольким параметрам, свяжите условия поиска с помощью операторов </span><code><b>AND</b></code><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\"> или </span><code><b>OR</b></code><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">. Подробнее о них читайте в разделе <a class=\"topiclink\" href=\"eql-syntax.html#logical-operators\">«Логические операторы-связки»</a>.</span></li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><img alt=\"eql-syntax-1\" height=\"530\" src=\"eql-syntax-1.png\" style=\"margin:0;width:783px;height:530px;border:none\" width=\"783\"/></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">При поиске по запросу с параметрами пользователи могут:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">указать в появившихся полях значения параметров и запустить поиск;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">сохранить составленный запрос как фильтр. Кнопка </span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif; font-weight: bold;\">Сохранить</span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\"> активна внизу окна, если в полях не заданы значения.</span></li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Пример запроса </p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-weight: bold;\">[__createdBy] = @Пользователь AND [budget] = @Сумма </span>— в запросе заданы два параметра, чтобы находить сделки по автору и сумме. В окне поиска добавилось два поля <span style=\"font-weight: bold;\">Пользователь</span> и <span style=\"font-weight: bold;\">Сумма</span> согласно созданным параметрам.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"operations\"></a><span class=\"f_Heading2\">Операции поиска</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Для присвоения значения в EQL-запросе используются операции поиска. Они могут обозначаться математическими знаками или ключевыми словами языка EQL365.</p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"symbols\"></a><span class=\"f_Heading3\">Операции с использованием знаков</span></h3>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Такие операции строятся по одинаковому принципу. В качестве первого операнда указывается код свойства. Ему присваивается определённое значение. Вторым операндом выступает заданное значение, другое свойство или функция. К таким операциям относятся:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-weight: bold;\">Равенство</span> — операция <span style=\"font-weight: bold;\">=</span>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки точного совпадения. Не рекомендуется использовать со свойствами типа <span style=\"font-weight: bold;\">Дата/время</span>, так как точное совпадение значения поля маловероятно. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[client] = 'Иванов'</span> — поиск клиента с указанным именем.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] = [budget]</span> — поиск полей <span style=\"font-weight: bold;\">Оплата</span>, совпадающих с полем <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[responsible] = CurrentUser()</span> — поиск элементов с текущим пользователем в качестве ответственного. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-weight: bold;\">Неравенство</span> — операция <span style=\"font-weight: bold;\">&lt;&gt;</span>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки исключения точного совпадения. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[product] &lt;&gt; 'Оборудование'</span> — поиск заказов, где в поле <span style=\"font-weight: bold;\">Продукт</span> не значится указанное значение.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] &lt;&gt; [budget]</span> — поиск заказов, где поле <span style=\"font-weight: bold;\">Оплата</span> не совпадает с полем <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[responsible] &lt;&gt; CurrentUser()</span> — поиск элементов, в которых в качестве ответственного не значится текущий пользователь. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-weight: bold;\">Более чем</span> — операция <span style=\"font-weight: bold;\">&gt;</span>. </li></ol>\n<p style=\"text-indent: 1px; line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки строгого большего. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[price] &gt; 10000</span> — поиск заказов со стоимостью, превышающей указанное значение.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] &gt; [budget]</span> — поиск заказов, где поле <span style=\"font-weight: bold;\">Оплата</span> больше поля <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[shipping_date] &gt; Datetime(2025, 1, 31, 12)</span> — поиск заказов с датой отгрузки позднее, чем указанная дата и время 12:00.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\"><span style=\"font-weight: bold;\">Больше или равно</span> — операция <span style=\"font-weight: bold;\">&gt;=</span>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки нестрогого большего. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[price] &gt;= 10000</span> — поиск заказов со стоимостью, равной или превышающей указанное значение.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] &gt;= [budget]</span> — поиск заказов, где поле <span style=\"font-weight: bold;\">Оплата</span> больше или равняется полю <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[shipping_date] &gt;= Datetime('Today')</span> — поиск заказов с отгрузкой в текущую дату на момент времени 00:00:00 или позднее.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"5\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"5\"><span style=\"font-weight: bold;\">Менее чем</span> — операция <span style=\"font-weight: bold;\">&lt;</span>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки строгого меньшего. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[price] &lt; 10000</span> — поиск заказов со стоимостью ниже указанного значения.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] &lt; [budget]</span> — поиск заказов, где поле <span style=\"font-weight: bold;\">Оплата</span> меньше, чем поле <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[shipping_date] &lt; Datetime('Today')</span> — поиск заказов с датой отгрузки ранее, чем текущая дата на момент времени 00:00:00.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"6\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"6\"><span style=\"font-weight: bold;\">Меньше или равно</span> — операция <span style=\"font-weight: bold;\">&lt;=</span>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Операция проверки нестрогого меньшего. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[price] &lt;= 10000</span> — поиск заказов, в которых стоимость ниже или равняется указанному значению.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[payment] &lt;= [budget]</span> — поиск заказов, где поле <span style=\"font-weight: bold;\">Оплата</span> меньше или равняется полю <span style=\"font-weight: bold;\">Бюджет</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[shipping_date] &lt;= Datetime('Today')</span> — поиск заказов с отгрузкой в текущую дату на момент времени 00:00:00 или ранее.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"key-words\"></a><span class=\"f_Heading3\">Операции с ключевыми словами языка EQL365</span></h3>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-weight: bold;\">Частичное совпадение строки</span> — операция <code><b>LIKE</b></code>. </li></ol>\n<p style=\"margin: 0 0 11px 36px;\">Операция <code><b>LIKE</b></code> используется для поиска частичного совпадения текста независимо от регистра. Она позволяет находить вхождения указанного значения в любую часть строки, возвращая все строки, содержащие искомый фрагмент.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Пример</p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">[responsible] like 'Алекс'</span> — поиск всех элементов, где в поле <span style=\"font-weight: bold;\">Ответственный</span> присутствует данное значение.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">Полное совпадение строки</span> — операция <code><b>LIKEF</b></code>.</li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\">Операция <code><b>LIKEF</b></code> позволяет искать точные совпадения текста, а также задавать правила для поиска указанного значения в определённой части строки. Использование операции помогает сузить результаты поиска.</p>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\">Доступные свойства для использования <code><b>LIKEF</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html\">Строка</a>;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#category\">Категория</a>;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#account\">Учетная запись</a>;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#phone-number\">Номер телефона</a>;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#email\">Электронная почта</a>; </li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#full-name\">Ф.И.О</a>;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"topiclink\" href=\"360009707032.html#link\">Ссылка</a>.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\">Правила для создания запросов с операцией <code><b>LIKEF</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">символ _</span> — нижнее подчёркивание обозначает любой один символ. Может использоваться до или после искомого значения;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">символ %</span> — процент указывает, что перед или после искомого значения может находиться любое количество символов;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">комбинирование символов</span> — символы <span style=\"font-weight: bold;\">_</span> и <span style=\"font-weight: bold;\">%</span> можно комбинировать и использовать в запросе множество раз для построения сложных шаблонов поиска;</li><li class=\"p_Normal\" style=\"margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">экранирование символов</span> — если значение содержит управляющие символы (<span style=\"font-weight: bold;\">_</span> или <span style=\"font-weight: bold;\">%</span>), их нужно экранировать обратной косой чертой <span style=\"font-weight: bold;\">\\</span>. </li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[client] likef </span><span style=\"font-weight: bold;\">'</span><span style=\"font-weight: bold;\">Иван</span><span style=\"font-weight: bold;\">'</span> — найдёт записи, где поле <span style=\"font-weight: bold;\">Клиент</span> содержит точное значение <span style=\"font-weight: bold;\">Иван</span>. Например, Иван Краснов, Иван Круглов и т. д.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[string] likef '_010203'</span> — ищет строки, начинающиеся с любого символа, за которым следует указанное значение <span style=\"font-weight: bold;\">010203</span>.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[phone] likef '7912%'</span> — вернёт все записи, номер телефона в которых начинается на <span style=\"font-weight: bold;\">7912</span> и содержит любое количество символов.</li><li class=\"p_Normal\" value=\"4\"><span style=\"font-weight: bold;\">[order_name] likef 'Продукты%10_2024'</span> — находит заказы, где название начинается на значение <span style=\"font-weight: bold;\">Продукты</span>, содержит любое количество символов, а оканчиваются на <span style=\"font-weight: bold;\">10</span>, любой один символ и <span style=\"font-weight: bold;\">2024</span>.</li><li class=\"p_Normal\" value=\"5\"><span style=\"font-weight: bold;\">[email] likef '_petrov\\%@example%'</span> — найдёт электронные адреса, которые начинаются с одного неизвестного символа, содержат <span style=\"font-weight: bold;\">petrov%@example</span> и оканчиваются любым доменом. Знак процента, содержащийся в адресе, экранируется <span style=\"font-weight: bold;\">\\</span>.  </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Для запросов с операциями <code><b>LIKE</b></code> и <code><b>LIKEF</b></code> может применяться <a class=\"topiclink\" href=\"360009669952.html#equivalentyoe\">равнозначность букв Е и Ё при поиске</a>. Обратите внимание, что администратор системы может отключить эту возможность.</p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-weight: bold;\">Проверка на отсутствие значения</span> — операция <code><b>IS NULL</b></code><span style=\"font-size: 13px;\"> или </span><code><b>IS EMPTY</b></code>. </li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\">Операции <code><b>IS NULL</b></code> и <code><b>IS EMPTY</b></code> используются в любом регистре для проверки отсутствия значения в указанном поле. Они позволяют находить элементы приложений, у которых поле не содержит данных. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Пример</p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\"><span style=\"font-size: 13px; font-weight: bold;\">[budget] is null </span><span style=\"font-size: 13px;\">или </span><span style=\"font-size: 13px; font-weight: bold;\">[budget] is empty</span> — равнозначные запросы для поиска заказов, где не указан бюджет. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\"><span style=\"font-weight: bold;\">Вхождение в множество</span> — операция <code><b>IN</b></code>. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Регистронезависимая операция проверки содержания свойства приложения. Искомые значения указываются в круглых скобках, перечисляются через запятую и не разделяются пробелами. В качестве значения может выступать подзапрос. <span style=\"font-size: 15px;\">При использовании в запросе <a class=\"topiclink\" href=\"eql-syntax.html#current-user\">функции поиска текущего пользователя</a> аргументы можно указывать в любом порядке.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-size: 13px; font-weight: bold;\">[order_number] in (6,7,8,9)</span> — поиск всех заказов, в номерах которых содержатся перечисленные числа. </li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-size: 13px; font-weight: bold;\">[client] in ('Алексей', 'Андрей', 'Иванов')</span> — поиск всех клиентов с перечисленными именами.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-size: 13px; font-weight: bold;\">[__createdBy] in CurrentUser()</span><span style=\"font-size: 13px;\"> или </span><span style=\"font-size: 13px; font-weight: bold;\">CurrentUser() in [__createdBy] —</span><span style=\"font-size: 13px;\"> равнозначные запросы для поиска всех элементов, созданных текущим пользователем системы.</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\"><span style=\"font-size: 13px; font-weight: bold;\">[orders] in (select [__id] from [documents.contracts] where [total] &gt; 10000)</span> — выборка всех заказов, в договорах которых в поле <span style=\"font-weight: bold;\">Сумма</span> указано значение более 10 000 рублей. Подробнее о составлении таких выражений читайте в разделе <a class=\"topiclink\" href=\"eql-syntax.html#subquery\">«Подзапросы»</a>. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"logical-operators\"></a><span class=\"f_Heading2\">Логические операторы-связки</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Логические операторы используются для проверки нескольких условий в одном запросе: </p>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-weight: bold;\">Логическое И</span> — оператор <code><b>AND</b></code><span style=\"font-size: 13px;\"> </span>объединяет несколько условий. При этом все условия должны выполняться. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов </p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[prepayment] = 1000 and [budget] &gt; 3000</span> — поиск заказов, за которые внесли предоплату равную 1 000 рублей и бюджет которых превышает 3 000 рублей.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[__createdAt] &gt;= Datetime(2025, 1) and [__createdAt] &lt; Datetime(2025, 3)</span> — поиск всех элементов, которые были созданы за январь и февраль 2025 года, т. е. дата равняется или больше января и не превышает март.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-weight: bold;\">Логическое ИЛИ</span> — оператор <code><b>OR</b></code><span style=\"font-size: 13px;\"> </span>объединяет несколько условий и запрашивает выполнение хотя бы одного из них. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера </span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов </p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[order_number] in (6,7) or [client] is null</span> — в результате поиска отобразятся заказы, в номерах которых присутствуют указанные числа или для которых не заполнен клиент.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[client] like 'Алекс' or [orders] in (from [documents.contracts] select [__id] where [total] &gt; 10000)</span> — поиск заказов, в которых имя клиента содержит указанное значение или сумма договора превышает 10 000 рублей. В примере используется подзапрос с <a class=\"topiclink\" href=\"eql-syntax.html#from-where\">оператором выборки FROM_SELECT_WHERE</a>.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-weight: bold;\">Логическое НЕ</span> —<span style=\"font-weight: bold;\"> </span>оператор <code><b>NOT</b></code><span style=\"font-size: 13px;\"> </span>применяется для одного условия. Оно не должно выполняться. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"text-indent: -24px; line-height: 1.28; margin: 0 0 11px 22px;\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">not [payment] is null</span> — поиск всех счетов, по которым внесена оплата, т. е. в поле значится не пустое значение.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">not [client_name] in ('Петров', 'Иванов')</span> — поиск заказов, в которых имя клиента не совпадает с указанным значением. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"query-priorities\"></a><span class=\"f_Heading3\">Приоритеты логических операций</span></h3>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">При использовании больше двух операций в одном запросе вы можете указать, выполнение какого условия является приоритетным. Оно проверяется в первую очередь и будет отображаться в результатах поиска выше других. Для обозначения приоритетного выражения в сложных запросах используются круглые скобки. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">not ([client_name] like 'Алексей' or [client_name] like 'Андрей')</span> — в результате поиска будут выбраны заказы, имена клиентов которых не содержат первое или второе указанное значение.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">(not [client_name] = 'Алексей') and [client_name] like 'Ал'</span> — в результате поиска отобразятся заказы, в которых имя клиента не равняется первому значению — <span style=\"font-weight: bold;\">Алексей</span>, но содержит второе значение — <span style=\"font-weight: bold;\">Ал</span>.  </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"functions\"></a><span class=\"f_Heading2\">Функции</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Функции в EQL-запросах можно использовать для присвоения значения свойствам приложения, а также для его вычисления:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"1\"><span style=\"font-weight: bold;\">Дата</span><span style=\"font-size: 13px;\"> — </span><code><b>Datetime()</b></code><span style=\"font-size: 13px;\">.</span></li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Функция определяет представление заданной даты. Параметры прописываются в круглых скобках с перечислением через запятую.</p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">В качестве параметров указываются числовые значения года, месяца, дня, часа, минуты, секунды и строковое представление часового пояса. Обязательным параметром является только обозначение года, остальные — указываются опционально. Если вы не выбрали время, в запросе принимается значение ноль часов, минут и секунд. </p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Вы можете задать дату функциями, которые вычисляются в момент выполнения запроса:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-weight: bold;\">Сегодня</span> — <code><b>Today</b></code><span style=\"font-size: 13px;\"> </span>текущая дата;<span style=\"font-weight: bold;\"> </span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-weight: bold;\">Сейчас</span> — <code><b>Now</b></code><span style=\"font-size: 13px;\"> </span>текущее время.  </li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов  </p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[__createdAt] &gt; Datetime(2024)</span> — поиск элементов с датой создания позднее 2024 года.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[__createdAt] &gt; Datetime(2025, 1, 31)</span> — поиск элементов с датой создания позднее, чем 31 января 2025 года.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">[finish_date] &gt; Datetime(2025, 2, '+09:00')</span> — поиск заказов, сборку которых завершили позднее, чем февраль 2025 года с учётом часового пояса. </li><li class=\"p_Normal\" value=\"4\"><span style=\"font-weight: bold;\">[__createdAt] &lt; Datetime('Now')</span> — поиск элементов с датой создания ранее, чем текущее время. </li><li class=\"p_Normal\" value=\"5\"><span style=\"font-weight: bold;\">[closing_date] &gt; Datetime('Today')</span> — поиск сделок, дата закрытия которых позднее, чем текущая дата.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li style=\"background: #ffffff; margin-top: 10px; margin-right: 0; margin-bottom: 0;\" value=\"2\"><span style=\"font-weight: bold;\">Время</span> <span style=\"font-size: 13px;\">— </span><code><b>Time()</b></code><span style=\"font-size: 13px;\">. </span></li></ol>\n<p style=\"background: #ffffff; margin: 10px 0 0 36px;\">Функция определяет представление времени, заданное в параметрах. В качестве параметров указываются числовые значения часа, минуты и секунды. Обязательным параметром является только обозначение часа. Параметры прописываются в круглых скобках с перечислением через запятую. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов  </p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[closing_time] &lt; Time(17)</span> — поиск сделок, закрытых позднее, чем 17:00.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[closing_time] &lt; Time(12, 30, 00)</span> — поиск сделок, закрытых позднее, чем 12:30. </li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"3\"><a class=\"hmanchor\" id=\"relative-date\"></a><span style=\"font-weight: bold;\">Относительное время</span> <span style=\"font-size: 13px;\">— </span><code><b>RelativeDatetime('start', 'end')</b></code><span style=\"font-size: 13px;\">. </span></li></ol>\n<p style=\"margin: 7px 0 7px 36px;\">Функция определяет временной промежуток, который рассчитывается относительно текущей даты, с учётом заданной в системе временной зоны. Для вычисления функции используются операторы <span style=\"font-weight: bold;\">=</span> или <span style=\"font-weight: bold;\">IN</span>. </p>\n<p style=\"margin: 7px 0 7px 37px;\">Период поиска прописывается в скобках. В функции всегда указываются параметры начала и окончания периода, которые заключаются в одинарные кавычки и разделяются запятой. Для вычисления каждого параметра используется цифробуквенное выражение или их комбинация:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-weight: bold;\">цифровое обозначение</span> — положительный или отрицательный количественный диапазон вычисления периода. Для поиска прошедшего периода используется знак минус, для последующих во времени дат — плюс. Ноль обозначает текущую дату и не требует использования знака плюса;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-weight: bold;\">буквенной обозначение</span> — разряд временного промежутка: час, день, год и т. д. Может указываться на английском и русском языках. </li></ul>\n<p style=\"margin: 7px 0 7px 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A1')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Доступные буквенные обозначения разряда временного промежутка</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A1\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 7px 0 7px 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"1\"><span style=\"font-weight: bold;\">ч / h</span> — час.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"2\"><span style=\"font-weight: bold;\">д / d</span> — день.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"3\"><span style=\"font-weight: bold;\">н / w</span> — неделя.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"4\"><span style=\"font-weight: bold;\">м / m</span> — месяц.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"5\"><span style=\"font-weight: bold;\">к / q </span>— квартал (три месяца).</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"6\"><span style=\"font-weight: bold;\">г / y </span>— год.</li></ol>\n</td>\n</tr>\n</table>\n</div>\n<p style=\"margin: 7px 0 7px 37px;\">Вычисление параметров выполняется последовательно. При этом расчёт осуществляется не в единицах от текущей даты, а по календарному периоду времени. </p>\n<p style=\"margin: 7px 0 7px 36px;\">Например, если текущая дата — 11 декабря 2025 года, и в функции начало периода задано параметром <span style=\"font-weight: bold;\">'-1m'</span> (минус один месяц), то вычитаться будут не 30 дней от наступившей даты, а календарный месяц. Таким образом началом периода в результатах поиска будет считаться 1 ноября 2025 года. </p>\n<p style=\"margin: 7px 0 7px 37px;\">Особенности вычисления параметров:    </p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><code><b>start</b></code> — параметр начала периода относительно текущей даты. В результат поиска включается вычисленное значение. Примеры ввода параметра:<ul style=\"list-style-type:circle\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'0h'</span> — поиск с текущей даты и начала текущего часа;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'+1m'</span> — поиск с начала следующего месяца;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'-1w+1d'</span> — дата начала поиска рассчитывается следующим образом: от текущего дня отнимается календарная неделя и прибавляется один день. Так, если текущий день недели — понедельник, поиск производится с начала вторника прошлой недели.</li></ul>\n</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><code><b>end</b></code> — параметр окончания периода относительно текущей даты. При вычислении к наименьшему отрезку времени, указанному в функции, добавляется единица. Полученное временное значение не включается в поиск, т. е. учитываются все значения являющиеся меньшими, но не равными вычисленному результату. Примеры ввода параметра:<ul style=\"list-style-type:circle\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'0h'</span> — поиск до конца текущего часа;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'0d'</span> — поиск до конца текущего дня;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'+1m'</span> — до конца следующего месяца;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 13px; font-weight: bold;\">'-1w+1d'</span> — дата окончания поиска рассчитывается следующим образом: вне зависимости от текущего дня недели расчёт начинается с понедельника прошлой календарной недели. Затем прибавляется прописанный в параметре один день, а также единица наименьшего отрезка времени — в данном случае это ещё один день. При вычислении получаем среду прошлой недели. Поскольку в окончание периода включаются все значения меньшие, но не равные вычисленному параметру, поиск производится до конца вторника прошлой недели.</li></ul></li></ul>\n<p style=\"margin: 7px 0 7px 36px;\">Обратите внимание, в результате вычисления начало периода не должно быть большим или равным его окончанию, а окончание — меньшим или равным началу. При составлении такого запроса вы увидите ошибку о неверно указанном формате относительных дат.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 7px 0 7px 0;\">Примеры наиболее распространённых запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"1\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('0d', '0d')</span> — поиск за текущую дату.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"2\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('-1d', '-1d')</span> — поиск за предыдущий день.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"3\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('0w', '0w')</span> — элементы за текущую неделю.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"4\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('-1w', '-1w')</span> — поиск за прошлую неделю.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"5\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('-7d', '-1d')</span> — элементы за предыдущие семь дней.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"6\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('+1w', '+1w')</span> — учитывается вся следующая неделя.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"7\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('-1w+2d', '-1w+3d')</span> — поиск с прошлой среды до конца прошлого четверга.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"8\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('-1m', '+1m')</span> — поиск с начала прошлого месяца и до конца следующего месяца.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"9\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('0y+3q','0y')</span> — элементы за третий и четвёртый квартал текущего года, т. е. поиск с третьего квартала по конец года.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"10\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('0y-2m', '0y-1m')</span> — поиск за последний и предпоследний месяц прошлого года.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"11\"><span style=\"font-size: 13px; font-weight: bold;\">[date] IN RelativeDatetime('+1y', '+1y0m')</span> — учитывается весь первый месяц следующего года.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\"><span style=\"font-weight: bold;\">Количество</span><span style=\"font-size: 13px;\"> — </span><code><b>Count()</b></code><span style=\"font-size: 13px;\">.</span></li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Функция определяет количество элементов параметра. В качестве параметра может выступать свойство, содержащее множественное значение или подзапрос. В операциях сравнения функция указывается перед вычисляемым параметром без пробела. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">count([orders]) &gt; 3</span> — поиск компаний, для которых создано более трёх заказов.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">count(from [documents.contract] where parent.[__id] in [client] and [total] &gt; 10000) &gt; 2</span> — поиск компаний, для которых создано более двух договоров, где общая сумма превышает 10 000 рублей.</li><li class=\"p_Normal\" value=\"3\"><span style=\"font-weight: bold;\">count(from [_clients._contacts] where parent.[_email] = [_email] and parent.[_phone] = [_phone]) &gt; 1</span> — в рамках приложения <span style=\"font-weight: bold;\">Контакты</span> осуществляется поиск элементов, в которых указаны одинаковые электронные адреса и номера телефонов.</li></ol>\n<p class=\"p_Normal\">В примерах 2 и 3 используется <a class=\"topiclink\" href=\"eql-syntax.html#from-where\">вложенный подзапрос с оператором PARENT</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"5\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"5\"><a class=\"hmanchor\" id=\"current-user\"></a><span style=\"font-weight: bold;\">Текущий пользователь</span> <span style=\"font-size: 13px;\">— </span><code><b>CurrentUser()</b></code><span style=\"font-size: 13px;\">.</span></li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Функция возвращает идентификатор текущего пользователя. Используется для определения значения свойства приложения. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример </p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">[responsible] = CurrentUser()</span> — заказы, за которые ответственен текущий пользователь. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"6\" style=\"list-style-type:upper-roman\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"6\"><a class=\"hmanchor\" id=\"refitem\"></a><span style=\"font-weight: bold;\">Элемент коллекции</span> — <code><b>Refitem()</b></code><span style=\"font-size: 13px;\">.</span></li></ol>\n<p style=\"text-indent: -1px; line-height: 1.28; margin: 0 0 11px 36px;\">Функция получения элемента из поля типа <a class=\"topiclink\" href=\"360009707032.html#arbitrary-app\">Произвольное приложение</a>. Возвращает элементы, поля которых ссылаются на определённый элемент другого приложения. В функции указывается путь до элемента, включая код раздела и приложения, в котором он создан, и строковое представление его идентификатора. </p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 36px;\">Параметры прописываются двумя способами. Каждое значение заключается в одинарные кавычки и разделяется запятой. Также весь путь можно указать в одинарных кавычках и объединить параметры двоеточием.  </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры запросов</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[bill] = Refitem('documents', 'bills', '018a8dbb-04cd-7798-a363-aae245148b10')</span> или <span style=\"font-weight: bold;\">[bill] = Refitem('documents:bills:018a8dbb-04cd-7798-a363-aae245148b10')</span> — равнозначные запросы, в которых осуществляется поиск по полю <span style=\"font-weight: bold;\">Счет</span> в элементах приложения <span style=\"font-weight: bold;\">Договоры</span>. В результате отобразится договор, к которому привязан определённый счёт из другого раздела и приложения.</li><li class=\"p_Normal\" value=\"2\"><span style=\"font-weight: bold;\">[bill] is null</span> — поиск договоров, в которых не указан счёт, т. е. нет ссылки на элемент приложения <span style=\"font-weight: bold;\">Счета</span>.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"subquery\"></a><span class=\"f_Heading2\">Подзапросы</span></h2>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">Подзапрос — это вложенный EQL-запрос, который является частью другого запроса. При составлении выражения из нескольких запросов подзапрос выделяется круглыми скобками.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера </span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">not ([__name] like 'Алекс' or [__name] like 'Ан')</span> — <span style=\"color: #394149;\">найдёт все элементы, у которых название не содержит значения </span><span style=\"font-weight: bold; color: #394149;\">Алекс</span><span style=\"color: #394149;\"> или </span><span style=\"font-weight: bold; color: #394149;\">Ан</span>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера  </span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"from-where\"></a><span class=\"f_Heading3\">Операторы выборки в подзапросах</span></h3>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">Подзапросы позволяют находить элементы приложений по указанным значениям, например, карточки компаний с договором, оформленным не позднее определённой даты. </p>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">Параметры поиска в подзапросе задаются при помощи операторов:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><code><b>SELECT_FROM_WHERE</b></code> или <code><b>FROM_SELECT_WHERE</b></code><span style=\"font-size: 13px;\"> </span>— чтобы обратиться к элементам из других разделов системы, а также к свойствам типа <a class=\"topiclink\" href=\"360009707032.html#arbitrary-app\">Произвольное приложение</a>;</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><code><b>FROM_WHERE</b></code> — <span style=\"color: #394149;\">чтобы произвести выборку элементов по свойствам текущего или другого приложения. Применяется вместе с:</span><ul style=\"list-style-type:circle\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"color: #394149;\">операторами </span><code><b>PARENT</b></code><span style=\"color: #394149;\"> или </span><code><b>ROOT</b></code><span style=\"font-size: 13px;\"> </span>—<span style=\"color: #394149;\"> позволяют устанавливать связь между приложениями, чтобы произвести поиск элементов по указанному свойству;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"color: #394149;\">функцией </span><code><b>Count()</b></code><span style=\"color: #394149;\"> </span>— определяет<span style=\"color: #394149;\"> количество элементов, удовлетворяющих условиям поиска.</span></li></ul></li></ul>\n<h4 class=\"p_Heading4\"><span class=\"f_Heading4\">Синтаксис операторов выборки</span></h4>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">В каждом подзапросе указываются:</p>\n<ol style=\"list-style-type:decimal\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"1\"><span style=\"font-weight: bold;\">Источник данных</span> — код приложения, из которого выбираются данные.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"2\"><span style=\"font-weight: bold;\">Свойство для поиска</span> — определяет, какое именно свойство в источнике данных используется для поиска.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"3\"><span style=\"font-weight: bold;\">Условие поиска</span> — критерий, по которому выполняется фильтрация данных.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><span style=\"font-weight: bold;\">[clients] in (select [__id] from [clients.orders] where [total] &gt; 1000)</span> — выборка элементов приложения <span style=\"font-weight: bold;\">Клиенты</span>, для которых созданы заказы с суммой более 1 000 рублей.</li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\"><span style=\"font-weight: bold; color: #394149;\">[contracts] in (select [__id] from [clients.leads] where [__name] = 'ООО Пристань')</span><span style=\"color: #394149;\"> — поиск договоров из свойства типа </span><span style=\"font-weight: bold; color: #394149;\">Произвольное приложение</span><span style=\"color: #394149;\">, где имя компании совпадает с указанным в запросе.</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"3\"><span style=\"font-weight: bold; color: #394149;\">count(from [orders.products] where parent.[product_number] = [product_number]) &gt; 1</span><span style=\"color: #394149;\"> — выборка элементов приложения </span><span style=\"font-weight: bold; color: #394149;\">Товары</span><span style=\"color: #394149;\"> с одинаковым значением в поле </span><span style=\"font-weight: bold; color: #394149;\">Артикул</span><span style=\"color: #394149;\">.</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"4\"><span style=\"font-size: 13px; font-weight: bold; color: #394149;\">count(from [bookstore.book] where parent.[__id] in [authors]) &gt; 0</span><span style=\"font-size: 13px; color: #394149;\"> — поиск авторов, в карточке которых указана хотя бы одна книга. </span></li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 13px; color: #394149;\">В примерах 3 и 4 используется вложенный подзапрос с оператором </span><code><b>PARENT</b></code><span style=\"font-size: 13px; color: #394149;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Вложенные подзапросы</span></h3>\n<p style=\"background: #ffffff; margin: 10px 0 0 0;\">Подзапросы могут включать в себя другие подзапросы. Чтобы понимать уровень вложенности, для обращения к свойствам приложения используются операторы:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"background: #ffffff; margin-top: 10px; margin-right: 0; margin-bottom: 0;\"><code><b>PARENT</b></code> — используется для обращения к свойствам родительского приложения, которое находится в запросе на один уровень выше;</li><li style=\"background: #ffffff; margin-top: 10px; margin-right: 0; margin-bottom: 0;\"><code><b>ROOT</b></code><span style=\"font-weight: bold;\"> </span>— обращается к полям корневого приложения, которое указывается в начале запроса. Например, это приложение, на странице которого осуществляется EQL-поиск.</li></ul>\n<p class=\"p_Normal\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A2')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Примеры вложенных запросов</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A2\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\">Предположим, раздел содержит два приложения: <span style=\"font-weight: bold;\">Заказы</span> и <span style=\"font-weight: bold;\">Контакты</span>. Заказ привязывается только к одному клиенту. Нужно проверить, что нет заказов, которые ошибочно указаны у более чем одного клиента. Для этого задайте EQL‑запрос:<br/>\n <br/>\n<span style=\"font-weight: bold;\">count(from [clients.contacts] where parent.[__id] in [order]) &gt; 1 </span><br/>\n<span style=\"font-weight: bold;\"> </span><br/>\nВ запросе задайте условия:</li></ol>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">заказ указан в элементе приложения <span style=\"font-weight: bold;\">Контакты</span> (<code><b>contacts</b></code>) в поле с кодом <code><b>order</b></code>;</li><li class=\"p_Normal\">количество найденных клиентов для заказа больше одного.<br/>\n <br/>\nДля этого используйте:</li></ul></ul>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">функцию <code><b>Count()</b></code>, чтобы посчитать найденные элементы из приложения <span style=\"font-weight: bold;\">Контакты</span>;</li><li class=\"p_Normal\">операторы <code><b>FROM_WHERE</b></code> и <code><b>PARENT</b></code>, чтобы задать условие поиска заказов в приложении <span style=\"font-weight: bold;\">Контакты</span>:<ul style=\"list-style-type:square\">\n<li class=\"p_Normal\"><code><b>FROM_WHERE</b></code> указывает на приложение, в котором ищется свойство <code><b>[__id]</b></code> приложения <span style=\"font-weight: bold;\">Заказы</span>;</li><li class=\"p_Normal\"><code><b>PARENT</b></code> позволяет связать приложение <span style=\"font-weight: bold;\">Заказы</span>, свойство которого используется для поиска;</li></ul>\n</li><li class=\"p_Normal\">операцию <code><b>&gt;</b></code>, чтобы задать условие, при котором количество найденных клиентов для заказа больше одного.</li></ul></ul>\n<ol start=\"2\" style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"2\">Предположим, раздел содержит приложения: <span style=\"font-weight: bold;\">Авторы книг</span>, <span style=\"font-weight: bold;\">Книги</span> и <span style=\"font-weight: bold;\">Договоры на копирайт</span>. Между авторами книг и договорами на копирайт нет прямой связи. Но оба эти приложения связаны с приложением <span style=\"font-weight: bold;\">Книги</span>. В приложении <span style=\"font-weight: bold;\">Авторы книг</span> нужно найти писателей, с которыми заключено более одного договора о правах на книгу. Для этого задайте EQL‑запрос:<br/>\n <br/>\n<span style=\"font-weight: bold;\">count(from [bookstore.book] where root.[__id] in [authors] and (count(from [bookstore.copyright] where parent.[__id] = [book]) &gt; 0)) &gt; 1 </span><br/>\n<span style=\"font-weight: bold;\"> </span><br/>\nВ запросе задайте условия:</li></ol>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">автор указан в элементе приложения <span style=\"font-weight: bold;\">Книги</span> (<code><b>book</b></code>) в поле с кодом <code><b>authors</b></code>;</li><li class=\"p_Normal\">книга добавлена в элемент приложения <span style=\"font-weight: bold;\">Договоры на копирайт</span> (<code><b>copyright</b></code>) в поле с кодом <code><b>book</b></code>;</li><li class=\"p_Normal\">книг, удовлетворяющих этим условиям, больше одной.<br/>\n <br/>\nДля этого используйте:</li></ul></ul>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">функцию <code><b>Count()</b></code>, чтобы посчитать:<ul style=\"list-style-type:square\">\n<li class=\"p_Normal\">количество книг, для которых оформлены договоры на права;</li><li class=\"p_Normal\">количество авторов, у которых больше одной книги с оформленным договором на права;</li></ul>\n</li><li class=\"p_Normal\">операторы <code><b>FROM_WHERE</b></code> и <code><b>ROOT</b></code>, чтобы задать условие поиска авторов в приложении <span style=\"font-weight: bold;\">Книги</span>:<ul style=\"list-style-type:square\">\n<li class=\"p_Normal\"><code><b>FROM_WHERE</b></code> указывает на приложение, в котором ищется свойство <code><b>[__id]</b></code> приложения <span style=\"font-weight: bold;\">Авторы</span>;</li><li class=\"p_Normal\"><code><b>ROOT</b></code> позволяет связать приложение <span style=\"font-weight: bold;\">Авторы</span>, свойство которого используется для поиска; </li></ul>\n</li><li class=\"p_Normal\">операторы <code><b>FROM_WHERE</b></code> и <code><b>PARENT</b></code>, чтобы задать условие поиска книг в приложении <span style=\"font-weight: bold;\">Договоры на копирайт</span>:<ul style=\"list-style-type:square\">\n<li class=\"p_Normal\"><code><b>FROM_WHERE</b></code> указывает на приложение, в котором ищется свойство <code><b>[__id]</b></code> приложения <span style=\"font-weight: bold;\">Книги</span>;</li><li class=\"p_Normal\"><code><b>PARENT</b></code> позволяет связать приложение <span style=\"font-weight: bold;\">Книги</span>, свойство которого используется для поиска;</li></ul>\n</li><li class=\"p_Normal\">операцию <code><b>&gt;</b></code>, чтобы задать:<ul style=\"list-style-type:square\">\n<li class=\"p_Normal\">количество книг, для которых есть договоры на права (<span style=\"font-weight: bold;\">&gt;0</span>);</li><li class=\"p_Normal\">количество авторов, у которых больше одной книги с оформленным договором на права (<span style=\"font-weight: bold;\">&gt;1</span>).</li></ul></li></ul></ul>\n</td>\n</tr>\n</table>\n</div>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"eql365-search.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">eql365-search.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"app-data-in-scripts.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">app-data-in-scripts.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n<script type=\"text/javascript\">\nHMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A2','hm.type','dropdown','hm.state','0');\n</script>\n</body>\n</html>\n",
  "plain_text": "Синтаксис EQL-запроса ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Low-code дизайнер > Приложение > Поисковые запросы на языке EQL365 / Синтаксис EQL-запроса Синтаксис EQL-запроса Чтобы найти элемент приложения по параметрам, в EQL-запросе его свойствам задаются определённые значения. Для создания EQL‑запроса соблюдаются определённые правила и применяются особенности: Для обращения к свойствам приложения используются коды, присвоенные им при создании. Указывать код переменной необходимо в квадратных скобках: [property_name] . Указывается операция поиска . Используются стандартные математические знаки или ключевые слова языка EQL365. Искомое значение указывается с учётом правил присвоения значений свойствам различных типов . Для присвоения значения или его вычисления в запросе можно использовать функции , например, для указания определённой даты или поиска в свойстве типа Пользователи текущего сотрудника. Для присвоения значений свойствам в рамках запроса можно создать параметр и обращаться к нему множество раз. Значение параметра указывается после составления запроса в полях, добавленных в окно поиска автоматически. Чтобы осуществлять поиск по нескольким условиям, в запрос добавляются логические операторы . При этом можно указывать условие, выполнение которого будет проверяться первым. Для составления сложных выборок данных можно использовать подзапросы . Внутри подзапроса можно обращаться к свойствам любого приложения в системе. Все составляющие запроса указываются через пробел. начало примера Примеры поиска элементов по составленным EQL-запросам [company_name] = 'АвтоПром' or [company_name] like 'Авто' — поиск элементов приложения Компании , в которых поле Название полностью совпадает с первым указанным значением или содержит второе. [__createdAt] = Datetime(2025, 1) and [price] > 4000 — поиск записей приложения Заказы , у которых в поле Дата создания указан январь 2025 года и поле Стоимость содержит значение большее, чем 4 000 рублей. [contract] in (select [__id] from [documents.contracts] where [total] > 10000) — поиск записей приложения Контрагенты , где в поле Договор указан элемент приложения, в котором сумма превышает 10 000 рублей. конец примера Присвоение значения свойствам различных типов Для корректной обработки EQL-запроса все его составляющие указываются через пробел. При написании запроса можно использовать опцию автозаполнения строки. Чтобы вызвать выпадающее меню с доступными свойствами, функциями и операторами, нажмите Ctrl + Пробел . Для указания значений в различных типах свойств из контекста приложений используются определённые правила. Они приведены в таблице: Тип данных Правило присвоения значения Пример Строка Задаётся строкой в одинарных кавычках. [authors_name] like 'Алекс' — поле Имя автора содержит значение Алекс . [product] in ('вентилятор', 'холодильник') — поле Продукт содержит одно из указанных значений. [authors_name] is null — имя автора не указано. Число, Деньги Используется значение искомого числа без кавычек. Дробные числа разделяются точкой. [size] < 5.5 — в поле Размер указано значение меньше, чем 5,5 метров. [price] >= 5000 — значение поля Стоимость больше или равно 5 000 рублей. Выбор «да/нет» Задаётся значением true без кавычек. [prepayment] = true — в поле Предоплата выбрано значение Да . [prepayment] <> true — в поле Предоплата не указано значение или выбрано Нет . [prepayment] is null — поле Предоплата не заполнено. Дата/время Задаётся следующими способами: функцией Datetime() или Time() , аргументы прописываются через запятую; строкой в одинарных кавычках, даты прописываются через тире. Использовать можно укороченное написание части даты, а также указывать время, в том числе с использованием часового пояса. Период времени относительно текущей даты вычисляется функцией RelativeDatetime('start', 'end') . В круглых скобках указывается начало и конец периода, параметры заключаются в одинарные кавычки и разделяются запятыми. [close_date] > Datetime(2025, 1, 31, 12) ; [close_date] > '2025-01-31-12' . Оба запроса используются для поиска поля Дата закрытия со значением позднее, чем 31 января 2025 года после полудня. [close_date] < '2025-01-31T12:30:00' — дата закрытия произошла ранее, чем 31 января 2025 года в 12:30. [close_date] < '2025-01-31T12:30+09:00' — дата закрытия со значением ранее, чем 31 января 2025 года в 12:30 с учётом часового пояса UTC+09:00. [__createdAt] IN RelativeDatetime('-1m','0d') — поиск всех элементов, созданных с начала прошлого месяца и до текущей даты. Категория Задаётся кодом категории в одинарных кавычках. [payment] in ('half', 'full') — в поле Оплата выбраны значения Частично и Полная предоплата . Номер телефона Задаётся строкой в одинарных кавычках. [phone] = '+71234567890' — поле Телефон заполнено указанным значением. Электронная почта Задаётся строкой в одинарных кавычках. [email] = 'admin@example.com' — поле Электронная почта заполнено указанным значением. Ф.И.О. Задаётся строкой в одинарных кавычках. [contact] like 'Иван' — поле Контактное лицо содержит указанное значение. Пользователи Задаётся строковым представлением идентификатора в одинарных кавычках, без пробелов. Чтобы найти идентификатор пользователя, перейдите в раздел Компания > Сотрудники , выберите нужную карточку и скопируйте значение в url-адресе страницы. [responsible] = '95806fe5-f8e8-460c-b2be-ce607068726c' — в поле Ответственный указан определённый пользователь. Приложение Задаётся строковым представлением идентификатора в одинарных кавычках, без пробелов. Чтобы найти идентификатор элемента, перейдите на страницу нужного приложения, выберите запись и скопируйте значение в url-адресе страницы. Поиск выборкой данных по критериям. Указывается с помощью подзапроса с функцией вида Select_From_Where . [app] = '018a1c61-c2b9-7701-86ab-d8b39a143465' — в поле выбран элемент текущего приложения с указанным идентификатором. [order] in (select [__id] from [clients] where [__name] like ' Хол ' ) — поиск заказа из приложения Клиенты , где имя компании содержит указанное значение. Произвольное приложение Поиск осуществляется по коду элемента двумя способами: Задаётся идентификатором определённого элемента: поиск элемента коллекции с помощью функции Refitem() . В скобках через запятую прописывается код раздела, приложения и идентификатор элемента. Каждое значение отделяется одинарными кавычками; строкой в одинарных кавычках. Путь до элемента указывается без пробелов, через двоеточие. Используется выборка данных по критериям. Указывается с помощью подзапроса с функцией вида Select_From_Where . Запрос для поиска элементов, у которых в поле Договор указана определённая запись из раздела Клиенты > Договоры : [contract] = Refitem('clients', 'contracts', '1415381a-1197-11ee-be56-0242ac120002') ; [client] = 'clients:contracts:1415381a-1197-11ee-be56-0242ac120002' . Запрос для поиска всех элементов из раздела Клиенты > Договоры , где указан заказ с суммой более 1 000 рублей: [contract] in (select [__id] from [clients.orders] where [total] > 1000) . Статус Задаётся числовым представлением идентификатора статуса. [__status] = 1 — элементу присвоен первый по счёту статус. Можно искать элементы, в полях которых не указано никакого значения. Для этого в запросе используется операция Is null или Is empty . Исключения составляют свойства типа Номер телефона и Электронная почта . Создание параметров в EQL-запросе и их использование В запросе можно создать параметр для определённого свойства, чтобы подставлять в него различные значения и находить подходящие элементы приложения. Сам запрос изменять при этом не нужно. Такой параметр добавляется на форму поиска в виде дополнительного поля, в котором указываются искомые значения. Запрос с параметром можно сохранить как фильтр для его многократного использования. Фильтр появляется на боковой панели окна расширенного поиска. Чтобы создать параметр: В квадратных скобках укажите код свойства приложения, по которому будет выполняться поиск. Добавьте к нему знак равенства и значок @, а затем произвольное название параметра на латинице или кириллице. Чтобы найти элементы по нескольким параметрам, свяжите условия поиска с помощью операторов AND или OR . Подробнее о них читайте в разделе «Логические операторы-связки» . При поиске по запросу с параметрами пользователи могут: указать в появившихся полях значения параметров и запустить поиск; сохранить составленный запрос как фильтр. Кнопка Сохранить активна внизу окна, если в полях не заданы значения. начало примера Пример запроса [__createdBy] = @Пользователь AND [budget] = @Сумма — в запросе заданы два параметра, чтобы находить сделки по автору и сумме. В окне поиска добавилось два поля Пользователь и Сумма согласно созданным параметрам. конец примера Операции поиска Для присвоения значения в EQL-запросе используются операции поиска. Они могут обозначаться математическими знаками или ключевыми словами языка EQL365. Операции с использованием знаков Такие операции строятся по одинаковому принципу. В качестве первого операнда указывается код свойства. Ему присваивается определённое значение. Вторым операндом выступает заданное значение, другое свойство или функция. К таким операциям относятся: Равенство — операция = . Операция проверки точного совпадения. Не рекомендуется использовать со свойствами типа Дата/время , так как точное совпадение значения поля маловероятно. начало примера Примеры запросов [client] = 'Иванов' — поиск клиента с указанным именем. [payment] = [budget] — поиск полей Оплата , совпадающих с полем Бюджет . [responsible] = CurrentUser() — поиск элементов с текущим пользователем в качестве ответственного. конец примера Неравенство — операция <> . Операция проверки исключения точного совпадения. начало примера Примеры запросов [product] <> 'Оборудование' — поиск заказов, где в поле Продукт не значится указанное значение. [payment] <> [budget] — поиск заказов, где поле Оплата не совпадает с полем Бюджет . [responsible] <> CurrentUser() — поиск элементов, в которых в качестве ответственного не значится текущий пользователь. конец примера Более чем — операция > . Операция проверки строгого большего. начало примера Примеры запросов [price] > 10000 — поиск заказов со стоимостью, превышающей указанное значение. [payment] > [budget] — поиск заказов, где поле Оплата больше поля Бюджет . [shipping_date] > Datetime(2025, 1, 31, 12) — поиск заказов с датой отгрузки позднее, чем указанная дата и время 12:00. конец примера Больше или равно — операция >= . Операция проверки нестрогого большего. начало примера Примеры запросов [price] >= 10000 — поиск заказов со стоимостью, равной или превышающей указанное значение. [payment] >= [budget] — поиск заказов, где поле Оплата больше или равняется полю Бюджет . [shipping_date] >= Datetime('Today') — поиск заказов с отгрузкой в текущую дату на момент времени 00:00:00 или позднее. конец примера Менее чем — операция < . Операция проверки строгого меньшего. начало примера Примеры запросов [price] < 10000 — поиск заказов со стоимостью ниже указанного значения. [payment] < [budget] — поиск заказов, где поле Оплата меньше, чем поле Бюджет . [shipping_date] < Datetime('Today') — поиск заказов с датой отгрузки ранее, чем текущая дата на момент времени 00:00:00. конец примера Меньше или равно — операция <= . Операция проверки нестрогого меньшего. начало примера Примеры запросов [price] <= 10000 — поиск заказов, в которых стоимость ниже или равняется указанному значению. [payment] <= [budget] — поиск заказов, где поле Оплата меньше или равняется полю Бюджет . [shipping_date] <= Datetime('Today') — поиск заказов с отгрузкой в текущую дату на момент времени 00:00:00 или ранее. конец примера Операции с ключевыми словами языка EQL365 Частичное совпадение строки — операция LIKE . Операция LIKE используется для поиска частичного совпадения текста независимо от регистра. Она позволяет находить вхождения указанного значения в любую часть строки, возвращая все строки, содержащие искомый фрагмент. начало примера Пример [responsible] like 'Алекс' — поиск всех элементов, где в поле Ответственный присутствует данное значение. конец примера Полное совпадение строки — операция LIKEF . Операция LIKEF позволяет искать точные совпадения текста, а также задавать правила для поиска указанного значения в определённой части строки. Использование операции помогает сузить результаты поиска. Доступные свойства для использования LIKEF : Строка ; Категория ; Учетная запись ; Номер телефона ; Электронная почта ; Ф.И.О ; Ссылка . Правила для создания запросов с операцией LIKEF : символ _ — нижнее подчёркивание обозначает любой один символ. Может использоваться до или после искомого значения; символ % — процент указывает, что перед или после искомого значения может находиться любое количество символов; комбинирование символов — символы _ и % можно комбинировать и использовать в запросе множество раз для построения сложных шаблонов поиска; экранирование символов — если значение содержит управляющие символы ( _ или % ), их нужно экранировать обратной косой чертой \\ . начало примера Примеры [client] likef ' Иван ' — найдёт записи, где поле Клиент содержит точное значение Иван . Например, Иван Краснов, Иван Круглов и т. д. [string] likef '_010203' — ищет строки, начинающиеся с любого символа, за которым следует указанное значение 010203 . [phone] likef '7912%' — вернёт все записи, номер телефона в которых начинается на 7912 и содержит любое количество символов. [order_name] likef 'Продукты%10_2024' — находит заказы, где название начинается на значение Продукты , содержит любое количество символов, а оканчиваются на 10 , любой один символ и 2024 . [email] likef '_petrov\\%@example%' — найдёт электронные адреса, которые начинаются с одного неизвестного символа, содержат petrov%@example и оканчиваются любым доменом. Знак процента, содержащийся в адресе, экранируется \\ . конец примера Для запросов с операциями LIKE и LIKEF может применяться равнозначность букв Е и Ё при поиске . Обратите внимание, что администратор системы может отключить эту возможность. Проверка на отсутствие значения — операция IS NULL или IS EMPTY . Операции IS NULL и IS EMPTY используются в любом регистре для проверки отсутствия значения в указанном поле. Они позволяют находить элементы приложений, у которых поле не содержит данных. начало примера Пример [budget] is null или [budget] is empty — равнозначные запросы для поиска заказов, где не указан бюджет. конец примера Вхождение в множество — операция IN . Регистронезависимая операция проверки содержания свойства приложения. Искомые значения указываются в круглых скобках, перечисляются через запятую и не разделяются пробелами. В качестве значения может выступать подзапрос. При использовании в запросе функции поиска текущего пользователя аргументы можно указывать в любом порядке. начало примера Примеры запросов [order_number] in (6,7,8,9) — поиск всех заказов, в номерах которых содержатся перечисленные числа. [client] in ('Алексей', 'Андрей', 'Иванов') — поиск всех клиентов с перечисленными именами. [__createdBy] in CurrentUser() или CurrentUser() in [__createdBy] — равнозначные запросы для поиска всех элементов, созданных текущим пользователем системы. [orders] in (select [__id] from [documents.contracts] where [total] > 10000) — выборка всех заказов, в договорах которых в поле Сумма указано значение более 10 000 рублей. Подробнее о составлении таких выражений читайте в разделе «Подзапросы» . конец примера Логические операторы-связки Логические операторы используются для проверки нескольких условий в одном запросе: Логическое И — оператор AND объединяет несколько условий. При этом все условия должны выполняться. начало примера Примеры запросов [prepayment] = 1000 and [budget] > 3000 — поиск заказов, за которые внесли предоплату равную 1 000 рублей и бюджет которых превышает 3 000 рублей. [__createdAt] >= Datetime(2025, 1) and [__createdAt] < Datetime(2025, 3) — поиск всех элементов, которые были созданы за январь и февраль 2025 года, т. е. дата равняется или больше января и не превышает март. конец примера Логическое ИЛИ — оператор OR объединяет несколько условий и запрашивает выполнение хотя бы одного из них. начало примера Примеры запросов [order_number] in (6,7) or [client] is null — в результате поиска отобразятся заказы, в номерах которых присутствуют указанные числа или для которых не заполнен клиент. [client] like 'Алекс' or [orders] in (from [documents.contracts] select [__id] where [total] > 10000) — поиск заказов, в которых имя клиента содержит указанное значение или сумма договора превышает 10 000 рублей. В примере используется подзапрос с оператором выборки FROM_SELECT_WHERE . конец примера Логическое НЕ — оператор NOT применяется для одного условия. Оно не должно выполняться. начало примера Примеры запросов not [payment] is null — поиск всех счетов, по которым внесена оплата, т. е. в поле значится не пустое значение. not [client_name] in ('Петров', 'Иванов') — поиск заказов, в которых имя клиента не совпадает с указанным значением. конец примера Приоритеты логических операций При использовании больше двух операций в одном запросе вы можете указать, выполнение какого условия является приоритетным. Оно проверяется в первую очередь и будет отображаться в результатах поиска выше других. Для обозначения приоритетного выражения в сложных запросах используются круглые скобки. начало примера Примеры запросов not ([client_name] like 'Алексей' or [client_name] like 'Андрей') — в результате поиска будут выбраны заказы, имена клиентов которых не содержат первое или второе указанное значение. (not [client_name] = 'Алексей') and [client_name] like 'Ал' — в результате поиска отобразятся заказы, в которых имя клиента не равняется первому значению — Алексей , но содержит второе значение — Ал . конец примера Функции Функции в EQL-запросах можно использовать для присвоения значения свойствам приложения, а также для его вычисления: Дата — Datetime() . Функция определяет представление заданной даты. Параметры прописываются в круглых скобках с перечислением через запятую. В качестве параметров указываются числовые значения года, месяца, дня, часа, минуты, секунды и строковое представление часового пояса. Обязательным параметром является только обозначение года, остальные — указываются опционально. Если вы не выбрали время, в запросе принимается значение ноль часов, минут и секунд. Вы можете задать дату функциями, которые вычисляются в момент выполнения запроса: Сегодня — Today текущая дата; Сейчас — Now текущее время. начало примера Примеры запросов [__createdAt] > Datetime(2024) — поиск элементов с датой создания позднее 2024 года. [__createdAt] > Datetime(2025, 1, 31) — поиск элементов с датой создания позднее, чем 31 января 2025 года. [finish_date] > Datetime(2025, 2, '+09:00') — поиск заказов, сборку которых завершили позднее, чем февраль 2025 года с учётом часового пояса. [__createdAt] < Datetime('Now') — поиск элементов с датой создания ранее, чем текущее время. [closing_date] > Datetime('Today') — поиск сделок, дата закрытия которых позднее, чем текущая дата. конец примера Время — Time() . Функция определяет представление времени, заданное в параметрах. В качестве параметров указываются числовые значения часа, минуты и секунды. Обязательным параметром является только обозначение часа. Параметры прописываются в круглых скобках с перечислением через запятую. начало примера Примеры запросов [closing_time] < Time(17) — поиск сделок, закрытых позднее, чем 17:00. [closing_time] < Time(12, 30, 00) — поиск сделок, закрытых позднее, чем 12:30. конец примера Относительное время — RelativeDatetime('start', 'end') . Функция определяет временной промежуток, который рассчитывается относительно текущей даты, с учётом заданной в системе временной зоны. Для вычисления функции используются операторы = или IN . Период поиска прописывается в скобках. В функции всегда указываются параметры начала и окончания периода, которые заключаются в одинарные кавычки и разделяются запятой. Для вычисления каждого параметра используется цифробуквенное выражение или их комбинация: цифровое обозначение — положительный или отрицательный количественный диапазон вычисления периода. Для поиска прошедшего периода используется знак минус, для последующих во времени дат — плюс. Ноль обозначает текущую дату и не требует использования знака плюса; буквенной обозначение — разряд временного промежутка: час, день, год и т. д. Может указываться на английском и русском языках. Доступные буквенные обозначения разряда временного промежутка ч / h — час. д / d — день. н / w — неделя. м / m — месяц. к / q — квартал (три месяца). г / y — год. Вычисление параметров выполняется последовательно. При этом расчёт осуществляется не в единицах от текущей даты, а по календарному периоду времени. Например, если текущая дата — 11 декабря 2025 года, и в функции начало периода задано параметром '-1m' (минус один месяц), то вычитаться будут не 30 дней от наступившей даты, а календарный месяц. Таким образом началом периода в результатах поиска будет считаться 1 ноября 2025 года. Особенности вычисления параметров: start — параметр начала периода относительно текущей даты. В результат поиска включается вычисленное значение. Примеры ввода параметра: '0h' — поиск с текущей даты и начала текущего часа; '+1m' — поиск с начала следующего месяца; '-1w+1d' — дата начала поиска рассчитывается следующим образом: от текущего дня отнимается календарная неделя и прибавляется один день. Так, если текущий день недели — понедельник, поиск производится с начала вторника прошлой недели. end — параметр окончания периода относительно текущей даты. При вычислении к наименьшему отрезку времени, указанному в функции, добавляется единица. Полученное временное значение не включается в поиск, т. е. учитываются все значения являющиеся меньшими, но не равными вычисленному результату. Примеры ввода параметра: '0h' — поиск до конца текущего часа; '0d' — поиск до конца текущего дня; '+1m' — до конца следующего месяца; '-1w+1d' — дата окончания поиска рассчитывается следующим образом: вне зависимости от текущего дня недели расчёт начинается с понедельника прошлой календарной недели. Затем прибавляется прописанный в параметре один день, а также единица наименьшего отрезка времени — в данном случае это ещё один день. При вычислении получаем среду прошлой недели. Поскольку в окончание периода включаются все значения меньшие, но не равные вычисленному параметру, поиск производится до конца вторника прошлой недели. Обратите внимание, в результате вычисления начало периода не должно быть большим или равным его окончанию, а окончание — меньшим или равным началу. При составлении такого запроса вы увидите ошибку о неверно указанном формате относительных дат. начало примера Примеры наиболее распространённых запросов [date] IN RelativeDatetime('0d', '0d') — поиск за текущую дату. [date] IN RelativeDatetime('-1d', '-1d') — поиск за предыдущий день. [date] IN RelativeDatetime('0w', '0w') — элементы за текущую неделю. [date] IN RelativeDatetime('-1w', '-1w') — поиск за прошлую неделю. [date] IN RelativeDatetime('-7d', '-1d') — элементы за предыдущие семь дней. [date] IN RelativeDatetime('+1w', '+1w') — учитывается вся следующая неделя. [date] IN RelativeDatetime('-1w+2d', '-1w+3d') — поиск с прошлой среды до конца прошлого четверга. [date] IN RelativeDatetime('-1m', '+1m') — поиск с начала прошлого месяца и до конца следующего месяца. [date] IN RelativeDatetime('0y+3q','0y') — элементы за третий и четвёртый квартал текущего года, т. е. поиск с третьего квартала по конец года. [date] IN RelativeDatetime('0y-2m', '0y-1m') — поиск за последний и предпоследний месяц прошлого года. [date] IN RelativeDatetime('+1y', '+1y0m') — учитывается весь первый месяц следующего года. конец примера Количество — Count() . Функция определяет количество элементов параметра. В качестве параметра может выступать свойство, содержащее множественное значение или подзапрос. В операциях сравнения функция указывается перед вычисляемым параметром без пробела. начало примера Примеры запросов count([orders]) > 3 — поиск компаний, для которых создано более трёх заказов. count(from [documents.contract] where parent.[__id] in [client] and [total] > 10000) > 2 — поиск компаний, для которых создано более двух договоров, где общая сумма превышает 10 000 рублей. count(from [_clients._contacts] where parent.[_email] = [_email] and parent.[_phone] = [_phone]) > 1 — в рамках приложения Контакты осуществляется поиск элементов, в которых указаны одинаковые электронные адреса и номера телефонов. В примерах 2 и 3 используется вложенный подзапрос с оператором PARENT . конец примера Текущий пользователь — CurrentUser() . Функция возвращает идентификатор текущего пользователя. Используется для определения значения свойства приложения. начало примера Пример [responsible] = CurrentUser() — заказы, за которые ответственен текущий пользователь. конец примера Элемент коллекции — Refitem() . Функция получения элемента из поля типа Произвольное приложение . Возвращает элементы, поля которых ссылаются на определённый элемент другого приложения. В функции указывается путь до элемента, включая код раздела и приложения, в котором он создан, и строковое представление его идентификатора. Параметры прописываются двумя способами. Каждое значение заключается в одинарные кавычки и разделяется запятой. Также весь путь можно указать в одинарных кавычках и объединить параметры двоеточием. начало примера Примеры запросов [bill] = Refitem('documents', 'bills', '018a8dbb-04cd-7798-a363-aae245148b10') или [bill] = Refitem('documents:bills:018a8dbb-04cd-7798-a363-aae245148b10') — равнозначные запросы, в которых осуществляется поиск по полю Счет в элементах приложения Договоры . В результате отобразится договор, к которому привязан определённый счёт из другого раздела и приложения. [bill] is null — поиск договоров, в которых не указан счёт, т. е. нет ссылки на элемент приложения Счета . конец примера Подзапросы Подзапрос — это вложенный EQL-запрос, который является частью другого запроса. При составлении выражения из нескольких запросов подзапрос выделяется круглыми скобками. начало примера Пример not ([__name] like 'Алекс' or [__name] like 'Ан') — найдёт все элементы, у которых название не содержит значения Алекс или Ан . конец примера Операторы выборки в подзапросах Подзапросы позволяют находить элементы приложений по указанным значениям, например, карточки компаний с договором, оформленным не позднее определённой даты. Параметры поиска в подзапросе задаются при помощи операторов: SELECT_FROM_WHERE или FROM_SELECT_WHERE — чтобы обратиться к элементам из других разделов системы, а также к свойствам типа Произвольное приложение ; FROM_WHERE — чтобы произвести выборку элементов по свойствам текущего или другого приложения. Применяется вместе с: операторами PARENT или ROOT — позволяют устанавливать связь между приложениями, чтобы произвести поиск элементов по указанному свойству; функцией Count() — определяет количество элементов, удовлетворяющих условиям поиска. Синтаксис операторов выборки В каждом подзапросе указываются: Источник данных — код приложения, из которого выбираются данные. Свойство для поиска — определяет, какое именно свойство в источнике данных используется для поиска. Условие поиска — критерий, по которому выполняется фильтрация данных. начало примера Примеры [clients] in (select [__id] from [clients.orders] where [total] > 1000) — выборка элементов приложения Клиенты , для которых созданы заказы с суммой более 1 000 рублей. [contracts] in (select [__id] from [clients.leads] where [__name] = 'ООО Пристань') — поиск договоров из свойства типа Произвольное приложение , где имя компании совпадает с указанным в запросе. count(from [orders.products] where parent.[product_number] = [product_number]) > 1 — выборка элементов приложения Товары с одинаковым значением в поле Артикул . count(from [bookstore.book] where parent.[__id] in [authors]) > 0 — поиск авторов, в карточке которых указана хотя бы одна книга. В примерах 3 и 4 используется вложенный подзапрос с оператором PARENT . конец примера Вложенные подзапросы Подзапросы могут включать в себя другие подзапросы. Чтобы понимать уровень вложенности, для обращения к свойствам приложения используются операторы: PARENT — используется для обращения к свойствам родительского приложения, которое находится в запросе на один уровень выше; ROOT — обращается к полям корневого приложения, которое указывается в начале запроса. Например, это приложение, на странице которого осуществляется EQL-поиск. Примеры вложенных запросов Предположим, раздел содержит два приложения: Заказы и Контакты . Заказ привязывается только к одному клиенту. Нужно проверить, что нет заказов, которые ошибочно указаны у более чем одного клиента. Для этого задайте EQL‑запрос: count(from [clients.contacts] where parent.[__id] in [order]) > 1 В запросе задайте условия: заказ указан в элементе приложения Контакты ( contacts ) в поле с кодом order ; количество найденных клиентов для заказа больше одного. Для этого используйте: функцию Count() , чтобы посчитать найденные элементы из приложения Контакты ; операторы FROM_WHERE и PARENT , чтобы задать условие поиска заказов в приложении Контакты : FROM_WHERE указывает на приложение, в котором ищется свойство [__id] приложения Заказы ; PARENT позволяет связать приложение Заказы , свойство которого используется для поиска; операцию > , чтобы задать условие, при котором количество найденных клиентов для заказа больше одного. Предположим, раздел содержит приложения: Авторы книг , Книги и Договоры на копирайт . Между авторами книг и договорами на копирайт нет прямой связи. Но оба эти приложения связаны с приложением Книги . В приложении Авторы книг нужно найти писателей, с которыми заключено более одного договора о правах на книгу. Для этого задайте EQL‑запрос: count(from [bookstore.book] where root.[__id] in [authors] and (count(from [bookstore.copyright] where parent.[__id] = [book]) > 0)) > 1 В запросе задайте условия: автор указан в элементе приложения Книги ( book ) в поле с кодом authors ; книга добавлена в элемент приложения Договоры на копирайт ( copyright ) в поле с кодом book ; книг, удовлетворяющих этим условиям, больше одной. Для этого используйте: функцию Count() , чтобы посчитать: количество книг, для которых оформлены договоры на права; количество авторов, у которых больше одной книги с оформленным договором на права; операторы FROM_WHERE и ROOT , чтобы задать условие поиска авторов в приложении Книги : FROM_WHERE указывает на приложение, в котором ищется свойство [__id] приложения Авторы ; ROOT позволяет связать приложение Авторы , свойство которого используется для поиска; операторы FROM_WHERE и PARENT , чтобы задать условие поиска книг в приложении Договоры на копирайт : FROM_WHERE указывает на приложение, в котором ищется свойство [__id] приложения Книги ; PARENT позволяет связать приложение Книги , свойство которого используется для поиска; операцию > , чтобы задать: количество книг, для которых есть договоры на права ( >0 ); количество авторов, у которых больше одной книги с оформленным договором на права ( >1 ). eql365-search.html app-data-in-scripts.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360006963072.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/eql365-search.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/eql-syntax.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360009707032.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360009669952.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/app-data-in-scripts.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T21:50:09.437865",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T21:50:09.568599"
  }
}