{
  "doc_id": "360027003711",
  "url": "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360027003711.html",
  "title": "Синтаксис шаблонов",
  "breadcrumbs": [
    "Шаблоны документов"
  ],
  "section": "Шаблоны документов | [kedo]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Синтаксис шаблонов</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Шаблон документа, загружаемый в ELMA365, может содержать любой текст, переменные, функции, условия и циклы. Добавляя шаблон в бизнес-процесс, вы сможете связать поля из вашего...\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/360027003711.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Дизайнер бизнес-процессов &gt; <a href=\"360026936731.html\">Шаблоны документов</a> / Синтаксис шаблонов</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\" style=\"text-align: center; margin: 19px 0 19px 0;\"><span class=\"f_Heading1\" style=\"font-size: 32px;\">Синтаксис шаблонов</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\"><a class=\"topiclink\" href=\"360026936731.html\">Шаблон документа</a>, загружаемый в ELMA365, может содержать любой текст, переменные, функции, условия и циклы. Добавляя шаблон в бизнес-процесс, вы сможете <a class=\"topiclink\" href=\"360026720792.html#bind_shablon\">связать поля</a> из вашего шаблона с контекстными переменными процесса.</p>\n<p class=\"p_Normal\">Для составления шаблона используйте:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">функции:<ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#string-data-type\">для работы со строчным типом данных</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#tostring\">ToString()</a> — чтобы вывести различные типы данных в переменной;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#numberformat\">NumberFormat()</a> — вывести число в определённом формате;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#datetime-function\">DateTime()</a> — отразить дату и время в определённом формате с учётом локали;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#count\">Count()</a> — отобразить число элементов в таблице или приложении;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#cases\">склонения по падежам</a>; </li><li class=\"p_Normal\">другие специальные функции <code><b>Barcode()</b></code>, <code><b>JobPosition()</b></code>, <code><b>PasteImage()</b></code>, <code><b>HYPERLINK()</b></code> и <code><b>ExtText()</b></code>. Подробнее читайте в статье <a class=\"topiclink\" href=\"another-template-syntax-functions.html\">«Специальные функции синтаксиса шаблонов»</a>;</li></ul>\n</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#if\">условия</a> — чтобы вывести текст, который удовлетворяет заданному условию;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"360027003711.html#cycle\">цикл for</a> — отобразить данные в виде списка или таблицы.</li></ul>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Синтаксис переменных</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Все переменные в шаблоне должны иметь следующий формат: <code><b>{$имя_переменной}</b></code>. Имя переменной уникально и пишется латинскими буквами, например, <code><b>{$kontragent}</b></code>. Такая переменная позволит подставить наименование контрагента при создании договора в <a class=\"topiclink\" href=\"360026720792.html\">бизнес‑процессе</a>.</p>\n<p style=\"margin: 19px 0 0 0;\">В шаблоне можно использовать атрибуты полей из контекста приложения, т. е. обращаться к вложенным переменным. Доступно для полей типа <a class=\"topiclink\" href=\"360009707032.html#file_type\">Файлы</a>, <a class=\"topiclink\" href=\"360009707032.html#users\">Пользователи</a>, <a class=\"topiclink\" href=\"360009707032.html#app\">Приложение</a>, <a class=\"topiclink\" href=\"360009707032.html#arbitrary-app\">Произвольное приложение</a> и т. д.</p>\n<p style=\"margin: 19px 0 0 0;\">Например, в заказе есть поле <span style=\"font-weight: bold;\">Договор</span> (код — <code><b>contract</b></code>), куда загружается файл договора, а также поле <span style=\"font-weight: bold;\">Клиент</span> (код — <code><b>client</b></code>), в которое добавляется элемент приложения <span style=\"font-weight: bold;\">Контакты</span>. В сгенерированном документе можно отобразить название файла или номер телефона клиента. Для этого в синтаксисе шаблона используются код поля из исходного приложения и код вложенной переменной, разделённые точкой: <code><b>{$contract.__name}</b></code> или <code><b>{$client.phone}</b></code>.</p>\n<p style=\"margin: 19px 0 0 0;\">При написании функций аргументы и значения переменных заключаются в кавычки. Разрешено использовать следующие виды кавычек: <span style=\"font-weight: bold;\">\" \"</span>, <span style=\"font-weight: bold;\">« »</span>, <span style=\"font-weight: bold;\">“ “</span>, <span style=\"font-weight: bold;\">” ”</span>, <span style=\"font-weight: bold;\">' '</span>.</p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"string-data-type\"></a><span class=\"f_Heading2\">Функции для работы со строчным типом данных</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Эти функции позволяют выводить текст в разном формате.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для примера в переменной <code><b>$stroka1</b></code> задано значение <span style=\"font-weight: bold;\">Иван Крапивин</span>:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"1\"><code><b>UpperCase(&lt;param1: строка&gt;)</b></code> — переводит текст в верхний регистр.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{UpperCase({$stroka1})}</b></code> —&gt; ИВАН КРАПИВИН.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"2\"><code><b>LowerCase(&lt;param1: строка&gt;)</b></code> — переводит текст в нижний регистр.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{LowerCase({$stroka1})}</b></code> —&gt; иван крапивин.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"3\"><code><b>Capitalize(&lt;param1: строка&gt;)</b></code> — переводит первую букву первого слова в заглавную.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{Capitalize({$stroka1})}</b></code> —&gt; Иван крапивин.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"4\"><code><b>Substr(&lt;param1: строка&gt;, &lt;from: число&gt;, &lt;length: число&gt;)</b></code> — извлекает часть текста, начиная с указанного символа <code><b>&lt;from&gt;</b></code>, длиной в заданное количество символов <code><b>&lt;length&gt;</b></code>. </li></ol>\n<p class=\"p_Normal\">Вы можете заполнить только <code><b>&lt;from&gt;</b></code>, чтобы сохранить весь текст после указанного символа.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>{Substr({$stroka1}, 0, 3)}</b></code> —&gt; Ива;</li><li><code><b>{Substr({$stroka1}, 3)}</b></code> —&gt; н Крапивин.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"tostring\"></a><span class=\"f_Heading2\">Функция ToString()</span></h2>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Функция <code><b>ToString()</b></code> универсальна и позволяет выводить в документе следующие типы данных:</p>\n<ul style=\"list-style-type:disc\">\n<li><a class=\"topiclink\" href=\"360027003711.html#number\">Число</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#string\">Строка</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#string\">Категория</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#yes_no\">Выбор «да/нет»</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#money\">Деньги</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#name\">Ф.И.О.</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#phone\">Телефон</a>;</li><li><a class=\"topiclink\" href=\"360027003711.html#date_time\">Дата/время</a><span style=\"background-color: #ffffff;\">.</span></li></ul>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Подробнее про типы данных в ELMA365 читайте в статье <span style=\"background-color: #ffffff;\"><a class=\"topiclink\" href=\"360009707032.html\">«Типы данных в системе»</a>.</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"number\"></a><span class=\"f_Heading3\">Число</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого типа данных используется следующий синтаксис: <code><b>ToString(param1: число, &lt;format: строка&gt;, &lt;locale: строка&gt;)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для примера в качестве <code><b>$number1</b></code><span style=\"font-style: italic;\"> </span>будем использовать целое число 546.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$number1})}</b></code> —&gt; 546.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">По умолчанию число выводится цифрами. Чтобы вывести число прописью, используйте формат <code><b>astext</b></code>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p class=\"p_Normal\">Дробные числа вывести прописью нельзя.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание </span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$number1}, astext)}</b></code> —&gt; пятьсот сорок шесть.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Можно указать локаль, чтобы вывести число прописью на другом языке. Доступные локали:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">русский язык — <code><b>ru–RU</b></code> или <code><b>ru</b></code>;</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">английский язык — <code><b>en–US</b></code> или <code><b>en</b></code>. </li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$number1}, astext, en–US)}</b></code> —&gt; five hundred forty six.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"string\"></a><span class=\"f_Heading3\">Строка</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Строка позволяет отобразить в документе текстовую информацию.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого типа данных используется следующий синтаксис: <code><b>ToString(param1: строка)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для примера используем переменную <code><b>$line1</b></code> с значением <span style=\"font-weight: bold;\">Отправлено на согласование</span>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\"><a class=\"hmanchor\" id=\"category\"></a>Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$line1})}</b></code> —&gt; отправлено на согласование.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Категория </span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Тип данных <span style=\"font-weight: bold;\">Категория</span> используется для того, чтобы выбирать определённое значение из списка. Например, при выборе способа оплаты можно указать, производится оплата картой или наличными.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого типа данных используется следующий синтаксис: <code><b>ToString(param1: категория)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">При создании контекстной переменной этого типа в процессе указывается её название и код. Укажите соответствующий код в функции <code><b>ToString</b></code>, чтобы в документе, формируемом по шаблону, отобразилось название переменной.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для примера в качестве переменной <code><b>$category1</b></code> возьмём оплату картой: <code><b>{ «code»: «karta», «name»: «картой» }</b></code>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\">Оплата производится <code><b>{ToString({$category1})}</b></code> —&gt; Оплата производится картой.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">Также для типа данных <span style=\"font-weight: bold;\">Категория</span> в шаблон можно вывести название и код категории без использования функции <code><b>ToString</b></code>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера </span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">Оплата производится <code><b>{$category1.name}</b></code> —&gt; Оплата производится картой;</li><li class=\"p_Normal\">Оплата производится <code><b>{$category1}</b></code> —&gt; Оплата производится картой;</li><li class=\"p_Normal\">Код используемой категории: <code><b>{$category1.code}</b></code> —&gt; Код используемой категории: karta.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"yes_no\"></a><span class=\"f_Heading3\">Выбор «да/нет»</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">У этого типа данных два варианта: <span style=\"font-weight: bold;\">Да</span> и <span style=\"font-weight: bold;\">Нет</span>. Вы можете их переименовать, например, <span style=\"font-weight: bold;\">Согласовано</span> и <span style=\"font-weight: bold;\">Не согласовано</span>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для примера возьмём <code><b>$option1 = true</b></code>. Вариант <span style=\"font-weight: bold;\">Да</span> (<code><b>yesValue</b></code>) определён как <span style=\"font-weight: bold;\">Согласовано</span>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$option1})}</b></code> —&gt; Согласовано.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"money\"></a><span class=\"f_Heading3\">Деньги</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Вы можете вывести в документе денежную сумму в различном формате.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого типа данных используется следующий синтаксис: <code><b>ToString(param1: деньги, &lt;format: string&gt;, &lt;locale: string&gt;)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A1')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Доступные значения format</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A1\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 14px 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>short</b></code> —&gt; 1005, 56 (разделитель тысячных и целой/дробной части соответствует локали);</li><li><code><b>sign</b></code><span style=\"font-weight: bold;\"> </span>—&gt; 1005, 56 RUB;</li><li><code><b>full</b></code><span style=\"font-weight: bold;\"> </span>—&gt; 1005 рублей 56 копеек;</li><li><code><b>astext</b></code><span style=\"font-weight: bold;\"> </span>—&gt; Одна тысяча пять рублей 56 копеек;</li><li><code><b>wildcard</b></code><span style=\"font-weight: bold;\"> </span>—&gt; вы можете задать свой формат, например, <code><b>{ToString({$money1}, «%i руб. %f коп.»)}</b></code>. В этом случае сумма отобразится следующим образом: 1005 руб. 56 коп.(<code><b>%i</b></code> — целая часть, <code><b>%f</b></code> — дробная часть).</li></ul>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">В функции можно указать локаль. Доступные локали:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">русский язык — <code><b>ru–RU</b></code> или <code><b>ru</b></code>;</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">английский язык — <code><b>en–US</b></code> или <code><b>en</b></code>.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$money1}, full, en)}</b></code> —&gt; 1 005 rubles 56 kopecks.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"name\"></a><span class=\"f_Heading3\">Ф.И.О.</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Вы можете указать в документе фамилию, имя и отчество в нужном формате и падеже.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого типа данных используется следующий синтаксис: <code><b>ToString(param1: ФИО, &lt;format: строка&gt;, &lt;case: строка&gt;)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A2')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Доступные значения format</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A2\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 14px 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>long</b></code> — фамилия, имя и отчество указываются полностью (Сергеев Сергей Николаевич);</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>short</b></code> — указываются фамилия и инициалы (Сергеев С. Н.).</p>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A3')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Доступные значения case</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A3\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 14px 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\"><code><b>nominative</b></code> | именительный | И — именительный;</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>genitive</b></code> | родительный | Р — родительный;</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>dative</b></code> | дательный | Д — дательный;</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>accusative</b></code> | винительный | В — винительный;</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>instrumental</b></code> | творительный | Т — творительный;</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>prepositional</b></code> | предложный | П — предложный.</p>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Обратите внимание, функция максимально правильно склоняет имя в том случае, если указано отчество.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>{ToString({$fio1})}</b></code> —&gt; Сергеев Сергей Николаевич;</li><li><code><b>{ToString({$fio1}, short)}</b></code> —&gt; Сергеев С.Н.;</li><li><code><b>{ToString({$fio1}, short, Р)}</b></code> —&gt; Сергеева С.Н.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">Если вы хотите отдельно указать имя, фамилию или отчество, используйте значения, записанные в переменной типа <span style=\"font-weight: bold;\">Ф.И.О.</span>: <code><b>{$executor.fullname.firstname}</b></code>, <code><b>{$executor.fullname.lastname}</b></code>, <code><b>{$executor.fullname.middlename}</b></code>.</p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"phone\"></a><span class=\"f_Heading3\">Телефон</span></h3>\n<p class=\"p_Normal\">Вы можете создать маску для ввода телефонного номера. Для этого используется следующий синтаксис: <code><b>ToString({$phone1}, «+7–XXX–XXX–XX–XX EEE»)</b></code>.</p>\n<p class=\"p_Normal\">Латинские буквы в синтаксисе обозначают:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">X</span> — основной номер;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">E</span> — добавочный номер. </li></ul>\n<p class=\"p_Normal\">Если пользователи запишут номер телефона из меньшего количества цифр, чем обозначено в маске для ввода, в готовом документе лишние буквы <span style=\"font-weight: bold;\">Х</span> и <span style=\"font-weight: bold;\">Е</span> не отобразятся. </p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Телефонный номер заполняется цифрами слева направо.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>{ToString({$phone1}, «+7—XXX—XXX—XX—XX»)}</b></code> —&gt; +7–912–345–67–89;</li><li><code><b>{ToString({$phone1}, «X—XXX—XXX—XX—XX EEE»)}</b></code> —&gt; 8–912–345–67–89 159;</li><li><code><b>{ToString({$phone1}, «XX—XX—XX E»)}</b></code> —&gt; 45–67–89 3.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"date_time\"></a><span class=\"f_Heading3\">Дата/время</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Вы можете указать в шаблоне дату и время, например, дату поставки оборудования по договору. Для этого используется следующий синтаксис: <code><b>ToString(param1: дата/время, &lt;format: строка&gt;, &lt;locale: строка&gt;)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">У типа данных <span style=\"font-weight: bold;\">Дата/время</span> есть разные подтипы: <span style=\"font-weight: bold;\">Дата/время</span>, <span style=\"font-weight: bold;\">Дата</span>, <span style=\"font-weight: bold;\">Время</span>.</p>\n<p class=\"p_Normal\">Без указания дополнительных аргументов в документе отображается текущая дата и время.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\"><code><b>{ToString({$date1})}</b></code> —&gt; <span style=\"font-weight: bold;\">Дата/время</span> — 09.04.2025 15:18:43; <span style=\"font-weight: bold;\">Дата</span> — 09.04.2025; <span style=\"font-weight: bold;\">Время</span> — 15:18:43.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">При использовании в функции формата <code><b>short</b></code> время указывается без уточнения секунд. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\"><code><b>{ToString({$date1}, short)}</b></code> —&gt; <span style=\"font-weight: bold;\">Дата/время</span> — 09.04.2025 15:18; <span style=\"font-weight: bold;\">Дата</span> — 09.04.2025; <span style=\"font-weight: bold;\">Время</span> — 15:18.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">Если в функции задан формат <code><b>long</b></code>, время будет отображаться с секундами, а дата — с полным названием месяца: </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"hmanchor\" id=\"lc1\"></a><code><b>{ToString({$date1}, long)}</b></code> —&gt; <span style=\"font-weight: bold;\">Дата/время</span> — 09.04.2025 19:18:43; <span style=\"font-weight: bold;\">Дата</span> — 9 апреля 2025 г.; <span style=\"font-weight: bold;\">Время</span> — 19:18:43.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Вы также можете указать локаль:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">русский язык — <code><b>ru–RU</b></code> или <code><b>ru</b></code>;</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">английский язык — <code><b>en–US</b></code> или <code><b>en</b></code>.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{ToString({$date1}, short, en–US)}</b></code> —&gt; 4/11/19 7:15 am.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Обратите внимание, подтип <span style=\"font-weight: bold;\">Дата/время</span> учитывает временную зону компании и выводит дату с учётом этой зоны. Подтипы <span style=\"font-weight: bold;\">Дата</span> и <span style=\"font-weight: bold;\">Время</span> выводят абсолютные значения.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A4')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Пример использования функций для настройки шаблона договора</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A4\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 14px 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"> <br/>\nСоставили шаблон договора поставки и использовали в нём различные функции и переменные.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Затем мы <a class=\"topiclink\" href=\"360026720792.html\">добавили</a> его в бизнес-процесс и связали переменные из шаблона с переменными процесса.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"синт шабл 2\" height=\"634\" src=\"hmfile_hash_71617b2d.png\" style=\"margin:0;width:972px;height:634px;border:none\" width=\"972\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">После того как пользователи заполняют эти переменные, а процесс доходит до шага <a class=\"topiclink\" href=\"360026720792.html\">Генерация по шаблону</a>, в системе автоматически создаётся готовый договор.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"20.PNG\" height=\"867\" src=\"360027862732-20.png\" style=\"margin:0;width:743px;height:867px;border:none\" title=\"20.PNG\" width=\"743\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Файл с шаблоном, который использован в этом примере, вы можете <a class=\"filelink\" href=\"./doc_template.docx\">скачать</a> на свой компьютер.</p>\n</td>\n</tr>\n</table>\n</div>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"numberformat\"></a><span class=\"f_Heading2\">Функция NumberFormat()</span></h2>\n<p class=\"p_Normal\">Позволяет отобразить в документе значение из переменной типа <a class=\"topiclink\" href=\"360009707032.html#number\">Число</a> в заданном формате, например, с фиксированным количеством знаков после запятой или в шестнадцатеричной системе счисления и т. д. </p>\n<p class=\"p_Normal\">Синтаксис функции: <code><b>{NumberFormat(&lt;param1: число&gt;, &lt;format&gt;}</b></code>.</p>\n<p class=\"p_Normal\">Для примера в качестве <code><b>$number</b></code> используем дробное число 1125,34.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{NumberFormat({$number}, 3)}</b></code> — 1125,340. Спецификатор точности <span style=\"font-weight: bold;\">3</span> задаёт количество знаков после запятой.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A5')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Допустимые значения format</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A5\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"D\"</b></code> или <code><b>\"d\"</b></code> — десятичный формат, позволяет отобразить целое число без десятичной части с заполнением строки нулями до указанной длины.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\"><code><b>{NumberFormat({$number}, “D5”)}</b></code> → 01125 — спецификатор точности <span style=\"font-weight: bold;\">5</span> задаёт количество заполняющих нулей;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"E\"</b></code> или <code><b>\"e\"</b></code> — экспоненциальный формат, число отображается в виде мантиссы и порядка. </li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 35px;\"><code><b>{NumberFormat({$number}, \"E2\")}</b></code> → 1.13E+03 — спецификатор точности <span style=\"font-weight: bold;\">2</span> задаёт количество знаков после запятой;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"F\"</b></code> или <code><b>\"f\"</b></code> — фиксированный формат, отображает фиксированное число знаков после запятой.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 35px;\"><code><b>{NumberFormat({$number}, \"F2\")}</b></code> → 1125,34 — с помощью спецификатора точности задано два знака после запятой;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"G\"</b></code> или <code><b>\"g\"</b></code> — общий формат, преобразует число в фиксированный или экспоненциальный формат для компактности.</li></ul>\n<p class=\"p_Normal\" style=\"text-indent: 1px; margin: 0 0 0 34px;\"><code><b>{NumberFormat({$number}, \"G4\")}</b></code> → 1125 — в данном случае оказалось компактнее вывести число в фиксированном формате, а спецификатор точности <span style=\"font-weight: bold;\">4</span> задаёт количество цифр без заполняющих нулей;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"N\"</b></code> или <code><b>\"n</b></code> — числовой формат, отображает число с разделителями разрядов.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 35px;\"><code><b>{NumberFormat({$number}, \"N3\")}</b></code> → 1 125,340 — спецификатор точности <span style=\"font-weight: bold;\">3</span> задаёт количество знаков после запятой;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"P\"</b></code> или <code><b>\"p\"</b></code> — процентный формат, число умножается на 100, добавляется знак %.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 34px;\"><code><b>{NumberFormat({$number}, \"P\")}</b></code> → 112534.00 %;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"R\"</b></code> или <code><b>\"r\"</b></code> — формат точного представления числа без округления. Спецификатор точности не поддерживается.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 35px;\"><code><b>{NumberFormat({$number}, \"R\")}</b></code> → 1125.34;</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>\"X\"</b></code> или <code><b>\"x\"</b></code> — шестнадцатеричный формат, число отображается в шестнадцатеричной системе счисления без дробной части.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 34px;\"><code><b>{NumberFormat({$number}, \"X\")}</b></code> → 465.</p>\n</td>\n</tr>\n</table>\n</div>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"datetime-function\"></a><span class=\"f_Heading2\">Функция DateTime()</span></h2>\n<p class=\"p_Normal\">Функция <code><b>DateTime()</b></code> позволяет вывести в шаблоне дату и время с указанием формата даты и локали. </p>\n<p class=\"p_Normal\">Синтаксис функции: <code><b>DateTime(&lt;формат:строка&gt;,&lt;переменная:дата/время&gt;,&lt;локаль&gt;)</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Например, вы можете указать дату и время создания элемента.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>{DateTime(«YYYY–MM–DD hh:mm:ss»,{$__createdAt},\"ru_RU\")}</b></code> —&gt; 2025<span style=\"font-size: 15px; color: #4d5156; background-color: #ffffff;\">–</span>01<span style=\"font-size: 15px; color: #4d5156; background-color: #ffffff;\">–</span>21 08:30:56.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<p class=\"p_Normal\">В шаблоне поддерживаются <span style=\"font-size: 15px; font-family: Inter;\">следующие </span>виды<span style=\"font-size: 15px; font-family: Inter;\"> кавычек: </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">\" \"</span><span style=\"font-size: 15px; font-family: Inter;\">, </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">« »</span><span style=\"font-size: 15px; font-family: Inter;\">, </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">“ “</span><span style=\"font-size: 15px; font-family: Inter;\">, </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">” ”</span><span style=\"font-size: 15px; font-family: Inter;\">, </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">' '</span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{DateTime('\"DD\" MMMM YYYY',{$__createdAt},\"ru_RU\")}</b></code> —&gt; \"31\" августа 2024;</li><li class=\"p_Normal\"><code><b>{DateTime(\"«DD» MMMM YYYY\",{$__createdAt},\"ru_RU\")}</b></code> —&gt; «31» августа 2024;</li><li class=\"p_Normal\"><code><b>{DateTime(«'DD' MMMM YYYY»,{$__createdAt},\"ru_RU\")}</b></code> —&gt; '31' августа 2024.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A6')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Форматы данных</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A6\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\"> <br/>\nВывод данных: </p>\n<p class=\"p_Normal\"><code><b>M</b></code> — месяц (1) </p>\n<p class=\"p_Normal\"><code><b>MM</b></code> — месяц (01) </p>\n<p class=\"p_Normal\"><code><b>MMM</b></code> — месяц (Янв) </p>\n<p class=\"p_Normal\"><code><b>MMMM</b></code> — месяц (Январь) </p>\n<p class=\"p_Normal\"><code><b>D</b></code> — день (2) </p>\n<p class=\"p_Normal\"><code><b>DD</b></code> — день (02) </p>\n<p class=\"p_Normal\"><code><b>DDD</b></code> — день (ПН)  </p>\n<p class=\"p_Normal\"><code><b>DDDD</b></code> — день (Понедельник) </p>\n<p class=\"p_Normal\"><code><b>YY</b></code> — год (06) </p>\n<p class=\"p_Normal\"><code><b>YYYY</b></code> — год (2025) </p>\n<p class=\"p_Normal\"><code><b>hh</b></code> — часы (15) </p>\n<p class=\"p_Normal\"><code><b>mm</b></code> — минуты (04) </p>\n<p class=\"p_Normal\"><code><b>ss</b></code> — секунды (05)</p>\n<p class=\"p_Normal\"> <br/>\nЛокаль:</p>\n<p class=\"p_Normal\"><code><b>en_US</b></code> — английский (США); </p>\n<p class=\"p_Normal\"><code><b>en_GB</b></code> — английский (Великобритания); </p>\n<p class=\"p_Normal\"><code><b>de_DE</b></code> — немецкий; </p>\n<p class=\"p_Normal\"><code><b>fr_FR</b></code> — французский; </p>\n<p class=\"p_Normal\"><code><b>ru_RU</b></code> — русский; </p>\n<p class=\"p_Normal\"><code><b>es_ES</b></code> — испанский.  </p>\n</td>\n</tr>\n</table>\n</div>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Функция Now()</span></h3>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Чтобы подставить в шаблон текущую дату и время с учётом временной зоны, используйте функцию <code><b>Now()</b></code>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Синтаксис функции: <code><b>Now(&lt;format: строка&gt;, &lt;locale: строка&gt;, &lt;timezone: строка&gt;)</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">с различными значениями <code><b>format</b></code> дата будет выводиться по‑разному;</li></ul>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A7')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Доступные значения format</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A7\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 14px 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>date</b></code> —&gt; дата (13.04.2025);</li><li><code><b>time</b></code><span style=\"font-weight: bold;\"> </span>—&gt; 15:34;</li><li><code><b>timelong</b></code><span style=\"font-weight: bold;\"> </span>—&gt; 15:34:22;</li><li><code><b>datelong</b></code><span style=\"font-weight: bold;\"> </span>—&gt; 13 апреля 2025 г.;</li><li><code><b>short</b></code> (по умолчанию) —&gt; 13.04.2025 15:34.</li></ul>\n</td>\n</tr>\n</table>\n</div>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">для <code><b>locale</b></code> доступен русский язык — <code><b>ru–RU</b></code> и английский язык — <code><b>en–US</b></code>;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><code><b>timezone</b></code> задаётся в формате Europe/Samara, America/Toronto.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры синтаксиса функции</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{Now(datelong, en-US)}</b></code> — длинная дата, en-US;</li><li class=\"p_Normal\"><code><b>{Now(datelong, en)}</b></code> — длинная дата en;</li><li class=\"p_Normal\"><code><b>{Now(date, en)}</b></code> — только дата en;</li><li class=\"p_Normal\"><code><b>{Now(datelong, ru-RU)}</b></code> — длинная дата ru-RU;</li><li class=\"p_Normal\"><code><b>{Now(datelong, ru)}</b></code> — длинная дата ru;</li><li class=\"p_Normal\"><code><b>{Now(date, ru)}</b></code> — только дата ru;</li><li class=\"p_Normal\"><code><b>{Now(time, ru)}</b></code> — только время ru;</li><li class=\"p_Normal\"><code><b>{Now(timelong, ru)}</b></code> — время с секундами ru;</li><li class=\"p_Normal\"><code><b>{Now(short, ru)}</b></code> — дата и время без секунд ru.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"count\"></a><span class=\"f_Heading2\">Функция Count()</span></h2>\n<p class=\"p_Normal\">Позволяет получить число элементов, переданных в переменной типа <a class=\"topiclink\" href=\"360009707032.html#table\">Таблица</a> или <a class=\"topiclink\" href=\"360009707032.html#app\">Приложение</a>. Это может быть количество строк в таблице или записей в связанном приложении. </p>\n<p class=\"p_Normal\">С помощью функции можно:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">отображать общее число элементов, чтобы оценить объём данных;</li><li class=\"p_Normal\">выводить только количество записей вместо таблицы;</li><li class=\"p_Normal\">указывать число записей перед таблицей или списком данных и т. д. </li></ul>\n<p class=\"p_Normal\">Синтаксис функции: <code><b>{Count({$переменная})}</b></code>. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">Пример</span></p>\n<p class=\"p_Normal\"><code><b>{Count({$report_table})}</b></code> — число строк в таблице отчёта.</p>\n<p class=\"p_Normal\"><code><b>{Count({$app})}</b></code> — число элементов в связанном приложении. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<p class=\"p_Normal\">Вы также можете применять функцию с <a class=\"topiclink\" href=\"360027003711.html#cycle\">циклом for</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">Пример</span></p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\">Вывести количество строк таблицы, которая вложена в основную таблицу отчёта:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">{for row in {$report_table}}</span><br/>\n<span class=\"f_CodeExample\">Subrow count: {Count({$row.execution})}</span><br/>\n<span class=\"f_CodeExample\">{end}</span></p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"2\">Показать число строк в таблице, которая является свойством связанного приложения:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">{for row in {$app}}</span><br/>\n<span class=\"f_CodeExample\">Subrow count: {Count({$row.multi})}</span><br/>\n<span class=\"f_CodeExample\">{end}</span></p>\n<p class=\"p_Normal\">где:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>app</b></code> — поле, которое ссылается на связанное приложение;</li><li class=\"p_Normal\"><code><b>row.multi</b></code> — поле типа <span style=\"font-weight: bold;\">Таблица</span> в этом приложении.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"cases\"></a><span class=\"f_Heading2\">Функции для склонения по падежам</span></h2>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">В системе доступны функции для склонения слов и словосочетаний.</p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">FormatFio (ФорматФио)</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Склоняет Ф. И. О. в нужном падеже и выводит в нужном формате, например, только имя и отчество.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Синтаксис функции: <code><b>{FormatFio(&lt;ФИО: строка&gt;, &lt;падеж: 1&gt;, &lt;фамилия: 2&gt;)}</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">[1]</span> — падеж обозначается первой буквой или полным названием («и» или «именительный», «р» или «родительный» и т. д.);</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">[2]</span> — формат отображения Ф. И. О. Допустимые форматы указываются в кавычках, чередуются через пробел, в полной или сокращённой форме: </li></ul>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">«фамилия» или «ф.»;</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">«имя» или «и.»;</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\">«отчество» или «о.».</li></ul></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\">Данные <code><b>{FormatFio(«Иванов Иван Иванович»,р,«фамилия и.о.»)}</b></code><span style=\"font-family: 'Courier New',Courier,monospace;\"> </span>—&gt; Данные Иванова И.И.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Incline (Просклонять)</span></h3>\n<p class=\"p_Normal\">Данная функция возвращает заданную строку в указанном падеже.</p>\n<p class=\"p_Normal\">Синтаксис функции:<span style=\"font-weight: bold;\"> </span><code><b>{Incline(Просклонять)(&lt;Выражение: строка&gt;,&lt;падеж: 1&gt;,&lt;признаки: 2&gt;)}</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">[1]</span> — падеж обозначается первой буквой или полным названием («и» или «именительный», «р» или «родительный» и т. д.). По умолчанию будет использоваться именительный;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">[2]</span> — дополнительные признаки комбинируются через пробел:<ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">Ф. И. О. (ф);</li><li class=\"p_Normal\">мужской род (м);</li><li class=\"p_Normal\">женский род (ж);</li><li class=\"p_Normal\">нарицательное (н);</li><li class=\"p_Normal\">одушевлённое (о);</li><li class=\"p_Normal\">неодушевлённое (но)</li></ul></li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{Просклонять('договор подряда',П,м но)}</b></code><span style=\"font-family: 'Courier New',Courier,monospace;\"> </span>—&gt; о договоре подряда.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">InclineMany (ПросклонятьМнож)</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Эта функция возвращает заданную строку в указанном падеже и во множественном числе. Параметры такие же, как у функции <span style=\"font-weight: bold;\">Incline()</span>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><code><b>{ПросклонятьМнож('договор подряда',П)}</b></code> —&gt; о договорах подряда.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">NumberToString (ЧислоВСтроку)</span></h3>\n<p class=\"p_Normal\" style=\"background: #ffffff;\"><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">Данная функция возвращает указанное число в текстовом формате и в заданном падеже.</span></p>\n<p class=\"p_Normal\">Правила написания функции:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">параметры <span style=\"font-weight: bold;\">Падеж</span>, <span style=\"font-weight: bold;\">Единица измерения</span> и <span style=\"font-weight: bold;\">Формат отображения числа</span> прописываются в кавычках — <span style=\"font-weight: bold;\">«»</span>;</li><li class=\"p_Normal\">параметры отделяются друг от друга запятой; </li><li class=\"p_Normal\">единица измерения дробной части указывается с помощью вертикальной черты — <span style=\"font-weight: bold;\">|</span>.</li></ul>\n<p class=\"p_Normal\" style=\"background: #ffffff;\"><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">Синтаксис функции:</span><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\"> </span><code><b>{NumberToString(&lt;Число&gt;,&lt;падеж: 1&gt;,&lt;единица измерения: 2&gt;,&lt;объём единицы измерения: 3&gt;,&lt;формат: 4&gt;)}</b></code>:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">&lt;Число&gt;</span> — число для преобразования в строку;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">[1]</span> — падеж прописывается с использованием кавычек, например, «И» или «Именительный», «Р» или «Родительный» и т. д. По умолчанию употребляется именительный падеж;</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{NumberToString(5634,«П»)}</b></code> —&gt; пяти тысячах шестистах тридцати четырёх;</li><li class=\"p_Normal\"><code><b>{NumberToString(5634.37,«Р»)}</b></code> —&gt;  пяти тысяч шестисот тридцати четырёх целых тридцати семи сотых.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">[2]</span> — единицы измерения прописываются с использованием кавычек. </li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A8')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Допустимые форматы</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A8\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 36px;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">Название целой части|Название дробной части — «рубль|копейка»;</li><li class=\"p_Normal\">Только целая часть — «рубль».</li></ul></ul>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{NumberToString(5850,«П»,«рубль»)}</b></code> —&gt; пяти тысячах восьмистах пятидесяти рублях;</li><li class=\"p_Normal\"><code><b>{NumberToString(5830.35,«Т»,«евро|евроцент»)}</b></code> —&gt; пятью тысячами восемьюстами тридцатью евро тридцатью пятью евроцентами.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">[3]</span> — объём единиц измерения. Прописывается как число, по умолчанию используется 100;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">[4]</span> — формат отображения числа. Прописывается с использованием кавычек. Может быть использован без указания параметра <span style=\"font-weight: bold;\">[3]</span>. </li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A9')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Допустимые значения</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A9\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 36px;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">0 — отображает только дробную часть числа;</li><li class=\"p_Normal\">A или B (латиница) — идентификатор системного формата:<ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">A — {ПЦЧ} {НЦЧ} {ПДЧ} {НДЧ};</li><li class=\"p_Normal\">B — {ПЦЧ} {НЦЧ} {ДЧ} {НДЧ};</li></ul>\n</li><li class=\"p_Normal\">пользовательский шаблон отображения целой и дробной частей. Расшифровка значений:<ul style=\"list-style-type:circle\">\n<li class=\"p_Normal\">{ЦЧ} или {ЦелаяЧасть} — шаблон для отображения целой части числа;</li><li class=\"p_Normal\">{ДЧ} или {ДробнаяЧасть} — шаблон для отображения дробной части числа;</li><li class=\"p_Normal\">{ЦЧ:Ф} или {ЦелаяЧасть:Ф} — шаблон для отображения целой части числа с использованием формата отображения;</li><li class=\"p_Normal\">{ДЧ:Ф} или {ДробнаяЧасть:Ф} — шаблон для отображения дробной части числа с использованием формата отображения;</li><li class=\"p_Normal\">{ПЦЧ} или {ПрописьЦелойЧасти} — шаблон для отображения целой части числа прописью;</li><li class=\"p_Normal\">{ПДЧ} или {ПрописьДробнойЧасти} — шаблон для отображения дробной части числа прописью;</li><li class=\"p_Normal\">{НЦЧ} или {НаименованиеЦелойЧасти} — шаблон для отображения единиц измерения целой части числа;</li><li class=\"p_Normal\">{НДЧ} или {НаименованиеДробнойЧасти} — шаблон для отображения единиц измерения дробной части числа<span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">.</span></li></ul></li></ul>\n<p class=\"p_Normal\">Символ <span style=\"font-weight: bold;\">Ф</span> заменяется на обозначение формата. Доступные форматы можно посмотреть в <a class=\"weblink\" href=\"https://msdn.microsoft.com/ru-ru/library/fzeeb5cd(v=vs.110).aspx\" target=\"_blank\">документации</a>.</p>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{NumberToString(46.25,«И»,«ящик|мешок»,38,«{ЦЧ}({ПЦЧ}{НЦЧ}) примерно {ДЧ}({ПДЧ}{НДЧ}) и один контейнер»)}</b></code><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\"> </span>—&gt; 46 (сорок шесть ящиков) примерно 10 (десять мешков) и один контейнер.</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\"><span style=\"font-style: italic;\">Примечание: .25 — это четверть. Мы указали, что в целом </span>— <span style=\"font-style: italic;\">38 частей. 38\\4 = 9.5 (округляется до 10);</span></p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{NumberToString(12345.5,«Д»,«бочка|литр»,60,«{ЦЧ:N} ({ПЦЧ} {НЦЧ}) и {ДЧ} ({ПДЧ} {НДЧ})»)}</b></code> —&gt; 12,345.000 (двенадцати тысячам трёмстам сорока пяти бочкам) и 30 (тридцати литрам).</li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\"><span style=\"font-style: italic;\">Примечание: В значении {ЦЧ:N} </span><span style=\"font-style: italic; font-weight: bold;\">:N</span><span style=\"font-style: italic;\"> — это формат отображения. Данный формат обозначает, что всегда необходимо показывать дробную часть в числе, но, так как в функции дробная часть отделяется, после запятой будут идти нули.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">ChangeKind (ИзменитьРод)</span></h3>\n<p class=\"p_Normal\" style=\"background: #ffffff;\"><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">Данная функция позволяет изменить род прилагательного.</span></p>\n<p class=\"p_Normal\" style=\"background: #ffffff;\"><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">Синтаксис функции: </span><code><b>{ChangeKind(&lt;прилагательное в именительном падеже мужского рода: строка&gt;,&lt;род: 1&gt;)}</b></code><span style=\"font-size: 15px; font-family: 'SF Pro Display'; color: #212529;\">.</span></p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">[1]</span> — род и число, в которые нужно преобразовать.</p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186AA')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Допустимые значения</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186AA\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">мужской род (м, муж);</li><li class=\"p_Normal\">женский род (ж, жен);</li><li class=\"p_Normal\">средний род (с, ср);</li><li class=\"p_Normal\">множественное число (мн, множ).</li></ul>\n<p class=\"p_Normal\">В скобках даны сокращённые варианты.</p>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Примеры</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>{ChangeKind(спокойный,жен)}</b></code> —&gt; спокойная;</li><li class=\"p_Normal\"><code><b>{ChangeKind(спокойный,мн)}</b></code> —&gt; спокойные.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">GetPartOfFullName (Фио)</span></h3>\n<p class=\"p_Normal\">Функция позволяет получить полное имя или его часть. Синтаксис функции: <code><b>{Фио(&lt;ФИО:строка&gt;,&lt;часть ФИО:1&gt;)}</b></code>. </p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">[1]</span> — часть Ф. И. О. </p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186AB')\" style=\"font-style: normal; font-weight: bold; color: #000000; background-color: transparent; text-decoration: none;\">Допустимые значения</a></span></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186AB\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">фамилия (ф);</li><li class=\"p_Normal\">имя (и);</li><li class=\"p_Normal\">отчество (о);</li><li class=\"p_Normal\">полное имя (полн).</li></ul>\n<p class=\"p_Normal\">В скобках даны сокращённые варианты.</p>\n</td>\n</tr>\n</table>\n</div>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{Фио('Пушкин Александр Сергеевич',о)}</b></code> —&gt; Сергеевич.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">AnotherGenderSecondName (ФамилияПротивоположногоПола)</span></h3>\n<p><span style=\"font-size: 13px;\">Функция позволяет получить фамилию противоположного пола.</span></p>\n<p><span style=\"font-size: 13px;\">Синтаксис функции: </span><code><b>{ФамилияПротивоположногоПола(&lt;фамилия:строка&gt;)}</b></code><span style=\"font-size: 13px;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{ФамилияПротивоположногоПола(Петров)}</b></code> —&gt; Петрова.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"if\"></a><span class=\"f_Heading2\">Условия</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">В зависимости от условия, записанного в шаблоне, в документе можно вывести тот или иной текст.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Условие начинается с оператора <code><b>{if &lt;условие&gt;}</b></code> и заканчивается оператором <code><b>{end}</b></code>. Здесь <code><b>&lt;условие&gt;</b></code> — это любое условие, например, <code><b>{$имя_переменной} = «Да»</b></code>.</p>\n<p class=\"p_CodeExample\" style=\"white-space: normal; page-break-inside: auto; page-break-after: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid; margin: 14px 0 0 0;\">Пример 1</p>\n<p style=\"page-break-after: avoid; margin: 14px 0 0 0;\"><code><b>{if {$user_name} = «Петров Илья»} С уважением, Петров Илья {end}</b></code><span style=\"font-family: 'Courier New',Courier,monospace; font-weight: bold;\"> </span>—&gt;<span style=\"font-weight: bold;\"> </span>в функции задаётся условие для проверки имени пользователя. Если значение в поле совпадёт, отобразится указанный текст<span style=\"color: #394149;\">.</span></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid; margin: 14px 0 0 0;\"><span style=\"font-weight: bold;\">Пример 2</span></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid;\"><code><b>{if {$week.day} = «Пятница»}</b></code></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid;\"><code><b>До свидания, хороших выходных!</b></code></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid;\"><code><b>{else}</b></code></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid;\"><code><b>До свидания!</b></code></p>\n<p class=\"p_Normal\" style=\"page-break-after: avoid;\"><code><b>{end}</b></code><span style=\"font-family: 'Courier New',Courier,monospace; font-weight: bold;\"> </span>—&gt; в примере проверяется текущий день недели. В зависимости от его значения отобразится один из вариантов указанного текста<span style=\"color: #394149;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"white-space: normal; page-break-inside: auto; page-break-after: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">При использовании многострочных условий для файлов формата </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">.xlsx</span><span style=\"font-size: 15px; font-family: Inter;\"> нельзя располагать дополнительный текст в строках с операторами </span><code><b>{if &lt;условие&gt;}</b></code><span style=\"font-size: 15px; font-family: Inter;\">, </span><code><b>{else}</b></code><span style=\"font-size: 15px; font-family: Inter;\"> и </span><code><b>{end}</b></code><span style=\"font-size: 15px; font-family: Inter;\">. При генерации документа он удаляется.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Обратите внимание, для переменных типа<span style=\"font-weight: bold;\"> </span><a class=\"topiclink\" href=\"360009707032.html#yes_no\">Выбор «да/нет»</a> нужно указывать значения из поля <span style=\"font-weight: bold;\">Варианты</span>. По умолчанию это <span style=\"font-weight: bold;\">Да</span> и <span style=\"font-weight: bold;\">Нет</span>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Пример</p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><code><b>{if {$options} &lt;&gt; «Нет»} Текст для примера {end}</b></code><span style=\"font-family: 'Courier New',Courier,monospace;\"> </span>—&gt; текст будет отображаться только в том случае, если выбрано значение<span style=\"font-weight: bold;\"> Да</span><span style=\"color: #394149;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Конец примера</span></p>\n<p class=\"p_Normal\">В функции можно проверять наличие значений у свойств элемента приложения. Если поле на форме заполнено, можно вывести его значение.</p>\n<p class=\"p_Normal\">Для<span style=\"color: #394149;\"> </span>свойства типа<span style=\"color: #394149;\"> <a class=\"topiclink\" href=\"360009707032.html#app\">Приложение</a> </span>или<span style=\"color: #394149;\"> <a class=\"topiclink\" href=\"360009707032.html#file_type\">Файлы</a> </span>функция условия применяется, если в нём содержится только одно значение, т. е. для свойства включена опция <span style=\"font-weight: bold;\">Один</span>. Когда отмечена опция <span style=\"font-weight: bold;\">Несколько</span>, используется<span style=\"color: #394149;\"> <a class=\"topiclink\" href=\"360027003711.html#cycle\">Цикл for</a>.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">Начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p style=\"background: #f7f7f7; margin: 0 0 16px 0;\"><code><b>{if {$document}} {$document} {end}</b></code><span style=\"font-family: 'Courier New',Courier,monospace; font-weight: bold;\"> </span>—&gt;<span style=\"font-weight: bold;\"> </span>если в поле типа <span style=\"font-weight: bold;\">Файлы</span> загружен документ, в сгенерированном файле отобразится его название<span style=\"color: #394149;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">При написании условий вы можете использовать следующие операторы:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">= </span>— равно; </li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">&lt;&gt;</span> — не равно; </li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">&gt;</span> — больше; </li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">&gt;=</span> — больше или равно; </li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">&lt;</span> — меньше; </li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">&lt;=</span> — меньше или равно. </li></ul>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Логические операторы OR и AND</span></h3>\n<p class=\"p_Normal\">Для создания сложных условий можно использовать операторы <code><b>OR</b></code> и <code><b>AND</b></code>, которые позволяют задавать несколько условий в виде одной конструкции. </p>\n<p class=\"p_Normal\">При использовании <code><b>OR</b></code> достаточно, чтобы выполнилось хотя бы одно из указанных условий. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{if {$trip.location_type} = «Гостиница» OR {$trip.location_type} = «Квартира принимающей стороны»}</b></code></p>\n<p class=\"p_Normal\"><code><b>{$business_trip_request.city}</b></code></p>\n<p class=\"p_Normal\"><code><b>{end}</b></code> — адрес будет указан в зависимости от типа размещения. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">При использовании <code><b>AND</b></code> нужно, чтобы выполнялись все перечисленные условия. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{if {$item.price} &lt; 5000 AND {$item.isAvailable}} </b></code></p>\n<p class=\"p_Normal\"><code><b>{$item.name}</b></code></p>\n<p class=\"p_Normal\"><code><b>{end}</b></code> — название элемента будет указано, если выполняются оба условия. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\">Условия с логическими операторами <code><b>OR</b></code> и <code><b>AND</b></code> можно комбинировать, используя скобки. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\">Пример</p>\n<p class=\"p_Normal\"><code><b>{if ({$business_trip_request.location_type} = «Гостиница» OR {$business_trip_request.location_type} = «Квартира принимающей стороны») AND ({$business_trip_request.price} &lt; 5000)} </b></code></p>\n<p class=\"p_Normal\"><code><b>{$business_trip_request.city}</b></code></p>\n<p class=\"p_Normal\"><code><b>{end}</b></code> — адрес будет  указан, если удовлетворены все условия. </p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"cycle\"></a><span class=\"f_Heading2\">Цикл for</span></h2>\n<p class=\"p_Normal\">Цикл <code><b>for</b></code> используется для того, чтобы отобразить в документе список, например, несколько товаров один за другим.</p>\n<p class=\"p_Normal\">Цикл начинается с оператора <code><b>{for &lt;выражение&gt;}</b></code> и заканчивается оператором <code><b>{end}</b></code>. Здесь <code><b>&lt;выражение&gt;</b></code> — поле для переменной, которое при <a class=\"topiclink\" href=\"360026936731.html\">загрузке шаблона в систему</a> и извлечении цикла <code><b>for</b></code> из документа будет определено как список.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"синт шабл 1\" height=\"189\" src=\"hmfile_hash_44ec1a11.png\" style=\"margin:0;width:460px;height:189px;border:none\" width=\"460\"/></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Пример</p>\n<p style=\"margin: 14px 0 0 0;\"><code><b>{for position in {$tovar} }</b></code></p>\n<p><code><b>заказан товар — {$position}</b></code></p>\n<p><code><b>{end}</b></code></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">for для приложений</span></h3>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Цикл <code><b>for</b></code> можно использовать, чтобы отображать данные из приложения. Названия полей можно указывать с префиксом <code><b>data</b></code> или без него, например <code><b>{$data.appListField}</b></code> или <code><b>{$appListField}</b></code>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Пример</p>\n<p style=\"line-height: 1.38; margin: 5px 0 0 0;\"><code><b>{for app in {$appListField}}</b></code></p>\n<p style=\"line-height: 1.38; margin: 5px 0 0 0;\"><code><b>Приложение — {$app}, с именем {$app.__name} на сумму {$app.money}</b></code></p>\n<p style=\"line-height: 1.38; margin: 5px 0 0 0;\"><code><b>{end}</b></code></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Такой же цикл позволяет записать данные приложения в таблицу.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Для файлов формата </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">.xlsx</span><span style=\"font-size: 15px; font-family: Inter;\"> в строках с операторами </span><code><b>{for &lt;выражение&gt;}</b></code><span style=\"font-size: 15px; font-family: Inter;\"> и </span><code><b>{end}</b></code><span style=\"font-size: 15px; font-family: Inter;\"> нельзя располагать дополнительный текст. При генерации документа он удаляется. Исключение составляет текст в </span><span style=\"font-size: 15px; font-family: Inter; color: #0563c1;\"><a class=\"topiclink\" href=\"360027003711.html#merged-cells\">объединённых ячейках</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 13px; color: #000000;\"> </span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Пример</p>\n<p style=\"line-height: 1.38; margin: 5px 0 0 0;\"><code><b>{for app in {$appListField} }</b></code></p>\n<div style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0; border-collapse:collapse;\">\n<tr>\n<td style=\"vertical-align:top; width:141px; padding:4px; border:solid thin #000000;\"><p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><code><b>{$app}</b></code></p>\n</td>\n<td style=\"vertical-align:top; width:141px; padding:4px; border:solid thin #000000;\"><p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><code><b>{$app.__name}</b></code></p>\n</td>\n<td style=\"vertical-align:top; width:141px; padding:4px; border:solid thin #000000;\"><p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><code><b>{$app.money}</b></code></p>\n</td>\n</tr>\n</table>\n</div>\n<p style=\"line-height: 1.38; margin: 5px 0 0 0;\"><code><b>{end}</b></code></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"table-cycle\"></a><span class=\"f_Heading3\">for для таблиц</span></h3>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Вы можете отобразить данные в поле не только в виде списка, но и в виде таблицы. Для корректной работы цикла при <a class=\"topiclink\" href=\"360026936731.html#add_variables\">загрузке шаблона</a> в систему укажите тип данных <a class=\"topiclink\" href=\"360009707032.html#table\">Таблица</a> для переменной в цикле. </p>\n<p class=\"p_Normal\">Если вам нужно выгрузить в документ данные из <a class=\"topiclink\" href=\"360010201779.html\">таблицы</a> ELMA365, например, список товаров с указанием их количества и стоимости, заполненный в процессе обработки заказа, настройте шаблон в формате <span style=\"font-weight: bold;\">.xlsx</span>:</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\">Пропишите команды <code><b>for</b></code> и <code><b>end</b></code><span style=\"font-size: 13px;\"> </span>в первом столбце таблицы.</li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 34px;\">Обратите внимание, в<span style=\"font-size: 15px; font-family: Inter;\"> строках таблицы с операторами </span><code><b>{for &lt;выражение&gt;}</b></code><span style=\"font-size: 15px; font-family: Inter;\"> и </span><code><b>{end}</b></code><span style=\"font-size: 15px; font-family: Inter;\"> нельзя располагать дополнительный текст. При генерации документа он удаляется. Исключение составляет текст в </span><span style=\"font-size: 15px; font-family: Inter; color: #0563c1;\"><a class=\"topiclink\" href=\"360027003711.html#merged-cells\">объединённых ячейках</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"2\">Введите коды полей приложения с префиксом <code><b>row.data</b></code> или <code><b>row</b></code>. Префикс позволяет обратиться к элементу в цикле и заполнить в документе столько строк, сколько заполнено в таблице ELMA365. Например, <code><b>item_price</b></code> — это код поля <span style=\"font-weight: bold;\">Стоимость</span>. В шаблоне он указывается в виде <code><b>{$row.data.item_price}</b></code> или <code><b>{$row.item_price}</b></code>. </li></ol>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 35px;\"><img alt=\"template-syntax-4\" height=\"120\" src=\"template-syntax-4.png\" style=\"margin:0;width:482px;height:120px;border:none\" width=\"482\"/></p>\n<p class=\"p_Normal\">Вы также можете добавить условие <code><b>if</b></code> в цикл <code><b>for</b></code>. Пример описан в статье <a class=\"topiclink\" href=\"ready-made-sheets-settings.html#app-file-template\">«Настройки шаблонов для листов согласования и ознакомления»</a>.</p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">Важно</span>: в шаблоне нельзя располагать несколько таблиц горизонтально рядом друг с другом, так как при генерации параллельные циклы <code><b>for</b></code> не обрабатываются. Вы можете создать <a class=\"topiclink\" href=\"360027003711.html#nested-table\">вложенную таблицу</a>, а затем объединить несколько таблиц в одну, например, в ходе бизнес-процесса с помощью блока <a class=\"topiclink\" href=\"360027203731.html\">Скрипт</a>. Далее на основе уже объединённой таблицы формируется документ по шаблону.</p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Шаблон для таблицы в файле формата .docx</span></h3>\n<p class=\"p_Normal\">Чтобы генерировать таблицу по шаблону в файле формата <span style=\"font-weight: bold;\">.docx</span>: </p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Отделите первую строку таблицы с помощью опции <span style=\"font-weight: bold;\">Разделить таблицу</span>. </li><li class=\"p_Normal\" value=\"2\">В появившейся пустой строке объявите цикл <code><b>for</b></code>. </li><li class=\"p_Normal\" value=\"3\">Настройте шаблон в таблице, указав переменные из контекста бизнес-процесса. </li><li class=\"p_Normal\" value=\"4\">Под таблицей закройте цикл командой <code><b>end</b></code>. </li></ol>\n<p class=\"p_Normal\">Например, шаблон для таблицы в документе может выглядеть следующим образом: </p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><img alt=\"template-syntax-5\" height=\"148\" src=\"template-syntax-5.png\" style=\"margin:0;width:638px;height:148px;border:none\" width=\"638\"/></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"nested-table\"></a><span class=\"f_Heading3\">Вложенные таблицы</span></h3>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Цикл </span><code><b>for</b></code><span style=\"font-size: 15px; font-family: Inter;\"> можно использовать, чтобы создать вложенную таблицу. Для обращения к колонкам вложенной таблицы вместо </span><code><b>row.data</b></code><span style=\"font-size: 15px; font-family: Inter;\"> или </span><code><b>row</b></code><span style=\"font-size: 15px; font-family: Inter;\"> используется другой префикс — </span><code><b>subrow.data</b></code><span style=\"font-size: 15px; font-family: Inter;\"> или </span><code><b>subrow</b></code><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><img alt=\"template-syntax-7\" height=\"189\" src=\"template-syntax-7.png\" style=\"margin:0;width:623px;height:189px;border:none\" width=\"623\"/></p>\n<p class=\"p_Normal\"><a class=\"hmanchor\" id=\"merged-cells\"></a>Обратите внимание, в строках с операторами <code><b>{for &lt;выражение&gt;}</b></code> и <code><b>{end}</b></code> нельзя располагать другой текст, так как он удаляется при генерации. Исключение составляют объединённые по вертикали ячейки. Например, при генерации по такому шаблону значение переменной <code><b>{$row.author}</b></code> отобразится в таблице:</p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><img alt=\"template-syntax-8\" height=\"164\" src=\"template-syntax-8.png\" style=\"margin:0;width:576px;height:164px;border:none\" width=\"576\"/></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Вывести порядковый номер в таблице</span></h3>\n<p class=\"p_Normal\">С помощью цикла <code><b>for</b></code> можно выводить в шаблоне таблицы порядковый номер строки. Для этого используется префикс <code><b>row.data</b></code> или <code><b>row</b></code> и системное свойство <code><b>__index</b></code>, например <code><b>{$row.__index}</b></code>.</p>\n<p class=\"p_Normal\">Шаблон для таблицы с номером строки, названием товара и его стоимостью можно создать следующим образом: </p>\n<p style=\"margin: 14px 0 0 0;\"><img alt=\"template_syntax-6\" height=\"140\" src=\"template_syntax-6.png\" style=\"margin:0;width:490px;height:140px;border:none\" width=\"490\"/></p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"360026936731.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">360026936731.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"another-template-syntax-functions.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">another-template-syntax-functions.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n<script type=\"text/javascript\">\nHMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A2','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A3','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A4','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A5','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A6','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A7','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A8','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186A9','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186AA','hm.type','dropdown','hm.state','0');\nHMInitToggle('TOGGLE0186AB','hm.type','dropdown','hm.state','0');\n</script>\n</body>\n</html>\n",
  "plain_text": "Синтаксис шаблонов ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Дизайнер бизнес-процессов > Шаблоны документов / Синтаксис шаблонов Синтаксис шаблонов Шаблон документа , загружаемый в ELMA365, может содержать любой текст, переменные, функции, условия и циклы. Добавляя шаблон в бизнес-процесс, вы сможете связать поля из вашего шаблона с контекстными переменными процесса. Для составления шаблона используйте: функции: для работы со строчным типом данных ; ToString() — чтобы вывести различные типы данных в переменной; NumberFormat() — вывести число в определённом формате; DateTime() — отразить дату и время в определённом формате с учётом локали; Count() — отобразить число элементов в таблице или приложении; склонения по падежам ; другие специальные функции Barcode() , JobPosition() , PasteImage() , HYPERLINK() и ExtText() . Подробнее читайте в статье «Специальные функции синтаксиса шаблонов» ; условия — чтобы вывести текст, который удовлетворяет заданному условию; цикл for — отобразить данные в виде списка или таблицы. Синтаксис переменных Все переменные в шаблоне должны иметь следующий формат: {$имя_переменной} . Имя переменной уникально и пишется латинскими буквами, например, {$kontragent} . Такая переменная позволит подставить наименование контрагента при создании договора в бизнес‑процессе . В шаблоне можно использовать атрибуты полей из контекста приложения, т. е. обращаться к вложенным переменным. Доступно для полей типа Файлы , Пользователи , Приложение , Произвольное приложение и т. д. Например, в заказе есть поле Договор (код — contract ), куда загружается файл договора, а также поле Клиент (код — client ), в которое добавляется элемент приложения Контакты . В сгенерированном документе можно отобразить название файла или номер телефона клиента. Для этого в синтаксисе шаблона используются код поля из исходного приложения и код вложенной переменной, разделённые точкой: {$contract.__name} или {$client.phone} . При написании функций аргументы и значения переменных заключаются в кавычки. Разрешено использовать следующие виды кавычек: \" \" , « » , “ “ , ” ” , ' ' . Функции для работы со строчным типом данных Эти функции позволяют выводить текст в разном формате. Для примера в переменной $stroka1 задано значение Иван Крапивин : UpperCase(<param1: строка>) — переводит текст в верхний регистр. начало примера Пример {UpperCase({$stroka1})} —> ИВАН КРАПИВИН. конец примера LowerCase(<param1: строка>) — переводит текст в нижний регистр. начало примера Пример {LowerCase({$stroka1})} —> иван крапивин. конец примера Capitalize(<param1: строка>) — переводит первую букву первого слова в заглавную. начало примера Пример {Capitalize({$stroka1})} —> Иван крапивин. конец примера Substr(<param1: строка>, <from: число>, <length: число>) — извлекает часть текста, начиная с указанного символа <from> , длиной в заданное количество символов <length> . Вы можете заполнить только <from> , чтобы сохранить весь текст после указанного символа. начало примера Примеры {Substr({$stroka1}, 0, 3)} —> Ива; {Substr({$stroka1}, 3)} —> н Крапивин. конец примера Функция ToString() Функция ToString() универсальна и позволяет выводить в документе следующие типы данных: Число ; Строка ; Категория ; Выбор «да/нет» ; Деньги ; Ф.И.О. ; Телефон ; Дата/время . Подробнее про типы данных в ELMA365 читайте в статье «Типы данных в системе» . Число Для этого типа данных используется следующий синтаксис: ToString(param1: число, <format: строка>, <locale: строка>) . Для примера в качестве $number1 будем использовать целое число 546. начало примера Пример {ToString({$number1})} —> 546. конец примера По умолчанию число выводится цифрами. Чтобы вывести число прописью, используйте формат astext . начало внимание Дробные числа вывести прописью нельзя. конец внимание начало примера Пример {ToString({$number1}, astext)} —> пятьсот сорок шесть. конец примера Можно указать локаль, чтобы вывести число прописью на другом языке. Доступные локали: русский язык — ru–RU или ru ; английский язык — en–US или en . начало примера Пример {ToString({$number1}, astext, en–US)} —> five hundred forty six. конец примера Строка Строка позволяет отобразить в документе текстовую информацию. Для этого типа данных используется следующий синтаксис: ToString(param1: строка) . Для примера используем переменную $line1 с значением Отправлено на согласование . начало примера Пример {ToString({$line1})} —> отправлено на согласование. конец примера Категория Тип данных Категория используется для того, чтобы выбирать определённое значение из списка. Например, при выборе способа оплаты можно указать, производится оплата картой или наличными. Для этого типа данных используется следующий синтаксис: ToString(param1: категория) . При создании контекстной переменной этого типа в процессе указывается её название и код. Укажите соответствующий код в функции ToString , чтобы в документе, формируемом по шаблону, отобразилось название переменной. Для примера в качестве переменной $category1 возьмём оплату картой: { «code»: «karta», «name»: «картой» } . начало примера Пример Оплата производится {ToString({$category1})} —> Оплата производится картой. конец примера Также для типа данных Категория в шаблон можно вывести название и код категории без использования функции ToString . Начало примера Примеры Оплата производится {$category1.name} —> Оплата производится картой; Оплата производится {$category1} —> Оплата производится картой; Код используемой категории: {$category1.code} —> Код используемой категории: karta. Конец примера Выбор «да/нет» У этого типа данных два варианта: Да и Нет . Вы можете их переименовать, например, Согласовано и Не согласовано . Для примера возьмём $option1 = true . Вариант Да ( yesValue ) определён как Согласовано . начало примера Пример {ToString({$option1})} —> Согласовано. конец примера Деньги Вы можете вывести в документе денежную сумму в различном формате. Для этого типа данных используется следующий синтаксис: ToString(param1: деньги, <format: string>, <locale: string>) . Доступные значения format short —> 1005, 56 (разделитель тысячных и целой/дробной части соответствует локали); sign —> 1005, 56 RUB; full —> 1005 рублей 56 копеек; astext —> Одна тысяча пять рублей 56 копеек; wildcard —> вы можете задать свой формат, например, {ToString({$money1}, «%i руб. %f коп.»)} . В этом случае сумма отобразится следующим образом: 1005 руб. 56 коп.( %i — целая часть, %f — дробная часть). В функции можно указать локаль. Доступные локали: русский язык — ru–RU или ru ; английский язык — en–US или en . начало примера Пример {ToString({$money1}, full, en)} —> 1 005 rubles 56 kopecks. конец примера Ф.И.О. Вы можете указать в документе фамилию, имя и отчество в нужном формате и падеже. Для этого типа данных используется следующий синтаксис: ToString(param1: ФИО, <format: строка>, <case: строка>) . Доступные значения format long — фамилия, имя и отчество указываются полностью (Сергеев Сергей Николаевич); short — указываются фамилия и инициалы (Сергеев С. Н.). Доступные значения case nominative | именительный | И — именительный; genitive | родительный | Р — родительный; dative | дательный | Д — дательный; accusative | винительный | В — винительный; instrumental | творительный | Т — творительный; prepositional | предложный | П — предложный. Обратите внимание, функция максимально правильно склоняет имя в том случае, если указано отчество. начало примера Примеры {ToString({$fio1})} —> Сергеев Сергей Николаевич; {ToString({$fio1}, short)} —> Сергеев С.Н.; {ToString({$fio1}, short, Р)} —> Сергеева С.Н. конец примера Если вы хотите отдельно указать имя, фамилию или отчество, используйте значения, записанные в переменной типа Ф.И.О. : {$executor.fullname.firstname} , {$executor.fullname.lastname} , {$executor.fullname.middlename} . Телефон Вы можете создать маску для ввода телефонного номера. Для этого используется следующий синтаксис: ToString({$phone1}, «+7–XXX–XXX–XX–XX EEE») . Латинские буквы в синтаксисе обозначают: X — основной номер; E — добавочный номер. Если пользователи запишут номер телефона из меньшего количества цифр, чем обозначено в маске для ввода, в готовом документе лишние буквы Х и Е не отобразятся. Телефонный номер заполняется цифрами слева направо. начало примера Примеры {ToString({$phone1}, «+7—XXX—XXX—XX—XX»)} —> +7–912–345–67–89; {ToString({$phone1}, «X—XXX—XXX—XX—XX EEE»)} —> 8–912–345–67–89 159; {ToString({$phone1}, «XX—XX—XX E»)} —> 45–67–89 3. конец примера Дата/время Вы можете указать в шаблоне дату и время, например, дату поставки оборудования по договору. Для этого используется следующий синтаксис: ToString(param1: дата/время, <format: строка>, <locale: строка>) . У типа данных Дата/время есть разные подтипы: Дата/время , Дата , Время . Без указания дополнительных аргументов в документе отображается текущая дата и время. начало примера Пример {ToString({$date1})} —> Дата/время — 09.04.2025 15:18:43; Дата — 09.04.2025; Время — 15:18:43. конец примера При использовании в функции формата short время указывается без уточнения секунд. начало примера Пример {ToString({$date1}, short)} —> Дата/время — 09.04.2025 15:18; Дата — 09.04.2025; Время — 15:18. конец примера Если в функции задан формат long , время будет отображаться с секундами, а дата — с полным названием месяца: начало примера Пример {ToString({$date1}, long)} —> Дата/время — 09.04.2025 19:18:43; Дата — 9 апреля 2025 г.; Время — 19:18:43. конец примера Вы также можете указать локаль: русский язык — ru–RU или ru ; английский язык — en–US или en . начало примера Пример {ToString({$date1}, short, en–US)} —> 4/11/19 7:15 am. конец примера Обратите внимание, подтип Дата/время учитывает временную зону компании и выводит дату с учётом этой зоны. Подтипы Дата и Время выводят абсолютные значения. Пример использования функций для настройки шаблона договора Составили шаблон договора поставки и использовали в нём различные функции и переменные. Затем мы добавили его в бизнес-процесс и связали переменные из шаблона с переменными процесса. После того как пользователи заполняют эти переменные, а процесс доходит до шага Генерация по шаблону , в системе автоматически создаётся готовый договор. Файл с шаблоном, который использован в этом примере, вы можете скачать на свой компьютер. Функция NumberFormat() Позволяет отобразить в документе значение из переменной типа Число в заданном формате, например, с фиксированным количеством знаков после запятой или в шестнадцатеричной системе счисления и т. д. Синтаксис функции: {NumberFormat(<param1: число>, <format>} . Для примера в качестве $number используем дробное число 1125,34. Начало примера Пример {NumberFormat({$number}, 3)} — 1125,340. Спецификатор точности 3 задаёт количество знаков после запятой. Конец примера Допустимые значения format \"D\" или \"d\" — десятичный формат, позволяет отобразить целое число без десятичной части с заполнением строки нулями до указанной длины. {NumberFormat({$number}, “D5”)} → 01125 — спецификатор точности 5 задаёт количество заполняющих нулей; \"E\" или \"e\" — экспоненциальный формат, число отображается в виде мантиссы и порядка. {NumberFormat({$number}, \"E2\")} → 1.13E+03 — спецификатор точности 2 задаёт количество знаков после запятой; \"F\" или \"f\" — фиксированный формат, отображает фиксированное число знаков после запятой. {NumberFormat({$number}, \"F2\")} → 1125,34 — с помощью спецификатора точности задано два знака после запятой; \"G\" или \"g\" — общий формат, преобразует число в фиксированный или экспоненциальный формат для компактности. {NumberFormat({$number}, \"G4\")} → 1125 — в данном случае оказалось компактнее вывести число в фиксированном формате, а спецификатор точности 4 задаёт количество цифр без заполняющих нулей; \"N\" или \"n — числовой формат, отображает число с разделителями разрядов. {NumberFormat({$number}, \"N3\")} → 1 125,340 — спецификатор точности 3 задаёт количество знаков после запятой; \"P\" или \"p\" — процентный формат, число умножается на 100, добавляется знак %. {NumberFormat({$number}, \"P\")} → 112534.00 %; \"R\" или \"r\" — формат точного представления числа без округления. Спецификатор точности не поддерживается. {NumberFormat({$number}, \"R\")} → 1125.34; \"X\" или \"x\" — шестнадцатеричный формат, число отображается в шестнадцатеричной системе счисления без дробной части. {NumberFormat({$number}, \"X\")} → 465. Функция DateTime() Функция DateTime() позволяет вывести в шаблоне дату и время с указанием формата даты и локали. Синтаксис функции: DateTime(<формат:строка>,<переменная:дата/время>,<локаль>) . Например, вы можете указать дату и время создания элемента. Начало примера Пример {DateTime(«YYYY–MM–DD hh:mm:ss»,{$__createdAt},\"ru_RU\")} —> 2025 – 01 – 21 08:30:56. Конец примера В шаблоне поддерживаются следующие виды кавычек: \" \" , « » , “ “ , ” ” , ' ' . начало примера Примеры {DateTime('\"DD\" MMMM YYYY',{$__createdAt},\"ru_RU\")} —> \"31\" августа 2024; {DateTime(\"«DD» MMMM YYYY\",{$__createdAt},\"ru_RU\")} —> «31» августа 2024; {DateTime(«'DD' MMMM YYYY»,{$__createdAt},\"ru_RU\")} —> '31' августа 2024. конец примера Форматы данных Вывод данных: M — месяц (1) MM — месяц (01) MMM — месяц (Янв) MMMM — месяц (Январь) D — день (2) DD — день (02) DDD — день (ПН) DDDD — день (Понедельник) YY — год (06) YYYY — год (2025) hh — часы (15) mm — минуты (04) ss — секунды (05) Локаль: en_US — английский (США); en_GB — английский (Великобритания); de_DE — немецкий; fr_FR — французский; ru_RU — русский; es_ES — испанский. Функция Now() Чтобы подставить в шаблон текущую дату и время с учётом временной зоны, используйте функцию Now() . Синтаксис функции: Now(<format: строка>, <locale: строка>, <timezone: строка>) : с различными значениями format дата будет выводиться по‑разному; Доступные значения format date —> дата (13.04.2025); time —> 15:34; timelong —> 15:34:22; datelong —> 13 апреля 2025 г.; short (по умолчанию) —> 13.04.2025 15:34. для locale доступен русский язык — ru–RU и английский язык — en–US ; timezone задаётся в формате Europe/Samara, America/Toronto. начало примера Примеры синтаксиса функции {Now(datelong, en-US)} — длинная дата, en-US; {Now(datelong, en)} — длинная дата en; {Now(date, en)} — только дата en; {Now(datelong, ru-RU)} — длинная дата ru-RU; {Now(datelong, ru)} — длинная дата ru; {Now(date, ru)} — только дата ru; {Now(time, ru)} — только время ru; {Now(timelong, ru)} — время с секундами ru; {Now(short, ru)} — дата и время без секунд ru. конец примера Функция Count() Позволяет получить число элементов, переданных в переменной типа Таблица или Приложение . Это может быть количество строк в таблице или записей в связанном приложении. С помощью функции можно: отображать общее число элементов, чтобы оценить объём данных; выводить только количество записей вместо таблицы; указывать число записей перед таблицей или списком данных и т. д. Синтаксис функции: {Count({$переменная})} . Начало примера Пример {Count({$report_table})} — число строк в таблице отчёта. {Count({$app})} — число элементов в связанном приложении. Конец примера Вы также можете применять функцию с циклом for . Начало примера Пример Вывести количество строк таблицы, которая вложена в основную таблицу отчёта: {for row in {$report_table}} Subrow count: {Count({$row.execution})} {end} Показать число строк в таблице, которая является свойством связанного приложения: {for row in {$app}} Subrow count: {Count({$row.multi})} {end} где: app — поле, которое ссылается на связанное приложение; row.multi — поле типа Таблица в этом приложении. Конец примера Функции для склонения по падежам В системе доступны функции для склонения слов и словосочетаний. FormatFio (ФорматФио) Склоняет Ф. И. О. в нужном падеже и выводит в нужном формате, например, только имя и отчество. Синтаксис функции: {FormatFio(<ФИО: строка>, <падеж: 1>, <фамилия: 2>)} : [1] — падеж обозначается первой буквой или полным названием («и» или «именительный», «р» или «родительный» и т. д.); [2] — формат отображения Ф. И. О. Допустимые форматы указываются в кавычках, чередуются через пробел, в полной или сокращённой форме: «фамилия» или «ф.»; «имя» или «и.»; «отчество» или «о.». начало примера Пример Данные {FormatFio(«Иванов Иван Иванович»,р,«фамилия и.о.»)} —> Данные Иванова И.И. конец примера Incline (Просклонять) Данная функция возвращает заданную строку в указанном падеже. Синтаксис функции: {Incline(Просклонять)(<Выражение: строка>,<падеж: 1>,<признаки: 2>)} : [1] — падеж обозначается первой буквой или полным названием («и» или «именительный», «р» или «родительный» и т. д.). По умолчанию будет использоваться именительный; [2] — дополнительные признаки комбинируются через пробел: Ф. И. О. (ф); мужской род (м); женский род (ж); нарицательное (н); одушевлённое (о); неодушевлённое (но) начало примера Пример {Просклонять('договор подряда',П,м но)} —> о договоре подряда. конец примера InclineMany (ПросклонятьМнож) Эта функция возвращает заданную строку в указанном падеже и во множественном числе. Параметры такие же, как у функции Incline() . начало примера Пример {ПросклонятьМнож('договор подряда',П)} —> о договорах подряда. конец примера NumberToString (ЧислоВСтроку) Данная функция возвращает указанное число в текстовом формате и в заданном падеже. Правила написания функции: параметры Падеж , Единица измерения и Формат отображения числа прописываются в кавычках — «» ; параметры отделяются друг от друга запятой; единица измерения дробной части указывается с помощью вертикальной черты — | . Синтаксис функции: {NumberToString(<Число>,<падеж: 1>,<единица измерения: 2>,<объём единицы измерения: 3>,<формат: 4>)} : <Число> — число для преобразования в строку; [1] — падеж прописывается с использованием кавычек, например, «И» или «Именительный», «Р» или «Родительный» и т. д. По умолчанию употребляется именительный падеж; начало примера Примеры {NumberToString(5634,«П»)} —> пяти тысячах шестистах тридцати четырёх; {NumberToString(5634.37,«Р»)} —> пяти тысяч шестисот тридцати четырёх целых тридцати семи сотых. конец примера [2] — единицы измерения прописываются с использованием кавычек. Допустимые форматы Название целой части|Название дробной части — «рубль|копейка»; Только целая часть — «рубль». начало примера Примеры {NumberToString(5850,«П»,«рубль»)} —> пяти тысячах восьмистах пятидесяти рублях; {NumberToString(5830.35,«Т»,«евро|евроцент»)} —> пятью тысячами восемьюстами тридцатью евро тридцатью пятью евроцентами. конец примера [3] — объём единиц измерения. Прописывается как число, по умолчанию используется 100; [4] — формат отображения числа. Прописывается с использованием кавычек. Может быть использован без указания параметра [3] . Допустимые значения 0 — отображает только дробную часть числа; A или B (латиница) — идентификатор системного формата: A — {ПЦЧ} {НЦЧ} {ПДЧ} {НДЧ}; B — {ПЦЧ} {НЦЧ} {ДЧ} {НДЧ}; пользовательский шаблон отображения целой и дробной частей. Расшифровка значений: {ЦЧ} или {ЦелаяЧасть} — шаблон для отображения целой части числа; {ДЧ} или {ДробнаяЧасть} — шаблон для отображения дробной части числа; {ЦЧ:Ф} или {ЦелаяЧасть:Ф} — шаблон для отображения целой части числа с использованием формата отображения; {ДЧ:Ф} или {ДробнаяЧасть:Ф} — шаблон для отображения дробной части числа с использованием формата отображения; {ПЦЧ} или {ПрописьЦелойЧасти} — шаблон для отображения целой части числа прописью; {ПДЧ} или {ПрописьДробнойЧасти} — шаблон для отображения дробной части числа прописью; {НЦЧ} или {НаименованиеЦелойЧасти} — шаблон для отображения единиц измерения целой части числа; {НДЧ} или {НаименованиеДробнойЧасти} — шаблон для отображения единиц измерения дробной части числа . Символ Ф заменяется на обозначение формата. Доступные форматы можно посмотреть в документации . начало примера Примеры {NumberToString(46.25,«И»,«ящик|мешок»,38,«{ЦЧ}({ПЦЧ}{НЦЧ}) примерно {ДЧ}({ПДЧ}{НДЧ}) и один контейнер»)} —> 46 (сорок шесть ящиков) примерно 10 (десять мешков) и один контейнер. Примечание: .25 — это четверть. Мы указали, что в целом — 38 частей. 38\\4 = 9.5 (округляется до 10); {NumberToString(12345.5,«Д»,«бочка|литр»,60,«{ЦЧ:N} ({ПЦЧ} {НЦЧ}) и {ДЧ} ({ПДЧ} {НДЧ})»)} —> 12,345.000 (двенадцати тысячам трёмстам сорока пяти бочкам) и 30 (тридцати литрам). Примечание: В значении {ЦЧ:N} :N — это формат отображения. Данный формат обозначает, что всегда необходимо показывать дробную часть в числе, но, так как в функции дробная часть отделяется, после запятой будут идти нули. конец примера ChangeKind (ИзменитьРод) Данная функция позволяет изменить род прилагательного. Синтаксис функции: {ChangeKind(<прилагательное в именительном падеже мужского рода: строка>,<род: 1>)} . [1] — род и число, в которые нужно преобразовать. Допустимые значения мужской род (м, муж); женский род (ж, жен); средний род (с, ср); множественное число (мн, множ). В скобках даны сокращённые варианты. начало примера Примеры {ChangeKind(спокойный,жен)} —> спокойная; {ChangeKind(спокойный,мн)} —> спокойные. конец примера GetPartOfFullName (Фио) Функция позволяет получить полное имя или его часть. Синтаксис функции: {Фио(<ФИО:строка>,<часть ФИО:1>)} . [1] — часть Ф. И. О. Допустимые значения фамилия (ф); имя (и); отчество (о); полное имя (полн). В скобках даны сокращённые варианты. начало примера Пример {Фио('Пушкин Александр Сергеевич',о)} —> Сергеевич. конец примера AnotherGenderSecondName (ФамилияПротивоположногоПола) Функция позволяет получить фамилию противоположного пола. Синтаксис функции: {ФамилияПротивоположногоПола(<фамилия:строка>)} . начало примера Пример {ФамилияПротивоположногоПола(Петров)} —> Петрова. конец примера Условия В зависимости от условия, записанного в шаблоне, в документе можно вывести тот или иной текст. Условие начинается с оператора {if <условие>} и заканчивается оператором {end} . Здесь <условие> — это любое условие, например, {$имя_переменной} = «Да» . начало примера Пример 1 {if {$user_name} = «Петров Илья»} С уважением, Петров Илья {end} —> в функции задаётся условие для проверки имени пользователя. Если значение в поле совпадёт, отобразится указанный текст . Пример 2 {if {$week.day} = «Пятница»} До свидания, хороших выходных! {else} До свидания! {end} —> в примере проверяется текущий день недели. В зависимости от его значения отобразится один из вариантов указанного текста . конец примера начало внимание При использовании многострочных условий для файлов формата .xlsx нельзя располагать дополнительный текст в строках с операторами {if <условие>} , {else} и {end} . При генерации документа он удаляется. конец внимание Обратите внимание, для переменных типа Выбор «да/нет» нужно указывать значения из поля Варианты . По умолчанию это Да и Нет . Начало примера Пример {if {$options} <> «Нет»} Текст для примера {end} —> текст будет отображаться только в том случае, если выбрано значение Да . Конец примера В функции можно проверять наличие значений у свойств элемента приложения. Если поле на форме заполнено, можно вывести его значение. Для свойства типа Приложение или Файлы функция условия применяется, если в нём содержится только одно значение, т. е. для свойства включена опция Один . Когда отмечена опция Несколько , используется Цикл for . Начало примера Пример {if {$document}} {$document} {end} —> если в поле типа Файлы загружен документ, в сгенерированном файле отобразится его название . конец примера При написании условий вы можете использовать следующие операторы: = — равно; <> — не равно; > — больше; >= — больше или равно; < — меньше; <= — меньше или равно. Логические операторы OR и AND Для создания сложных условий можно использовать операторы OR и AND , которые позволяют задавать несколько условий в виде одной конструкции. При использовании OR достаточно, чтобы выполнилось хотя бы одно из указанных условий. начало примера Пример {if {$trip.location_type} = «Гостиница» OR {$trip.location_type} = «Квартира принимающей стороны»} {$business_trip_request.city} {end} — адрес будет указан в зависимости от типа размещения. конец примера При использовании AND нужно, чтобы выполнялись все перечисленные условия. начало примера Пример {if {$item.price} < 5000 AND {$item.isAvailable}} {$item.name} {end} — название элемента будет указано, если выполняются оба условия. конец примера Условия с логическими операторами OR и AND можно комбинировать, используя скобки. начало примера Пример {if ({$business_trip_request.location_type} = «Гостиница» OR {$business_trip_request.location_type} = «Квартира принимающей стороны») AND ({$business_trip_request.price} < 5000)} {$business_trip_request.city} {end} — адрес будет указан, если удовлетворены все условия. конец примера Цикл for Цикл for используется для того, чтобы отобразить в документе список, например, несколько товаров один за другим. Цикл начинается с оператора {for <выражение>} и заканчивается оператором {end} . Здесь <выражение> — поле для переменной, которое при загрузке шаблона в систему и извлечении цикла for из документа будет определено как список. начало примера Пример {for position in {$tovar} } заказан товар — {$position} {end} конец примера for для приложений Цикл for можно использовать, чтобы отображать данные из приложения. Названия полей можно указывать с префиксом data или без него, например {$data.appListField} или {$appListField} . начало примера Пример {for app in {$appListField}} Приложение — {$app}, с именем {$app.__name} на сумму {$app.money} {end} конец примера Такой же цикл позволяет записать данные приложения в таблицу. начало внимание Для файлов формата .xlsx в строках с операторами {for <выражение>} и {end} нельзя располагать дополнительный текст. При генерации документа он удаляется. Исключение составляет текст в объединённых ячейках . конец внимание начало примера Пример {for app in {$appListField} } {$app} {$app.__name} {$app.money} {end} конец примера for для таблиц Вы можете отобразить данные в поле не только в виде списка, но и в виде таблицы. Для корректной работы цикла при загрузке шаблона в систему укажите тип данных Таблица для переменной в цикле. Если вам нужно выгрузить в документ данные из таблицы ELMA365, например, список товаров с указанием их количества и стоимости, заполненный в процессе обработки заказа, настройте шаблон в формате .xlsx : Пропишите команды for и end в первом столбце таблицы. Обратите внимание, в строках таблицы с операторами {for <выражение>} и {end} нельзя располагать дополнительный текст. При генерации документа он удаляется. Исключение составляет текст в объединённых ячейках . Введите коды полей приложения с префиксом row.data или row . Префикс позволяет обратиться к элементу в цикле и заполнить в документе столько строк, сколько заполнено в таблице ELMA365. Например, item_price — это код поля Стоимость . В шаблоне он указывается в виде {$row.data.item_price} или {$row.item_price} . Вы также можете добавить условие if в цикл for . Пример описан в статье «Настройки шаблонов для листов согласования и ознакомления» . Важно : в шаблоне нельзя располагать несколько таблиц горизонтально рядом друг с другом, так как при генерации параллельные циклы for не обрабатываются. Вы можете создать вложенную таблицу , а затем объединить несколько таблиц в одну, например, в ходе бизнес-процесса с помощью блока Скрипт . Далее на основе уже объединённой таблицы формируется документ по шаблону. Шаблон для таблицы в файле формата .docx Чтобы генерировать таблицу по шаблону в файле формата .docx : Отделите первую строку таблицы с помощью опции Разделить таблицу . В появившейся пустой строке объявите цикл for . Настройте шаблон в таблице, указав переменные из контекста бизнес-процесса. Под таблицей закройте цикл командой end . Например, шаблон для таблицы в документе может выглядеть следующим образом: Вложенные таблицы Цикл for можно использовать, чтобы создать вложенную таблицу. Для обращения к колонкам вложенной таблицы вместо row.data или row используется другой префикс — subrow.data или subrow . Обратите внимание, в строках с операторами {for <выражение>} и {end} нельзя располагать другой текст, так как он удаляется при генерации. Исключение составляют объединённые по вертикали ячейки. Например, при генерации по такому шаблону значение переменной {$row.author} отобразится в таблице: Вывести порядковый номер в таблице С помощью цикла for можно выводить в шаблоне таблицы порядковый номер строки. Для этого используется префикс row.data или row и системное свойство __index , например {$row.__index} . Шаблон для таблицы с номером строки, названием товара и его стоимостью можно создать следующим образом: 360026936731.html another-template-syntax-functions.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360026936731.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360026720792.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360027003711.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/another-template-syntax-functions.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360009707032.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/doc_template.docx",
    "https://msdn.microsoft.com/ru-ru/library/fzeeb5cd(v=vs.110).aspx",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360010201779.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/ready-made-sheets-settings.html",
    "https://elma365.com/ru/help/kedo/ru/help/platform/ru/help/business_solutions/360027203731.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T21:50:09.537955",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T21:50:09.645757"
  }
}