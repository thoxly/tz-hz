{
  "doc_id": "360012495911",
  "url": "https://elma365.com/ru/help/kedo/ /ru/help/platform/360012495911.html",
  "title": "Шлюзы",
  "breadcrumbs": [],
  "section": "[kedo]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Шлюзы</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"«Примеры настройки переходов»\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Шлюзы представляют собой точки принятия решения в процессе. Они используются для того, чтобы направить процесс по той или иной ветке в зависимости от определённых условий.\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/360012495911.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Дизайнер бизнес-процессов &gt; Графические элементы / Шлюзы</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\" style=\"text-align: center; margin: 19px 0 19px 0;\"><span class=\"f_Heading1\" style=\"font-size: 32px;\">Шлюзы</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><span style=\"font-weight: bold;\">Шлюзы</span> представляют собой точки принятия решения в процессе. Они используются для того, чтобы направить процесс по той или иной ветке в зависимости от определённых условий.</p>\n<p class=\"p_Normal\">Например, если в счёте указана крупная сумма, то его согласует руководитель сотрудника, оформившего счёт, а также генеральный директор. Если же сумма незначительная, заявителю выдадут деньги сразу после одобрения руководителя.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"1.png\" height=\"374\" src=\"360011597271-1.png\" style=\"margin:0;width:663px;height:374px;border:none\" title=\"1.png\" width=\"663\"/></p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><a class=\"hmanchor\" id=\"exclusive-gateway\"></a><span class=\"f_Heading2\" style=\"font-size: 24px;\">Исключающий шлюз </span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><img alt=\"2.png\" height=\"77\" src=\"360011597251-2.png\" style=\"float:left;margin:0 15px 0 3px;width:81px;height:77px;border:none\" title=\"2.png\" width=\"81\"/>Исключающий шлюз направляет процесс только по одному исходящему переходу.</p>\n<p class=\"p_Normal\">Рассмотрим подробнее, как это работает. Сначала вы задаёте условия для нескольких исходящих переходов. Подробнее о том, как это сделать, читайте в статье <span style=\"background-color: #ffffff;\"><a class=\"topiclink\" href=\"360015835331.html#gateway\">«Переходы»</a></span>.</p>\n<p class=\"p_Normal\">Как только процесс достигнет шлюза, заданные условия будут проверены. Выбирается та ветка процесса, условие которой выполнилось. Порядок проверки условий задаётся в настройках шлюза на вкладке <span style=\"background-color: #ffffff;\"><a class=\"topiclink\" href=\"360012495911.html#transitions_tab\">Переходы</a></span><span style=\"font-family: 'Times New Roman',Times,Georgia,serif;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p class=\"p_Normal\">Для исключающего шлюза с условием типа <span style=\"font-weight: bold;\">ИЛИ</span> обязательно должен быть указан переход по умолчанию. По нему будет направлен ход процесса, если заданные условия не выполнятся.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p class=\"p_Normal\">Например, в процессе продаж менеджер может предложить клиенту дополнительные услуги. В зависимости от решения покупателя процесс либо завершается, либо сотруднику назначается задача оформить договор.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"4.png\" height=\"234\" src=\"360011596472-4.png\" style=\"margin:0;width:463px;height:234px;border:none\" title=\"4.png\" width=\"463\"/></p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Неисключающий шлюз </span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><img alt=\"3.png\" height=\"75\" src=\"360011597291-3.png\" style=\"float:left;margin:0 15px 0 3px;width:79px;height:75px;border:none\" title=\"3.png\" width=\"79\"/>Неисключающий шлюз направляет процесс по одному или нескольким исходящим переходам, для которых выполняется условие.</p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Например, после того, как оператор примет заказ, процесс может развиваться следующим образом:</p>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"> </p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"6.png\" height=\"294\" src=\"360011597331-6.png\" style=\"margin:0;width:498px;height:294px;border:none\" title=\"6.png\" width=\"498\"/></p>\n<ul style=\"list-style-type:disc\">\n<li>если сумма заказа &gt;10 000 рублей, оператор добавит к заказу подарок А;</li><li>если клиент оплачивает товар при покупке, то ему предложат подарок Б;</li><li>если выполнятся оба условия, перечисленные выше, покупатель получит два подарка;</li><li>если не выполнится ни одно условие, операции со шлюзами будут пропущены, и оператор получит задачу <span style=\"font-weight: bold;\">Доставить товар</span>.</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"margin: 14px 0 0 0;\">Все ветки процесса, исходящие из неисключающего шлюза, должны замыкаться на такой же шлюз.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Параллельный шлюз </span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><img alt=\"Screen_Shot_09-18-18_at_02.53_PM.PNG\" height=\"66\" src=\"360011597371-screen_shot_09-18-18_at_02.53_pm.png\" style=\"float:left;margin:0 15px 0 3px;width:70px;height:66px;border:none\" title=\"Screen_Shot_09-18-18_at_02.53_PM.PNG\" width=\"70\"/>Параллельный шлюз направляет процесс по всем исходящим переходам. Этот шлюз отличается от описанных выше. Он не проверяет условия переходов, а разделяет процесс на несколько потоков, которые будут исполняться одновременно.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Например, после того, как новый сотрудник будет принят, офис-менеджер должен подготовить рабочее место, системный администратор — создать аккаунт в корпоративной системе, а HR-специалист — собрать приветственный пакет для новичка. Все эти задачи можно выполнять одновременно, поэтому для описания хода процесса выбирается параллельный шлюз.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"margin: 14px 0 0 0;\">Все ветви процесса, исходящие из параллельного шлюза, должны замыкаться на такой же шлюз.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"5.png\" height=\"314\" src=\"360011597311-5.png\" style=\"margin:0;width:559px;height:314px;border:none\" title=\"5.png\" width=\"559\"/></p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Настройка шлюзов</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">Вы можете редактировать названия шлюзов, добавлять описание, изменять тип, а также настраивать порядок проверки условий переходов. Чтобы открыть окно с настройками, дважды нажмите на шлюз на схеме процесса.</p>\n<h3 class=\"p_Heading3\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading3\" style=\"font-size: 19px;\">Вкладка «Основное»</span></h3>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><img alt=\"Шлюзы_08\" height=\"410\" src=\"hmfile_hash_c9c3bec9.png\" style=\"margin:0;width:947px;height:410px;border:none\" width=\"947\"/></p>\n<ul style=\"list-style-type:disc\">\n<li><span style=\"font-weight: bold;\">Название</span> — укажите наименование шлюза, которое будет отображаться на схеме процесса;</li><li><span style=\"font-weight: bold;\">Тип шлюза</span> — выберите опцию из выпадающего списка, чтобы изменить тип шлюза.</li></ul>\n<h3 class=\"p_Heading3\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading3\" style=\"font-size: 19px;\">Вкладка «Служебная переменная»</span></h3>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><a class=\"hmanchor\" id=\"variable\"></a>Вкладка <span style=\"font-weight: bold;\">Служебная переменная</span> доступна только для исключающих и неисключающих шлюзов. Используя служебную переменную, можно определить, по какому переходу будет развиваться процесс. Значение служебной переменной рассчитывается при помощи скрипта.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"Шлюзы_09\" height=\"328\" src=\"hmfile_hash_e07d7b56.png\" style=\"margin:0;width:764px;height:328px;border:none\" width=\"764\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Например, для бизнес-процесса согласования счёта можно создать служебную переменную <span style=\"font-weight: bold;\">Сумма с НДС</span>. Если значение служебной переменной выше или равно 100 000 рублей, процесс пойдёт по переходу <span style=\"font-weight: bold;\">Требуется согласование</span>. В остальных случаях процесс направится по ветке <span style=\"font-weight: bold;\">Оплатить</span>.</p>\n<p class=\"p_Normal\">Чтобы описанный пример выполнялся, задайте следующие настройки шлюза:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"1\">Выберите опцию <span style=\"font-weight: bold;\">В условиях перехода использовать служебную переменную</span>.</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"2\">Укажите <a class=\"topiclink\" href=\"360009707032.html\">тип переменной</a>. Вы можете использовать только переменные типа <span style=\"font-weight: bold;\">Строка</span>, <span style=\"font-weight: bold;\">Число</span> и <span style=\"font-weight: bold;\">Выбор «да/нет»</span>. В данном случае это <span style=\"font-weight: bold;\">Число</span>, так как переменная содержит сумму заказа с НДС.</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"3\">Добавьте<span style=\"font-weight: bold;\"> </span>скрипт, который будет рассчитывать значение переменной. Для этого выберите существующий скрипт из списка или нажмите <span style=\"font-weight: bold;\">Создать</span>. Укажите название, нажмите <span style=\"font-weight: bold;\">Сохранить</span>, а затем — <span style=\"font-weight: bold;\">Открыть</span>. Откроется вкладка <a class=\"topiclink\" href=\"360028476691.html\">Скрипты</a>,<span style=\"font-weight: bold;\"> </span>где можно добавить свой скрипт, используя язык <a class=\"weblink\" href=\"https://www.typescriptlang.org/\">TypeScript</a>. Подробнее про написание скриптов вы можете прочитать в <a class=\"weblink\" href=\"https://tssdk.elma365.com/ru/latest/index.html\" target=\"_blank\">справке ELMA365 TS SDK</a>.</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p class=\"p_Normal\">Использование констант <code><b>Global</b></code> или <code><b>Namespace</b></code> в скриптах ограничивает экспорт компонентов системы. Подробнее об этом читайте в статье <a class=\"topiclink\" href=\"global-constants.html#export-restrictions\">«Глобальные константы в скриптах»</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"4\">Сохраните и проверьте скрипт. Обнаруженные ошибки подчеркнутся в редакторе. Скрипт с ошибками опубликовать нельзя.</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"5\">После публикации скрипт выполнится, и размер суммы с НДС рассчитается автоматически, когда процесс дойдёт до шлюза.</li></ol>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">В нашем примере, если сумма счёта менее 100 000 рублей, процесс должен двигаться по переходу <span style=\"font-weight: bold;\">Оплатить</span>. Во всех остальных случаях процесс развивается по переходу <span style=\"font-weight: bold;\">Требуется согласование</span>.</p>\n<ol start=\"6\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"6\">Чтобы реализовать эту логику, задайте условия перехода. Для этого в окне настроек шлюза откройте вкладку <a class=\"topiclink\" href=\"360012495911.html#transitions_tab\">Переходы</a>.</li></ol>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 36px;\"><img alt=\"Шлюзы_10\" height=\"439\" src=\"hmfile_hash_5e44de08.png\" style=\"margin:0;width:953px;height:439px;border:none\" width=\"953\"/></p>\n<ol start=\"7\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"7\">Укажите, что<span style=\"font-weight: bold;\"> Оплатить</span> является переходом по умолчанию.</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"8\">Нажмите на переход <span style=\"font-weight: bold;\">Требуется согласование</span>, чтобы задать условие, при котором процесс пойдёт по данной ветке.</li><li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"9\">В открывшемся окне перейдите на вкладку <span style=\"font-weight: bold;\">Условия перехода </span>и нажмите кнопку <span style=\"font-weight: bold;\">+ Добавить условие</span>.</li></ol>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 36px;\"><img alt=\"swimlanes-10\" height=\"266\" src=\"swimlanes-10.png\" style=\"margin:0;width:758px;height:266px;border:none\" width=\"758\"/></p>\n<ul style=\"list-style-type:disc\">\n<li><span style=\"font-weight: bold;\">Переменная процесса </span>—<span style=\"font-weight: bold;\"> </span>выберите свойство <span style=\"font-weight: bold;\">Служебная переменная шлюза</span>;</li><li><span style=\"font-weight: bold;\">Операция </span>—<span style=\"font-weight: bold;\"> </span>укажите оператор сравнения для проверки условия;</li><li><span style=\"font-weight: bold;\">Значение поля </span>— впишите нужное значение.</li></ul>\n<ol start=\"10\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" style=\"margin-top: 14px; margin-right: 0; margin-bottom: 0;\" value=\"10\">Сохраните настройки. </li></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Теперь при достижении шлюза значение переменной <span style=\"font-weight: bold;\">Сумма с НДС</span> рассчитается автоматически с помощью заданного скрипта. Если значение окажется больше или равно 100 000, процесс пойдёт по переходу <span style=\"font-weight: bold;\">Требуется согласование</span>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Использование служебной переменной позволяет сделать карту процесса менее загруженной, потому что скрипт реализуется в шлюзе, а не добавляется на схему <a class=\"topiclink\" href=\"360027203731.html\">отдельным блоком</a>.</p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"transitions_tab\"></a><span class=\"f_Heading3\">Вкладка «Переходы»</span></h3>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Вкладка доступна только для исключающих шлюзов. Здесь вы можете задать порядок проверки условий. Также укажите переход по умолчанию, чтобы по нему направить процесс, если не выполнятся заданные условия. Нажав на название перехода, вы перейдёте к его настройкам.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"Шлюзы_12\" height=\"443\" src=\"hmfile_hash_ddb9cf19.png\" style=\"margin:0;width:952px;height:443px;border:none\" width=\"952\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Подробнее о том, как настраиваются условия, читайте в статье <a class=\"topiclink\" href=\"360015835331.html#gateway\">«Переходы»</a>. С применением шлюзов с одним или несколькими условиями переходов можно ознакомиться в статье <a class=\"topiclink\" href=\"connectors-use-cases.html\">«Примеры настройки переходов»</a>.</p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Вкладка «Описание»</span></h3>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Укажите служебную информацию о работе шлюза, например, опишите принцип его исполнения. Администраторы системы и сотрудники, моделирующие процесс, смогут перейти на вкладку и ознакомиться с этими данными.</p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Исключающий шлюз в повторяющемся шаге</span></h2>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Исключающий шлюз можно использовать для действия, повторяющегося в бизнес-процессе несколько раз. Чтобы не допустить зацикленности процесса, такое действие не должно выполняться более 100 раз. Вы можете обойти это ограничение. Для этого в процессе используется таймер для постепенного запуска повторяющихся шагов. Подробнее об этом читайте в статье <a class=\"topiclink\" href=\"360020599512.html#finish-step\">«Возможные ошибки по ходу процесса»</a>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"> </p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"360027203731.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">360027203731.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"360012496011.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">360012496011.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n</body>\n</html>\n",
  "plain_text": "Шлюзы ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Дизайнер бизнес-процессов > Графические элементы / Шлюзы Шлюзы Шлюзы представляют собой точки принятия решения в процессе. Они используются для того, чтобы направить процесс по той или иной ветке в зависимости от определённых условий. Например, если в счёте указана крупная сумма, то его согласует руководитель сотрудника, оформившего счёт, а также генеральный директор. Если же сумма незначительная, заявителю выдадут деньги сразу после одобрения руководителя. Исключающий шлюз Исключающий шлюз направляет процесс только по одному исходящему переходу. Рассмотрим подробнее, как это работает. Сначала вы задаёте условия для нескольких исходящих переходов. Подробнее о том, как это сделать, читайте в статье «Переходы» . Как только процесс достигнет шлюза, заданные условия будут проверены. Выбирается та ветка процесса, условие которой выполнилось. Порядок проверки условий задаётся в настройках шлюза на вкладке Переходы . начало внимание Для исключающего шлюза с условием типа ИЛИ обязательно должен быть указан переход по умолчанию. По нему будет направлен ход процесса, если заданные условия не выполнятся. конец внимание Например, в процессе продаж менеджер может предложить клиенту дополнительные услуги. В зависимости от решения покупателя процесс либо завершается, либо сотруднику назначается задача оформить договор. Неисключающий шлюз Неисключающий шлюз направляет процесс по одному или нескольким исходящим переходам, для которых выполняется условие. Например, после того, как оператор примет заказ, процесс может развиваться следующим образом: если сумма заказа >10 000 рублей, оператор добавит к заказу подарок А; если клиент оплачивает товар при покупке, то ему предложат подарок Б; если выполнятся оба условия, перечисленные выше, покупатель получит два подарка; если не выполнится ни одно условие, операции со шлюзами будут пропущены, и оператор получит задачу Доставить товар . начало внимание Все ветки процесса, исходящие из неисключающего шлюза, должны замыкаться на такой же шлюз. конец внимание Параллельный шлюз Параллельный шлюз направляет процесс по всем исходящим переходам. Этот шлюз отличается от описанных выше. Он не проверяет условия переходов, а разделяет процесс на несколько потоков, которые будут исполняться одновременно. Например, после того, как новый сотрудник будет принят, офис-менеджер должен подготовить рабочее место, системный администратор — создать аккаунт в корпоративной системе, а HR-специалист — собрать приветственный пакет для новичка. Все эти задачи можно выполнять одновременно, поэтому для описания хода процесса выбирается параллельный шлюз. начало внимание Все ветви процесса, исходящие из параллельного шлюза, должны замыкаться на такой же шлюз. конец внимание Настройка шлюзов Вы можете редактировать названия шлюзов, добавлять описание, изменять тип, а также настраивать порядок проверки условий переходов. Чтобы открыть окно с настройками, дважды нажмите на шлюз на схеме процесса. Вкладка «Основное» Название — укажите наименование шлюза, которое будет отображаться на схеме процесса; Тип шлюза — выберите опцию из выпадающего списка, чтобы изменить тип шлюза. Вкладка «Служебная переменная» Вкладка Служебная переменная доступна только для исключающих и неисключающих шлюзов. Используя служебную переменную, можно определить, по какому переходу будет развиваться процесс. Значение служебной переменной рассчитывается при помощи скрипта. Например, для бизнес-процесса согласования счёта можно создать служебную переменную Сумма с НДС . Если значение служебной переменной выше или равно 100 000 рублей, процесс пойдёт по переходу Требуется согласование . В остальных случаях процесс направится по ветке Оплатить . Чтобы описанный пример выполнялся, задайте следующие настройки шлюза: Выберите опцию В условиях перехода использовать служебную переменную . Укажите тип переменной . Вы можете использовать только переменные типа Строка , Число и Выбор «да/нет» . В данном случае это Число , так как переменная содержит сумму заказа с НДС. Добавьте скрипт, который будет рассчитывать значение переменной. Для этого выберите существующий скрипт из списка или нажмите Создать . Укажите название, нажмите Сохранить , а затем — Открыть . Откроется вкладка Скрипты , где можно добавить свой скрипт, используя язык TypeScript . Подробнее про написание скриптов вы можете прочитать в справке ELMA365 TS SDK . начало внимание Использование констант Global или Namespace в скриптах ограничивает экспорт компонентов системы. Подробнее об этом читайте в статье «Глобальные константы в скриптах» . конец внимание Сохраните и проверьте скрипт. Обнаруженные ошибки подчеркнутся в редакторе. Скрипт с ошибками опубликовать нельзя. После публикации скрипт выполнится, и размер суммы с НДС рассчитается автоматически, когда процесс дойдёт до шлюза. В нашем примере, если сумма счёта менее 100 000 рублей, процесс должен двигаться по переходу Оплатить . Во всех остальных случаях процесс развивается по переходу Требуется согласование . Чтобы реализовать эту логику, задайте условия перехода. Для этого в окне настроек шлюза откройте вкладку Переходы . Укажите, что Оплатить является переходом по умолчанию. Нажмите на переход Требуется согласование , чтобы задать условие, при котором процесс пойдёт по данной ветке. В открывшемся окне перейдите на вкладку Условия перехода и нажмите кнопку + Добавить условие . Переменная процесса — выберите свойство Служебная переменная шлюза ; Операция — укажите оператор сравнения для проверки условия; Значение поля — впишите нужное значение. Сохраните настройки. Теперь при достижении шлюза значение переменной Сумма с НДС рассчитается автоматически с помощью заданного скрипта. Если значение окажется больше или равно 100 000, процесс пойдёт по переходу Требуется согласование . Использование служебной переменной позволяет сделать карту процесса менее загруженной, потому что скрипт реализуется в шлюзе, а не добавляется на схему отдельным блоком . Вкладка «Переходы» Вкладка доступна только для исключающих шлюзов. Здесь вы можете задать порядок проверки условий. Также укажите переход по умолчанию, чтобы по нему направить процесс, если не выполнятся заданные условия. Нажав на название перехода, вы перейдёте к его настройкам. Подробнее о том, как настраиваются условия, читайте в статье «Переходы» . С применением шлюзов с одним или несколькими условиями переходов можно ознакомиться в статье «Примеры настройки переходов» . Вкладка «Описание» Укажите служебную информацию о работе шлюза, например, опишите принцип его исполнения. Администраторы системы и сотрудники, моделирующие процесс, смогут перейти на вкладку и ознакомиться с этими данными. Исключающий шлюз в повторяющемся шаге Исключающий шлюз можно использовать для действия, повторяющегося в бизнес-процессе несколько раз. Чтобы не допустить зацикленности процесса, такое действие не должно выполняться более 100 раз. Вы можете обойти это ограничение. Для этого в процессе используется таймер для постепенного запуска повторяющихся шагов. Подробнее об этом читайте в статье «Возможные ошибки по ходу процесса» . 360027203731.html 360012496011.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360015835331.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360012495911.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360009707032.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360028476691.html",
    "https://www.typescriptlang.org/",
    "https://tssdk.elma365.com/ru/latest/index.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/global-constants.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360027203731.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/connectors-use-cases.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360020599512.html",
    "https://elma365.com/ru/help/kedo/ /ru/help/platform/360012496011.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T22:01:00.945985",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T22:01:01.022481"
  }
}