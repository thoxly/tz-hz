{
  "doc_id": "fail-safe-haproxy",
  "url": "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/fail-safe-haproxy.html",
  "title": "Отказоустойчивый HAProxy",
  "breadcrumbs": [
    "ELMA365 On-Premises",
    "Подготовка инфраструктуры ELMA365 On-Premises"
  ],
  "section": "ELMA365 On-Premises > Подготовка инфраструктуры ELMA365 On-Premises | [business_solutions]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Отказоустойчивый HAProxy</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"HAProxy — инструмент обеспечения высокой доступности и балансировки нагрузки. В архитектуре системы ELMA365 HAProxy используется для построения отказоустойчивой архитектуры при...\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/fail-safe-haproxy.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p><a href=\"elma365-on-premises.html\">ELMA365 On-Premises</a> &gt; <a href=\"infrastructure-preparation.html\">Подготовка инфраструктуры ELMA365 On-Premises</a> &gt; Балансировщик нагрузки / Отказоустойчивый HAProxy</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Отказоустойчивый HAProxy</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\">HAProxy — инструмент обеспечения высокой доступности и балансировки нагрузки. В архитектуре системы ELMA365 HAProxy используется для построения отказоустойчивой архитектуры при организации высокодоступного кластера ELMA365. В зависимости от выстраиваемой архитектуры выбирается необходимая конфигурация HAProxy. В статье описана установка HAProxy и keepalived для ОС Ubuntu Linux 20.04 и 22.04.</p>\n<p class=\"p_Normal\">Установка состоит из шести этапов:</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#prepare-nodes\">Подготовка нод (серверов)</a>.</li><li class=\"p_Normal\" value=\"2\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#install-haproxy\">Установка HAProxy</a>.</li><li class=\"p_Normal\" value=\"3\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#install-keepalived\">Установка keepalived</a>.</li><li class=\"p_Normal\" value=\"4\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#set-up-keepalived\">Настройка keepalived</a>.</li><li class=\"p_Normal\" value=\"5\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#set-up-haproxy-configuration\">Настройка базовой конфигурации HAProxy</a>.</li><li class=\"p_Normal\" value=\"6\"><a class=\"topiclink\" href=\"fail-safe-haproxy.html#add-configurations\">Добавление конфигураций для балансировки компонентов ELMA365</a>.</li></ol>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"prepare-nodes\"></a><span class=\"f_Heading2\">Шаг 1. Подготовка нод (серверов)</span></h2>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Создайте две ноды (сервера) с последовательно пронумерованными именами хостов:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">haproxy-server1.your_domain</span>, <span style=\"font-weight: bold;\">192.168.1.1</span>;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">haproxy-server2.your_domain</span>, <span style=\"font-weight: bold;\">192.168.1.2</span>.</li></ul>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">Создайте сопоставления имён хостов в DNS-сервере и внесите соответствующую А-запись для виртуального IP:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">haproxy-server.your_domain A 192.168.1.13</span></p>\n<p class=\"p_Normal\">Если такой возможности нет, внесите нужные записи в <code><b>/etc/hosts</b></code>.</p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">Включите параметры ядра <code><b>net.ipv4.ip_nonlocal_bind, net.ipv4.ip_forward</b></code>, выполнив следующие команды:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo echo net.ipv4.ip_nonlocal_bind=1 &gt;&gt; /etc/sysctl.conf</span><br/>\n<span class=\"f_CodeExample\">sudo echo net.ipv4.ip_forward=1 &gt;&gt; /etc/sysctl.conf</span><br/>\n<span class=\"f_CodeExample\">sudo sysctl -p</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"install-haproxy\"></a><span class=\"f_Heading2\">Шаг 2. Установка HAProxy</span></h2>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Установите HAProxy на все узлы, выполнив команду:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo apt install haproxy -y</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">Запустите сервис HAProxy на всех узлах и добавьте его в автозагрузку:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo systemctl enable --now haproxy</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"install-keepalived\"></a><span class=\"f_Heading2\">Шаг 3. Установка keepalived</span></h2>\n<p class=\"p_Normal\">Установите keepalived на все узлы:</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo apt update</span><br/>\n<span class=\"f_CodeExample\">sudo apt install keepalived</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"set-up-keepalived\"></a><span class=\"f_Heading2\">Шаг 4. Настройка keepalived</span></h2>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Создайте директорию keepalived:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo mkdir -p /usr/libexec/keepalived</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">Создайте файл скрипта <code><b>haproxy_check.sh</b></code> для отслеживания работоспособности HAProxy:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo nano /usr/libexec/keepalived/haproxy_check.sh</span></p>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">Добавьте в файл haproxy_check.sh скрипт проверки работоспособности HAProxy:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">#!/bin/bash</span><br/>\n<span class=\"f_CodeExample\">/bin/kill -0 $(cat /</span><span class=\"f_CodeExample\" style=\"font-weight: bold;\">var</span><span class=\"f_CodeExample\">/run/haproxy.pid)</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"4\">Создайте файл конфигурации keepalived на каждой ноде:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo nano /etc/keepalived/keepalived.conf</span></p>\n<ol start=\"5\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"5\">Добавьте в файл <code><b>keepalived.conf</b></code> пример конфигураций keepalived для узла <span style=\"font-weight: bold;\">haproxy-server1.your_domain</span>:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">global_defs {</span><br/>\n<span class=\"f_CodeExample\">  router_id haproxy-server1</span><br/>\n<span class=\"f_CodeExample\">  enable_script_security</span><br/>\n<span class=\"f_CodeExample\">  script_user root</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">vrrp_script haproxy_check {</span><br/>\n<span class=\"f_CodeExample\">  script \"/usr/libexec/keepalived/haproxy_check.sh\"</span><br/>\n<span class=\"f_CodeExample\">  interval 2</span><br/>\n<span class=\"f_CodeExample\">  weight 2</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">vrrp_instance VI_1 {</span><br/>\n<span class=\"f_CodeExample\">  </span><span class=\"f_CodeExample\" style=\"font-weight: bold;\">interface</span><span class=\"f_CodeExample\"> eth0</span><br/>\n<span class=\"f_CodeExample\">  virtual_router_id 101</span><br/>\n<span class=\"f_CodeExample\">  priority 100</span><br/>\n<span class=\"f_CodeExample\">  advert_int 2</span><br/>\n<span class=\"f_CodeExample\">  state MASTER</span><br/>\n<span class=\"f_CodeExample\">  virtual_ipaddress {</span><br/>\n<span class=\"f_CodeExample\">    192.168.1.13</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">  track_script {</span><br/>\n<span class=\"f_CodeExample\">    haproxy_check</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">  authentication {</span><br/>\n<span class=\"f_CodeExample\">    auth_type PASS</span><br/>\n<span class=\"f_CodeExample\">    auth_pass SecretPassword</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">}</span></p>\n<ol start=\"6\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"6\">Добавьте в файл <code><b>keepalived.conf</b></code> пример конфигураций keepalived для узла <span style=\"font-weight: bold;\">haproxy-server2.your_domain</span>:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">global_defs {</span><br/>\n<span class=\"f_CodeExample\">  router_id haproxy-server2</span><br/>\n<span class=\"f_CodeExample\">  enable_script_security</span><br/>\n<span class=\"f_CodeExample\">  script_user root</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">vrrp_script haproxy_check {</span><br/>\n<span class=\"f_CodeExample\">  script \"/usr/libexec/keepalived/haproxy_check.sh\"</span><br/>\n<span class=\"f_CodeExample\">  interval 2</span><br/>\n<span class=\"f_CodeExample\">  weight 2</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">vrrp_instance VI_1 {</span><br/>\n<span class=\"f_CodeExample\">  </span><span class=\"f_CodeExample\" style=\"font-weight: bold;\">interface</span><span class=\"f_CodeExample\"> eth0</span><br/>\n<span class=\"f_CodeExample\">  virtual_router_id 101</span><br/>\n<span class=\"f_CodeExample\">  priority 90</span><br/>\n<span class=\"f_CodeExample\">  advert_int 2</span><br/>\n<span class=\"f_CodeExample\">  state BACKUP</span><br/>\n<span class=\"f_CodeExample\">  virtual_ipaddress {</span><br/>\n<span class=\"f_CodeExample\">    192.168.1.13</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">  track_script {</span><br/>\n<span class=\"f_CodeExample\">    haproxy_check</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">  authentication {</span><br/>\n<span class=\"f_CodeExample\">    auth_type PASS</span><br/>\n<span class=\"f_CodeExample\">    auth_pass SecretPassword</span><br/>\n<span class=\"f_CodeExample\">  }</span><br/>\n<span class=\"f_CodeExample\">}</span></p>\n<p class=\"p_Normal\">Где введённые параметры:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><code><b>router_id</b></code> — ID роутера, уникальное значение на каждом узле;</li><li class=\"p_Normal\"><code><b>script_user</b></code> — пользователь, от имени которого будут запускаться скрипты VRRP;</li><li class=\"p_Normal\"><code><b>interface</b></code> — наименование интерфейса, к которому будет привязан keepalived;</li><li class=\"p_Normal\"><code><b>virtual_router_id</b></code> — ID виртуального роутера, общее значение на всех узлах;</li><li class=\"p_Normal\"><code><b>priority</b></code> — приоритет нод внутри виртуального роутера;</li><li class=\"p_Normal\"><code><b>state</b></code> — тип роли ноды в виртуальном роутере;</li><li class=\"p_Normal\"><code><b>virtual_ipaddress</b></code> — виртуальный IP;</li><li class=\"p_Normal\"><code><b>auth_type</b></code> — тип аутентификации в виртуальном роутере;</li><li class=\"p_Normal\"><code><b>auth_pass</b></code> — пароль.</li></ul>\n<ol start=\"7\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"7\">Перезапустите keepalived на всех узлах:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo systemctl restart keepalived</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"set-up-haproxy-configuration\"></a><span class=\"f_Heading2\">Шаг 5. Настройка базовой конфигурации HAProxy</span></h2>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Переместите конфигурационный файл по умолчанию:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo mv /etc/haproxy/haproxy.cfg{,.original}</span></p>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">Создайте и откройте для редактирования новый конфигурационный файл с помощью команды:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo nano /etc/haproxy/haproxy.cfg</span></p>\n<p class=\"p_Normal\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A1')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Пример базовой конфигурационный HAProxy для файла haproxy.cfg</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A1\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\">Базовая часть описывает параметры работы сервера HAProxy: режим работы, таймауты, количество подключений, включение web‑интерфейса и т.д. В примере приведена необходимая конфигурация параметров для работы сервера HAProxy. Подробнее об используемых параметрах читайте в официальной документации <a class=\"weblink\" href=\"https://docs.haproxy.org/\">HAProxy Documentation</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">global</span><br/>\n<span class=\"f_CodeExample\">    maxconn 100000</span><br/>\n<span class=\"f_CodeExample\">    log /dev/log local0</span><br/>\n<span class=\"f_CodeExample\">    log /dev/log local1 notice</span><br/>\n<span class=\"f_CodeExample\">    chroot /</span><span class=\"f_CodeExample\" style=\"font-weight: bold;\">var</span><span class=\"f_CodeExample\">/lib/haproxy</span><br/>\n<span class=\"f_CodeExample\">    stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners</span><br/>\n<span class=\"f_CodeExample\">    stats timeout 30s</span><br/>\n<span class=\"f_CodeExample\">    user haproxy</span><br/>\n<span class=\"f_CodeExample\">    group haproxy</span><br/>\n<span class=\"f_CodeExample\">    daemon</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">defaults</span><br/>\n<span class=\"f_CodeExample\">    mode tcp</span><br/>\n<span class=\"f_CodeExample\">    log global</span><br/>\n<span class=\"f_CodeExample\">    retries 2</span><br/>\n<span class=\"f_CodeExample\">    timeout queue 5s</span><br/>\n<span class=\"f_CodeExample\">    timeout connect 5s</span><br/>\n<span class=\"f_CodeExample\">    timeout client 60m</span><br/>\n<span class=\"f_CodeExample\">    timeout server 60m</span><br/>\n<span class=\"f_CodeExample\">    timeout check 15s</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">listen stats</span><br/>\n<span class=\"f_CodeExample\">    mode http</span><br/>\n<span class=\"f_CodeExample\">    bind haproxy-server.your_domain:7000</span><br/>\n<span class=\"f_CodeExample\">    stats enable</span><br/>\n<span class=\"f_CodeExample\">    stats uri /</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### Web ELMA365 ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### Web ELMA365 ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### PostgreSQL ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### PostgreSQL ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### RabbitMQ ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### RabbitMQ ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### S3 MinIO ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### S3 MinIO ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### Docs Server ###</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">### Docs Server ###</span></p>\n</td>\n</tr>\n</table>\n</div>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">Перезапустите HAProxy:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">sudo systemctl restart haproxy</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"add-configurations\"></a><span class=\"f_Heading2\">Шаг 6. Добавление конфигураций для балансировки компонентов ELMA365</span></h2>\n<p class=\"p_Normal\">Конфигурации компонентов ELMA365 добавляются в файл <code><b>haproxy.cfg</b></code> по необходимости. </p>\n<p class=\"p_Normal\">В зависимости от выстраиваемой архитектуры добавьте конфигурации:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-postgresql.html\">HAProxy для PostgreSQL</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-rabbitmq.html\">HAProxy для RabbitMQ</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-redis.html\">HAProxy для Redis Sentinel</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-s3-minio.html\">HAProxy для S3 Minio</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-web-elma365.html\">HAProxy для web ELMA365</a>;</li><li class=\"p_Normal\"><a class=\"topiclink\" href=\"haproxy-docs-server.html\">HAProxy для сервера документов</a>.</li></ul>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"haproxy-load-balance.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">haproxy-load-balance.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"haproxy-postgresql.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">haproxy-postgresql.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n<script type=\"text/javascript\">\nHMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');\n</script>\n</body>\n</html>\n",
  "plain_text": "Отказоустойчивый HAProxy ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 ELMA365 On-Premises > Подготовка инфраструктуры ELMA365 On-Premises > Балансировщик нагрузки / Отказоустойчивый HAProxy Отказоустойчивый HAProxy HAProxy — инструмент обеспечения высокой доступности и балансировки нагрузки. В архитектуре системы ELMA365 HAProxy используется для построения отказоустойчивой архитектуры при организации высокодоступного кластера ELMA365. В зависимости от выстраиваемой архитектуры выбирается необходимая конфигурация HAProxy. В статье описана установка HAProxy и keepalived для ОС Ubuntu Linux 20.04 и 22.04. Установка состоит из шести этапов: Подготовка нод (серверов) . Установка HAProxy . Установка keepalived . Настройка keepalived . Настройка базовой конфигурации HAProxy . Добавление конфигураций для балансировки компонентов ELMA365 . Шаг 1. Подготовка нод (серверов) Создайте две ноды (сервера) с последовательно пронумерованными именами хостов: haproxy-server1.your_domain , 192.168.1.1 ; haproxy-server2.your_domain , 192.168.1.2 . Создайте сопоставления имён хостов в DNS-сервере и внесите соответствующую А-запись для виртуального IP: haproxy-server.your_domain A 192.168.1.13 Если такой возможности нет, внесите нужные записи в /etc/hosts . Включите параметры ядра net.ipv4.ip_nonlocal_bind, net.ipv4.ip_forward , выполнив следующие команды: sudo echo net.ipv4.ip_nonlocal_bind=1 >> /etc/sysctl.conf sudo echo net.ipv4.ip_forward=1 >> /etc/sysctl.conf sudo sysctl -p Шаг 2. Установка HAProxy Установите HAProxy на все узлы, выполнив команду: sudo apt install haproxy -y Запустите сервис HAProxy на всех узлах и добавьте его в автозагрузку: sudo systemctl enable --now haproxy Шаг 3. Установка keepalived Установите keepalived на все узлы: sudo apt update sudo apt install keepalived Шаг 4. Настройка keepalived Создайте директорию keepalived: sudo mkdir -p /usr/libexec/keepalived Создайте файл скрипта haproxy_check.sh для отслеживания работоспособности HAProxy: sudo nano /usr/libexec/keepalived/haproxy_check.sh Добавьте в файл haproxy_check.sh скрипт проверки работоспособности HAProxy: #!/bin/bash /bin/kill -0 $(cat / var /run/haproxy.pid) Создайте файл конфигурации keepalived на каждой ноде: sudo nano /etc/keepalived/keepalived.conf Добавьте в файл keepalived.conf пример конфигураций keepalived для узла haproxy-server1.your_domain : global_defs { router_id haproxy-server1 enable_script_security script_user root } vrrp_script haproxy_check { script \"/usr/libexec/keepalived/haproxy_check.sh\" interval 2 weight 2 } vrrp_instance VI_1 { interface eth0 virtual_router_id 101 priority 100 advert_int 2 state MASTER virtual_ipaddress { 192.168.1.13 } track_script { haproxy_check } authentication { auth_type PASS auth_pass SecretPassword } } Добавьте в файл keepalived.conf пример конфигураций keepalived для узла haproxy-server2.your_domain : global_defs { router_id haproxy-server2 enable_script_security script_user root } vrrp_script haproxy_check { script \"/usr/libexec/keepalived/haproxy_check.sh\" interval 2 weight 2 } vrrp_instance VI_1 { interface eth0 virtual_router_id 101 priority 90 advert_int 2 state BACKUP virtual_ipaddress { 192.168.1.13 } track_script { haproxy_check } authentication { auth_type PASS auth_pass SecretPassword } } Где введённые параметры: router_id — ID роутера, уникальное значение на каждом узле; script_user — пользователь, от имени которого будут запускаться скрипты VRRP; interface — наименование интерфейса, к которому будет привязан keepalived; virtual_router_id — ID виртуального роутера, общее значение на всех узлах; priority — приоритет нод внутри виртуального роутера; state — тип роли ноды в виртуальном роутере; virtual_ipaddress — виртуальный IP; auth_type — тип аутентификации в виртуальном роутере; auth_pass — пароль. Перезапустите keepalived на всех узлах: sudo systemctl restart keepalived Шаг 5. Настройка базовой конфигурации HAProxy Переместите конфигурационный файл по умолчанию: sudo mv /etc/haproxy/haproxy.cfg{,.original} Создайте и откройте для редактирования новый конфигурационный файл с помощью команды: sudo nano /etc/haproxy/haproxy.cfg Пример базовой конфигурационный HAProxy для файла haproxy.cfg Базовая часть описывает параметры работы сервера HAProxy: режим работы, таймауты, количество подключений, включение web‑интерфейса и т.д. В примере приведена необходимая конфигурация параметров для работы сервера HAProxy. Подробнее об используемых параметрах читайте в официальной документации HAProxy Documentation . global maxconn 100000 log /dev/log local0 log /dev/log local1 notice chroot / var /lib/haproxy stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners stats timeout 30s user haproxy group haproxy daemon defaults mode tcp log global retries 2 timeout queue 5s timeout connect 5s timeout client 60m timeout server 60m timeout check 15s listen stats mode http bind haproxy-server.your_domain:7000 stats enable stats uri / ### Web ELMA365 ### ### Web ELMA365 ### ### PostgreSQL ### ### PostgreSQL ### ### RabbitMQ ### ### RabbitMQ ### ### S3 MinIO ### ### S3 MinIO ### ### Docs Server ### ### Docs Server ### Перезапустите HAProxy: sudo systemctl restart haproxy Шаг 6. Добавление конфигураций для балансировки компонентов ELMA365 Конфигурации компонентов ELMA365 добавляются в файл haproxy.cfg по необходимости. В зависимости от выстраиваемой архитектуры добавьте конфигурации: HAProxy для PostgreSQL ; HAProxy для RabbitMQ ; HAProxy для Redis Sentinel ; HAProxy для S3 Minio ; HAProxy для web ELMA365 ; HAProxy для сервера документов . haproxy-load-balance.html haproxy-postgresql.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/elma365-on-premises.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/infrastructure-preparation.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/fail-safe-haproxy.html",
    "https://docs.haproxy.org/",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-postgresql.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-rabbitmq.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-redis.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-s3-minio.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-web-elma365.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-docs-server.html",
    "https://elma365.com/ru/help/business_solutions/ /ru/help/platform/haproxy-load-balance.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T22:03:26.470808",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T22:03:26.728817"
  }
}