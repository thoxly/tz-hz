{
  "doc_id": "display-widgets-in-reusable-template",
  "url": "https://elma365.com/ru/help/crm/ru/help/business_solutions/display-widgets-in-reusable-template.html",
  "title": "Отображение виджетов в переиспользуемом шаблоне",
  "breadcrumbs": [
    "Создание форм",
    "Шаблон формы"
  ],
  "section": "Создание форм > Шаблон формы | [crm]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Отображение виджетов в переиспользуемом шаблоне</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Рассмотрим ситуацию, когда для приложения нужно создать похожие формы создания, редактирования и просмотра. При этом условия отображения виджетов на разных формах отличаются....\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/display-widgets-in-reusable-template.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Low-code дизайнер &gt; <a href=\"create_form.html\">Создание форм</a> &gt; <a href=\"360029250931.html\">Шаблон формы</a> / Отображение виджетов в переиспользуемом шаблоне</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Отображение виджетов в переиспользуемом шаблоне</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\">Рассмотрим ситуацию, когда для приложения нужно создать похожие формы создания, редактирования и просмотра. При этом условия отображения виджетов на разных формах отличаются. Например, на одной форме нужно показать виджет, а на других — скрыть, или на одной форме — отобразить виджет в режиме редактирования, а на других — только для чтения.</p>\n<p class=\"p_Normal\">В этом случае можно не создавать отдельные формы, а использовать <a class=\"topiclink\" href=\"360029250931.html#reuse-template\">один шаблон для всех форм</a> приложения, задав условия для отображения виджетов на этих формах. </p>\n<p class=\"p_Normal\"><span style=\"font-weight: bold;\">Важно:</span> указанная в статье настройка виджетов применяется только для форм приложения.</p>\n<p class=\"p_Normal\">Для примера создадим шаблон для всех форм приложения <span style=\"font-weight: bold;\">Заказы</span> и настроим отображение виджета <span style=\"font-weight: bold;\">Информационный блок</span> с инструкцией по оформлению заказа только на формах создания и редактирования. На форме просмотра этот виджет не нужен и будет скрыт.</p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Создание шаблона для всех форм приложения</span></h2>\n<p class=\"p_Normal\">В настройках формы приложения на любой из вкладок <span style=\"font-weight: bold;\">Создание</span>, <span style=\"font-weight: bold;\">Просмотр</span> или <span style=\"font-weight: bold;\">Редактирование</span> <a class=\"topiclink\" href=\"360029250931.html#create_template\">создайте шаблон</a>. Затем на других вкладках выберите этот шаблон в качестве используемой формы.</p>\n<p class=\"p_Normal\">В нашем примере в настройках формы приложения<span style=\"font-weight: bold;\"> Заказы</span> создадим шаблон с названием <span style=\"font-weight: bold;\">Общая форма</span> на вкладке <span style=\"font-weight: bold;\">Создание</span>. Затем на вкладках <span style=\"font-weight: bold;\">Просмотр</span> и <span style=\"font-weight: bold;\">Редактирование</span> выберем эту же форму.</p>\n<p class=\"p_Normal\"><img alt=\"display-widgets-in-reusable-template-1\" height=\"299\" src=\"display-widgets-in-reusable-template-1.png\" style=\"margin:0;width:793px;height:299px;border:none\" width=\"793\"/></p>\n<p class=\"p_Normal\">После этого откроем шаблон в дизайнере интерфейсов и <a class=\"topiclink\" href=\"360029250931.html#add-widget\">добавим виджет</a> <span style=\"font-weight: bold;\">Информационный блок</span> на общую форму.</p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Настройка условий отображения виджета</span></h2>\n<p class=\"p_Normal\">Для управления виджетом на разных формах приложения выполните следующие действия:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">В <a class=\"topiclink\" href=\"designer-tabs.html#context-tab\">контексте шаблона</a> общей формы создайте переменные, которые будут хранить тип формы, используемый пользователем. Например, создайте переменную <span style=\"font-weight: bold;\">Форма создания?</span> типа <span style=\"font-weight: bold;\">Выбор «да/нет»</span>.</li><li class=\"p_Normal\" value=\"2\">На вкладке <a class=\"topiclink\" href=\"designer-tabs.html#script-tab\">Скрипты</a> на стороне <span style=\"font-weight: bold;\">Клиента</span> напишите код, при выполнении которого в созданную переменную запишется значение <span style=\"font-weight: bold;\">Да</span> или <span style=\"font-weight: bold;\">Нет</span>. В таком коде используйте системное свойство формы приложения <span style=\"font-weight: bold;\">formType</span>. Этому свойству автоматически присваивается значение <span style=\"font-weight: bold;\">create</span>, <span style=\"font-weight: bold;\">edit</span> или <span style=\"font-weight: bold;\">view</span> в зависимости от того, какую форму приложения использует пользователь в данный момент. Пример кода:</li></ol>\n<p class=\"p_CodeExample\" style=\"white-space: normal; page-break-inside: auto; page-break-after: avoid;\"><span class=\"f_CodeExample\" style=\"font-size: 16px;\">async</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">function</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">onInit():</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">Promise&lt;</span><span class=\"f_CodeExample\" style=\"font-size: 16px; font-weight: bold;\">void</span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">&gt;</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">{</span><br/>\n<span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\">    </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.isFormCreate</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">=</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.__formType?.code</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">===</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">'create';</span><br/>\n<span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\">    </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.isFormEdit</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">=</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.__formType?.code</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">===</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">'edit';</span><br/>\n<span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\">    </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.isFormView</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">=</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.__formType?.code</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">===</span><span class=\"f_CodeExample\" style=\"font-size: 16px; color: #ffffff;\"> </span><span class=\"f_CodeExample\" style=\"font-size: 16px;\">'view';</span><br/>\n<span class=\"f_CodeExample\" style=\"font-size: 16px;\">}</span></p>\n<p class=\"p_Normal\">При выполнении этого скрипта, если пользователь откроет форму создания элемента приложения:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">в переменную <span style=\"font-weight: bold;\">isFormCreate</span> (<span style=\"font-weight: bold;\">Форма создания?</span>) запишется значение <span style=\"font-weight: bold;\">Да</span>;</li><li class=\"p_Normal\">в переменные <span style=\"font-weight: bold;\">isFormEdit</span> (<span style=\"font-weight: bold;\">Форма редактирования?</span>) и <span style=\"font-weight: bold;\">isFormView</span> (<span style=\"font-weight: bold;\">Форма просмотра?</span>) запишется значение <span style=\"font-weight: bold;\">Нет</span>.</li></ul>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">В настройках виджета на вкладке <a class=\"topiclink\" href=\"common_widget_settings.html\">Системные</a>, в поле <span style=\"font-weight: bold;\">Видимость</span> выберите <span style=\"font-weight: bold;\">Показать по условию</span> или <span style=\"font-weight: bold;\">Скрыть по условию</span> и привяжите к этой опции соответствующую переменную.</li></ol>\n<p class=\"p_Normal\">Выполним настройки в примере с приложением <span style=\"font-weight: bold;\">Заказы</span>:</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\">Откроем шаблон общей формы в дизайнере интерфейсов и на вкладке <span style=\"font-weight: bold;\">Контекст</span> создадим переменную <span style=\"font-weight: bold;\">Форма просмотра?</span> типа <span style=\"font-weight: bold;\">Выбор «да/нет»</span>.</li><li class=\"p_Normal\" value=\"2\">На вкладке <span style=\"font-weight: bold;\">Скрипты</span> на стороне <span style=\"font-weight: bold;\">Клиента</span> укажем код:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\" style=\"font-size: 16px;\">ViewContext.data.isFormView = ViewContext.data.__formType?.code === 'view';</span></p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"3\">В настройках виджета <span style=\"font-weight: bold;\">Информационный блок</span> на вкладке <span style=\"font-weight: bold;\">Системные</span> в поле <span style=\"font-weight: bold;\">Видимость</span> выберем <span style=\"font-weight: bold;\">Скрыть по условию</span> и привяжем к этой опции переменную <span style=\"font-weight: bold;\">Форма просмотра?</span>.</li></ol>\n<p class=\"p_Normal\"><img alt=\"display-widgets-in-reusable-template-2\" height=\"474\" src=\"display-widgets-in-reusable-template-2.png\" style=\"margin:0;width:992px;height:474px;border:none\" width=\"992\"/></p>\n<p class=\"p_Normal\">Теперь, если пользователь откроет форму просмотра заказа, на ней не отобразится инструкция по оформлению заказа, т. к. при выполнении скрипта в переменную <span style=\"font-weight: bold;\">Форма просмотра?</span> запишется значение <span style=\"font-weight: bold;\">Да</span>, и в виджете <span style=\"font-weight: bold;\">Информационный блок</span> выполнится опция <span style=\"font-weight: bold;\">Скрыть по условию</span>.</p>\n<p class=\"p_Normal\">Если же пользователь откроет форму создания или редактирования заказа, то инструкция отобразится на ней, т. к. в переменную <span style=\"font-weight: bold;\">Форма просмотра?</span> запишется значение <span style=\"font-weight: bold;\">Нет</span>, и в виджете <span style=\"font-weight: bold;\">Информационный блок</span> опция <span style=\"font-weight: bold;\">Скрыть по условию </span>не выполнится.</p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"360029574371.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">360029574371.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"interface_settings.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">interface_settings.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n</body>\n</html>\n",
  "plain_text": "Отображение виджетов в переиспользуемом шаблоне ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Low-code дизайнер > Создание форм > Шаблон формы / Отображение виджетов в переиспользуемом шаблоне Отображение виджетов в переиспользуемом шаблоне Рассмотрим ситуацию, когда для приложения нужно создать похожие формы создания, редактирования и просмотра. При этом условия отображения виджетов на разных формах отличаются. Например, на одной форме нужно показать виджет, а на других — скрыть, или на одной форме — отобразить виджет в режиме редактирования, а на других — только для чтения. В этом случае можно не создавать отдельные формы, а использовать один шаблон для всех форм приложения, задав условия для отображения виджетов на этих формах. Важно: указанная в статье настройка виджетов применяется только для форм приложения. Для примера создадим шаблон для всех форм приложения Заказы и настроим отображение виджета Информационный блок с инструкцией по оформлению заказа только на формах создания и редактирования. На форме просмотра этот виджет не нужен и будет скрыт. Создание шаблона для всех форм приложения В настройках формы приложения на любой из вкладок Создание , Просмотр или Редактирование создайте шаблон . Затем на других вкладках выберите этот шаблон в качестве используемой формы. В нашем примере в настройках формы приложения Заказы создадим шаблон с названием Общая форма на вкладке Создание . Затем на вкладках Просмотр и Редактирование выберем эту же форму. После этого откроем шаблон в дизайнере интерфейсов и добавим виджет Информационный блок на общую форму. Настройка условий отображения виджета Для управления виджетом на разных формах приложения выполните следующие действия: В контексте шаблона общей формы создайте переменные, которые будут хранить тип формы, используемый пользователем. Например, создайте переменную Форма создания? типа Выбор «да/нет» . На вкладке Скрипты на стороне Клиента напишите код, при выполнении которого в созданную переменную запишется значение Да или Нет . В таком коде используйте системное свойство формы приложения formType . Этому свойству автоматически присваивается значение create , edit или view в зависимости от того, какую форму приложения использует пользователь в данный момент. Пример кода: async function onInit(): Promise< void > { ViewContext.data.isFormCreate = ViewContext.data.__formType?.code === 'create'; ViewContext.data.isFormEdit = ViewContext.data.__formType?.code === 'edit'; ViewContext.data.isFormView = ViewContext.data.__formType?.code === 'view'; } При выполнении этого скрипта, если пользователь откроет форму создания элемента приложения: в переменную isFormCreate ( Форма создания? ) запишется значение Да ; в переменные isFormEdit ( Форма редактирования? ) и isFormView ( Форма просмотра? ) запишется значение Нет . В настройках виджета на вкладке Системные , в поле Видимость выберите Показать по условию или Скрыть по условию и привяжите к этой опции соответствующую переменную. Выполним настройки в примере с приложением Заказы : Откроем шаблон общей формы в дизайнере интерфейсов и на вкладке Контекст создадим переменную Форма просмотра? типа Выбор «да/нет» . На вкладке Скрипты на стороне Клиента укажем код: ViewContext.data.isFormView = ViewContext.data.__formType?.code === 'view'; В настройках виджета Информационный блок на вкладке Системные в поле Видимость выберем Скрыть по условию и привяжем к этой опции переменную Форма просмотра? . Теперь, если пользователь откроет форму просмотра заказа, на ней не отобразится инструкция по оформлению заказа, т. к. при выполнении скрипта в переменную Форма просмотра? запишется значение Да , и в виджете Информационный блок выполнится опция Скрыть по условию . Если же пользователь откроет форму создания или редактирования заказа, то инструкция отобразится на ней, т. к. в переменную Форма просмотра? запишется значение Нет , и в виджете Информационный блок опция Скрыть по условию не выполнится. 360029574371.html interface_settings.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/create_form.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360029250931.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/designer-tabs.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/common_widget_settings.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360029574371.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/interface_settings.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T21:58:36.849680",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T21:58:36.957796"
  }
}