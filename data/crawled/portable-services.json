{
  "doc_id": "portable-services",
  "url": "https://elma365.com/ru/help/crm/ru/help/business_solutions/portable-services.html",
  "title": "Настройка переносимого сервиса в модуле",
  "breadcrumbs": [
    "Модули расширения системы",
    "Пользовательские модули"
  ],
  "section": "Модули расширения системы > Пользовательские модули | [crm]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Настройка переносимого сервиса в модуле</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Переносимые сервисы позволяют интегрировать микросервисы в пользовательские модули, расширяя их функциональные возможности. \" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/portable-services.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p><a href=\"360024498352.html\">Модули расширения системы</a> &gt; <a href=\"extentions.html\">Пользовательские модули</a> / Настройка переносимого сервиса в модуле</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Настройка переносимого сервиса в модуле</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p style=\"margin: 7px 0 16px 0;\">Переносимые сервисы позволяют интегрировать микросервисы в пользовательские модули, расширяя их функциональные возможности. </p>\n<p class=\"p_Normal\">Подключить переносимый сервис в модуле можно несколькими способами. Нужный вариант выбирается в зависимости от среды размещения самого микросервиса, а также используемой поставки ELMA365. При создании сервиса вы можете передать в модуль: </p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">адрес образа микросервиса, размещённого в публичном или приватном репозитории Docker Hub, его внутренние настройки и конфигурации для работы в кластере. Такой способ используется в поставках, поддерживающих развёртывание сервиса в среде исполнения Kubernetes: ELMA365 On‑Premises и SaaS Enterprise;</li><li class=\"p_Normal\">альтернативный адрес сервиса, установленного на внешнем хостинге с публичным доступом. Способ доступен для всех поставок, но зачастую применяется в облачной поставке ELMA365 SaaS Standard, где нельзя обеспечить работу образа сервиса.</li></ul>\n<p style=\"margin: 7px 0 16px 0;\">В этой статье рассмотрим процесс создания сервиса в пользовательском модуле.</p>\n<p style=\"margin: 7px 0 16px 0;\">Подробнее об использовании микросервисов в разработке пользовательских решений читайте в статьях:</p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\">особенности переносимых сервисов и пример использования — <a class=\"topiclink\" href=\"portable-microservices.html\">«Переносимые сервисы в модулях»</a>;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\">реализация проверки стабильного подключения сервиса — <a class=\"topiclink\" href=\"readiness.html\">«Пример использования Readiness проверки в переносимых сервисах»</a>;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\">включение переносимых сервисов в ELMA365 Enterprise — <a class=\"topiclink\" href=\"enable-portable-services.html\">«Включение переносимых сервисов»</a>;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\">разработка собственного микросервиса — <a class=\"topiclink\" href=\"development-key-points.html\">«Рекомендации по разработке микросервисов для переносимых сервисов»</a>.  </li></ul>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"add-portable-microservices\"></a><span class=\"f_Heading2\">Добавить и настроить переносимый сервис</span></h2>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\" value=\"1\">Откройте страницу пользовательского модуля, в котором подключается переносимый сервис, и перейдите в <span style=\"font-weight: bold;\">Управление</span>.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\" value=\"2\">На вкладке <span style=\"font-weight: bold;\">Сервисы</span> нажмите кнопку <span style=\"font-weight: bold;\">+ Сервис</span> и заполните основные настройки в открывшемся окне:</li></ol>\n<p style=\"margin: 7px 0 16px 36px;\"><img alt=\"portable-services-1\" height=\"365\" src=\"portable-services-1.png\" style=\"margin:0;width:472px;height:365px;border:none\" width=\"472\"/></p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\"><span style=\"font-weight: bold;\">Имя</span><span style=\"font-weight: bold; color: #ff0000;\">*</span> — название сервиса, отображаемое в списке на странице модуля;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-weight: bold;\">Уникальное имя сервиса</span><span style=\"font-weight: bold; color: #ff0000;\">*</span> — имя, которое будет использоваться в коде или скриптах для обращения к сервису. Заданное при создании имя невозможно изменить в дальнейшем;</li></ul>\n<ul style=\"list-style-type:disc\">\n<li style=\"background: #ffffff; margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">Docker контейнер</span> — в блоке настраивается размещение образа микросервиса в отдельном пространстве в среде исполнения Kubernetes. Настройка доступна в поставках ELMA365 On‑Premises и SaaS Enterprise:<ul style=\"list-style-type:circle\">\n<li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\"><a class=\"hmanchor\" id=\"image-address\"></a><span style=\"font-weight: bold;\">Адрес образа</span><span style=\"font-weight: bold; color: #ff0000;\">*</span> — URL-адрес Docker‑образа сервиса. Задаётся в одном из форматов: для Docker Hub используйте <a class=\"topiclink\" href=\"portable-services.html#image-address-formats\">краткий относительный путь</a>, для других реестров — <a class=\"topiclink\" href=\"portable-services.html#image-address-full-path\">полный путь</a>.</li></ul></li></ul>\n<p style=\"background: #ffffff; margin: 0 0 0 58px;\">Когда для образа требуется аутентификация, нужно указать логин и токен учётных данных. Для этого напротив поля нажмите значок ключа и заполните форму одним из следующих способов:</p>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\"><ul style=\"list-style-type:square\">\n<li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\">укажите логин и токен в строковом представлении. При экспорте модуля указанные значения сохраняются и передаются в открытом виде;</li><li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\">чтобы предотвратить случайную утечку данных авторизации при экспорте модуля, используйте шаблонизированные переменные типа <a class=\"topiclink\" href=\"360009707032.html#string\">Строка (строка)</a>, созданные в виде <a class=\"topiclink\" href=\"extention-settings.html\">параметров настроек модуля</a>. Для этого нажмите значок <span style=\"font-weight: bold;\">{+}</span> и выберите добавленное свойство.</li></ul></ul></ul>\n<p style=\"background: #ffffff; margin: 0 0 0 82px;\">В этом случае значения логина и токена указываются на <a class=\"topiclink\" href=\"extention-settings.html#parameters-page\">странице подключения модуля</a>, а не вводятся напрямую в окне <span style=\"font-weight: bold;\">Данные авторизации</span>. При экспорте и последующем импорте модуля конфиденциальная информация не будет случайно передана, поскольку значения параметров настроек удалятся. При этом сами переменные для логина и токена сохранятся.<br/>\n<img alt=\"portable-services-8\" height=\"278\" src=\"portable-services-8.png\" style=\"margin:0;width:638px;height:278px;border:none\" width=\"638\"/></p>\n<ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">Порт HTTP</span><span style=\"font-weight: bold; color: #ff0000;\">*</span> — порт, через который будет происходить взаимодействие с микросервисом. По умолчанию указан порт <span style=\"font-weight: bold;\">3000</span>. При настройке ознакомьтесь с документацией микросервиса и определите, какой из портов следует выбрать.</li></ul>\n<li style=\"background: #ffffff; margin-top: 14px; margin-right: 0; margin-bottom: 0;\"><span style=\"font-weight: bold;\">Альтернативный адрес сервиса</span> — блок заполняется, если микросервис размещён и функционирует на стороннем сервере с публичным адресом доступа. Вы можете указать URL‑адрес сервиса одним из следующих способов:<ul style=\"list-style-type:circle\">\n<li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\">внести адрес в строковом представлении, например <span style=\"font-weight: bold;\">https://example.mathcalculation.com</span>;</li><li style=\"background: #ffffff; margin-top: 0; margin-right: 0; margin-bottom: 0;\">использовать предварительно созданные параметры из настроек модуля и <a class=\"topiclink\" href=\"portable-services.html#alternative-address\">задать шаблон адреса</a>. В этом случае, если компоненты адреса изменяются, вы сможете отредактировать значения параметров в модуле, а не настраивать подключение повторно.</li></ul></li></ul>\n<p class=\"p_Normal\">Обратите внимание, если в поставках ELMA365 On‑Premises и SaaS Enterprise указать оба адреса, то будет использоваться адрес образа.</p>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\" value=\"3\">Нажмите <span style=\"font-weight: bold;\">Сохранить</span>.</li><li class=\"p_Normal\" value=\"4\">Откроется окно <span style=\"font-weight: bold;\">Редактирование сервиса</span>, в котором можно:<br/>\n<img alt=\"portable-services-5\" height=\"361\" src=\"portable-services-5.png\" style=\"margin:0;width:522px;height:361px;border:none\" width=\"522\"/></li></ol>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\"><span style=\"font-size: 15px; font-family: Inter;\">отредактировать или добавить <a class=\"topiclink\" href=\"portable-services.html#image-address-formats\">адрес образа</a> и порт, а также указать <a class=\"topiclink\" href=\"portable-services.html#docker-settings\">дополнительные настройки Docker‑контейнера</a>. Например, можно задать количество экземпляров микросервиса, добавить переменные окружения, настроить Liveness- и Readiness‑пробы</span>;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 16px;\"><span style=\"font-size: 15px; font-family: Inter;\">отредактировать или указать публичный адрес сервиса, нажав значок шестерёнки справа от поля </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Альтернативный адрес сервиса</span><span style=\"font-size: 15px; font-family: Inter;\">. Чтобы адрес формировался на основе параметров модуля, для него можно <a class=\"topiclink\" href=\"portable-services.html#alternative-address\">задать шаблон</a></span>.</li></ul>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"image-address-formats\"></a><span class=\"f_Heading2\">Форматы для адреса образа</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">В зависимости от размещения Docker‑образа укажите в настройках сервиса:</span></p>\n<ol style=\"list-style-type:upper-roman\"><ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">краткий относительный путь</span><span style=\"font-size: 15px; font-family: Inter;\"> — применяется, если образ расположен в реестре по умолчанию — Docker Hub.</span></li></ul></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 24px;\"><span style=\"font-size: 15px; font-family: Inter;\">Формат: </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;image_path&gt;:&lt;tag&gt;</span><span style=\"font-size: 15px; font-family: Inter;\">, где:</span></p>\n<ol style=\"list-style-type:upper-roman\"><ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;image_path&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — путь к образу в реестре. Обязателен;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;tag&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — тег образа. Необязателен.</span></li></ul></ul></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"line-height: 1.28; page-break-after: avoid; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Примеры</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Адреса контейнеров в репозитории Docker Hub:</span></p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">nginx</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">nginx:latest</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">chialab/math-api</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">chialab/math-api:latest</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">company/service</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">company/service:v1.0.0</span><span style=\"font-size: 15px; font-family: Inter;\">.</span></li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<ol style=\"list-style-type:upper-roman\"><ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><a class=\"hmanchor\" id=\"image-address-full-path\"></a><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">полный путь</span><span style=\"font-size: 15px; font-family: Inter;\"> — для публичного или приватного репозитория, расположенного на отдельном сервере.</span></li></ul></ol>\n<p style=\"line-height: 1.28; margin: 0 0 11px 24px;\"><span style=\"font-size: 15px; font-family: Inter;\">Формат: </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;registry&gt;:&lt;port&gt;/&lt;image_path&gt;:&lt;tag&gt;</span><span style=\"font-size: 15px; font-family: Inter;\">, где:</span></p>\n<ol style=\"list-style-type:decimal\"><ul style=\"list-style-type:disc\"><ul style=\"list-style-type:circle\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;registry&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — доменный адрес реестра образов. Обязателен;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;port&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — порт, по которому можно получить доступ к реестру образов. Необязателен;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;image_path&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — путь к образу в реестре. Обязателен;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">&lt;tag&gt;</span><span style=\"font-size: 15px; font-family: Inter;\"> — тег образа. Необязателен.</span></li></ul></ul></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало примера</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Примеры</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Адреса контейнеров в сторонних реестрах:</span></p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">company.goharbor.io/math-api</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">company.goharbor.io:5005/math-api:v1.0.0</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">registry.company.com/service/app</span><span style=\"font-size: 15px; font-family: Inter;\">;</span></li><li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">registry.company.com:5005/service/app:latest</span><span style=\"font-size: 15px; font-family: Inter;\">.</span></li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец примера</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Подробнее об адресах образов читайте в </span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif; color: #0563c1;\"><a class=\"weblink\" href=\"https://kubernetes.io/docs/concepts/containers/images/#image-names\" target=\"_blank\">официальной документации Kubernetes</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<h3 class=\"p_Heading3\"><span class=\"f_Heading3\">Проверка корректности адреса</span></h3>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Для проверки загрузите образ микросервиса с помощью команды: </span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">docker pull &lt;image_address&gt;</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Где </span><code><b>&lt;image_address&gt;</b></code><span style=\"font-size: 15px; font-family: 'Courier New',Courier,monospace; font-weight: bold;\"> </span><span style=\"font-size: 15px; font-family: Inter;\">— адрес образа.</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Если загрузка проходит успешно, адрес можно использовать для сервиса в модуле ELMA365.</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"alternative-address\"></a><span class=\"f_Heading2\">Шаблон альтернативного адреса сервиса</span></h2>\n<p style=\"margin: 7px 0 7px 0;\">Альтернативный адрес сервиса можно указать с помощью параметров модуля. Такой способ позволяет более гибко управлять переносимым сервисом. Например, вы можете изменять компоненты адреса на <a class=\"topiclink\" href=\"extention-settings.html#parameters-page\">странице подключения модуля</a>. </p>\n<p style=\"margin: 7px 0 7px 0;\">Чтобы настроить шаблон адреса сервиса, выполните следующие шаги:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"1\">Откройте страницу управления пользовательского модуля, в который будет добавляться переносимый сервис.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"2\">Перейдите на вкладку <span style=\"font-weight: bold;\">Настройки</span> и создайте свойства типа <span style=\"font-weight: bold;\">Строка (строка)</span>, из которых будет состоять адрес сервиса. Например, это могут быть два параметра: для записи протокола передачи данных и для указания базового адреса сервиса.</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\" value=\"3\">В настройках при создании сервиса в модуле укажите шаблон в поле <span style=\"font-weight: bold;\">Адрес сервиса</span>. Для этого нажмите значок <span style=\"font-weight: bold;\">{+}</span>, выберите созданные ранее параметры и сохраните настройки.<br/>\n<img alt=\"portable-services-6\" height=\"304\" src=\"portable-services-6.png\" style=\"margin:0;width:589px;height:304px;border:none\" width=\"589\"/></li><li class=\"p_Normal\" value=\"4\">Чтобы отредактировать указанный адрес, в настройках сервиса нажмите значок шестерёнки справа от опции <span style=\"font-weight: bold;\">Альтернативный адрес сервиса</span>. Отредактируйте шаблон или задайте новый адрес и сохраните изменения.</li><li class=\"p_Normal\" value=\"5\">Сохраните настройки сервиса.</li></ol>\n<p class=\"p_Normal\">Теперь адрес сервиса можно указать, изменить или удалить в настройках включённого модуля. Если поля не заполнены, связь с сервисом недоступна.<br/>\n<img alt=\"portable-services-7\" height=\"206\" src=\"portable-services-7.png\" style=\"margin:0;width:889px;height:206px;border:none\" width=\"889\"/></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"docker-settings\"></a><span class=\"f_Heading2\">Настройки Docker-контейнера</span></h2>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">В поставках ELMA365 On‑Premises и SaaS Enterprise образ микросервиса можно разместить в среде исполнения Kubernetes. Чтобы задать настройки развёртывания микросервиса, нажмите значок шестерёнки справа от названия блока </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Docker контейнер</span><span style=\"font-size: 15px; font-family: Inter;\">. В открывшемся окне настройка выполняется на нескольких вкладках</span>: <a class=\"topiclink\" href=\"portable-services.html#main-tab\">Основные настройки</a>, <a class=\"topiclink\" href=\"portable-services.html#variables-tab\">Переменные окружения</a>, <a class=\"topiclink\" href=\"portable-services.html#liveness-tab\">Liveness</a>, <a class=\"topiclink\" href=\"portable-services.html#readiness-tab\">Readiness</a>.</p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"main-tab\"></a><span class=\"f_Heading3\">Вкладка «Основные настройки»</span></h3>\n<p style=\"margin: 7px 0 16px 0;\"><img alt=\"portable-services-2\" height=\"314\" src=\"portable-services-2.png\" style=\"margin:0;width:520px;height:314px;border:none\" width=\"520\"/></p>\n<ul style=\"list-style-type:disc\">\n<li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Адрес образа</span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold; color: #ff0000;\">*</span><span style=\"font-size: 15px; font-family: Inter;\">, </span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Порт HTTP</span><span style=\"font-size: 15px; font-family: Inter; font-weight: bold; color: #ff0000;\">*</span><span style=\"font-size: 15px; font-family: Inter;\"> — вы можете отредактировать адрес образа, </span>логин и токен для доступа к репозиторию<span style=\"font-size: 15px; font-family: Inter;\"> и порт подключения, указанные при </span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif; color: #0563c1;\"><a class=\"topiclink\" href=\"portable-services.html#add-portable-microservices\">создании переносимого сервиса</a></span>;</li><li style=\"margin-top: 7px; margin-right: 0; margin-bottom: 7px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Дополнительные порты </span><span style=\"font-size: 15px; font-family: Inter;\">— вы можете указать для микросервиса дополнительные порты, с помощью которых другие микросервисы модуля смогут к нему обращаться. Для одного микросервиса доступно не более 10 дополнительных портов.</span></li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Чтобы указание дополнительных портов в настройках переносимых сервисов стало доступно, включите фича-флаг </span><code><b>allowBabysitterOptionalPorts</b></code><span style=\"font-size: 15px; font-family: Inter;\">. Подробнее читайте в статьях </span><span style=\"font-size: 15px; font-family: Inter; color: #0563c1;\"><a class=\"topiclink\" href=\"change-settings-enterprise.html#enable-feature-flag-enterpeise\">«Изменение параметров ELMA365 Enterprise»</a></span><span style=\"font-size: 15px; font-family: Inter;\"> и </span><span style=\"font-size: 15px; font-family: Inter; color: #0563c1;\"><a class=\"topiclink\" href=\"change-elma365standard-parameters.html#enable-feature-flag-standard\">«Изменение параметров ELMA365 Standard»</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<ul style=\"list-style-type:disc\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\"><span style=\"font-size: 15px; font-family: Inter; font-weight: bold;\">Количество экземпляров</span><span style=\"font-size: 15px; font-family: Inter;\"> — </span>укажите, сколько экземпляров микросервисов развернуть и запустить. При изменении количества следует учитывать, что в ELMA365 не поддерживается репликация сервисов. Если это не заложено в микросервис, то каждый из запущенных экземпляров не будет связан с остальными.</li></ul>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Вы можете настроить дополнительные параметры переносимого сервиса с помощью ConfigMap. Например, задать лимиты использования ресурсов, включить автомасштабирование микросервиса и настроить размещение подов на узлах кластера. Подробнее читайте в статье </span><span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif; color: #0563c1;\"><a class=\"topiclink\" href=\"configmap.html\">«Настройка параметров переносимых сервисов через ConfigMap»</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"variables-tab\"></a><span class=\"f_Heading3\">Вкладка «Переменные окружения»</span></h3>\n<p style=\"margin: 7px 0 16px 0;\">На этой вкладке создаются переменные окружения образа микросервиса. Они используются, если в микросервисе допускается конфигурирование через переменные среды. Определить доступность конфигурирования можно в документации микросервиса. Для создания переменной на вкладке нажмите <span style=\"font-weight: bold;\">+ Переменная окружения</span> и заполните шаблон параметра сервиса в открывшемся окне.</p>\n<p style=\"margin: 7px 0 16px 0;\"><img alt=\"portable-services-3\" height=\"366\" src=\"portable-services-3.png\" style=\"margin:0;width:581px;height:366px;border:none\" width=\"581\"/></p>\n<p style=\"margin: 7px 0 16px 0;\">Обратите внимание, при добавлении или изменении переменных окружения микросервис перезапускается.</p>\n<p style=\"margin: 7px 0 16px 0;\">Вы можете не только задавать переменные окружения при разработке, но и предоставлять возможность их изменения конечным пользователям. Для этого при создании переменной в шаблоне можно использовать <a class=\"weblink\" href=\"https://elma365.com/ru/help/platform/extention-settings.html\" target=\"_blank\">параметры настройки модуля</a>. </p>\n<p style=\"margin: 7px 0 16px 0;\">Например, в настройках модуля есть свойство <span style=\"font-weight: bold;\">ServiceTimeout</span>. Можно создать переменную окружения <span style=\"font-weight: bold;\">R</span><span style=\"font-weight: bold;\">equestTimeout</span> и указать в её шаблоне <code><b>{$ServiceTimeout}</b></code>. Тогда пользователи будут изменять значение свойства на главной странице настроек модуля и при этом устанавливать значение для переменной окружения в микросервисе. </p>\n<p style=\"margin: 7px 0 16px 0;\">Если в шаблоне переменных окружения используются параметры настройки модуля, вы можете включить опцию <span style=\"font-weight: bold;\">Перезапускать при изменении настроек модуля</span>. В этом случае, когда значения параметров на главной странице настроек модуля изменятся, сервис будет перезапускаться, т. е. полностью удаляться из Kubernetes‑кластера и разворачиваться повторно. </p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"liveness-tab\"></a><span class=\"f_Heading3\">Вкладка «Liveness»</span></h3>\n<p style=\"margin: 7px 0 16px 0;\">Здесь вы можете включить возможность Kubernetes автоматически перезапускать микросервис в случае его неработоспособности. В выпадающем списке доступны следующие опции: <span style=\"font-weight: bold;\">Command</span>, <span style=\"font-weight: bold;\">HTTP</span>, <span style=\"font-weight: bold;\">TCP</span>. Прежде чем включать Liveness-пробы и выбирать их тип, ознакомьтесь с документацией подключаемого микросервиса.</p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"readiness-tab\"></a><span class=\"f_Heading3\">Вкладка «Readiness»</span></h3>\n<p style=\"margin: 7px 0 16px 0;\">На этой вкладке включается возможность Kubernetes не позволять подключаться к микросервису до его полной инициализации. В выпадающем списке доступны следующие опции: <span style=\"font-weight: bold;\">Command</span>, <span style=\"font-weight: bold;\">HTTP</span>, <span style=\"font-weight: bold;\">TCP</span>. Прежде чем включать Readiness-пробы и выбирать их тип, ознакомьтесь с документацией подключаемого микросервиса.</p>\n<p style=\"margin: 7px 0 7px 0;\">Конфигурирование параметров на вкладках <span style=\"font-weight: bold;\">Liveness </span>и <span style=\"font-weight: bold;\">Readiness</span> следует выполнять с особой осторожностью. В случае некорректной настройки и получении невалидного ответа Kubernetes будет считать микросервис неработоспособным и перезагружать его вне зависимости от его реального статуса. Включать параметры Liveness-проб и Readiness-проб рекомендуется, только если вы чётко понимаете специфику и последствия их использования.</p>\n<p style=\"margin: 7px 0 7px 0;\">Чтобы закончить настройку добавленного сервиса, в окне редактирования нажмите кнопку <span style=\"font-weight: bold;\">Сохранить</span>.</p>\n<p style=\"margin: 7px 0 7px 0;\">Все созданные сервисы будут отображаться в управлении модулем, на вкладке <span style=\"font-weight: bold;\">Сервисы</span>. Чтобы повторно открыть окно редактирования сервиса, нажмите на его название в списке. Для удаления сервиса отметьте его флажком и нажмите на появившуюся в правом углу страницы кнопку <span style=\"font-weight: bold;\">Удалить</span>.</p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"on-off-microservices\"></a><span class=\"f_Heading2\">Запуск и выключение микросервисов</span></h2>\n<p class=\"p_Normal\">При включении модуля будут запущены все добавленные в него микросервисы. При выключении модуля микросервисы будут остановлены и удалены.</p>\n<p class=\"p_Normal\">Один и тот же образ микросервиса, развёрнутый из разных модулей в одной компании, будет иметь разные экземпляры микросервиса.</p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"monitor-of-microservices\"></a><span class=\"f_Heading2\">Монитор сервисов модуля</span></h2>\n<p style=\"margin: 7px 0 16px 0;\">При включённом модуле статус добавленных в него микросервисов можно отслеживать на его странице. Для этого рядом с названием модуля<span style=\"font-weight: bold;\"> </span>отображается <span style=\"font-weight: bold;\">Монитор сервисов</span>.</p>\n<p style=\"margin: 7px 0 16px 0;\"><img alt=\"portable-services-4\" height=\"283\" src=\"portable-services-4.png\" style=\"margin:0;width:1037px;height:283px;border:none\" width=\"1037\"/></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\">Нажав на кнопку, вы<span style=\"font-weight: bold;\"> </span>увидите список всех микросервисов, заданных переносимыми сервисами. По каждому сервису отображаются данные об образе, из которого поднимается контейнер, о количестве набора реплик и их текущем статусе. При наличии возможностей кластера Kubernetes предоставлять метрики указываются также данные о потреблении ресурсов.</p>\n<p style=\"margin: 0 0 11px 0;\"><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">Также вы можете просматривать информацию по сервисам в рамках всех модулей компании на странице </span><span style=\"font-size: 13px; font-family: Inter; color: #0000ff;\"><a class=\"topiclink\" href=\"service-monitor.html\">Монитор сервисов</a></span><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">.</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"interaction\"></a><span class=\"f_Heading2\">Взаимодействие с микросервисом</span></h2>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"scripts\"></a><span class=\"f_Heading3\">Скрипты</span></h3>\n<p class=\"p_Normal\">Взаимодействовать с микросервисами можно через API, предоставляемый скриптами. Он доступен только на уровне модуля, к которому принадлежит микросервис, например, в виджетах или бизнес-процессах модуля. </p>\n<p class=\"p_Normal\">Обратиться к микросервису можно:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">в клиентских и серверных скриптах модуля в формате <code><b>Namespace.api.название_делегированного_метода_сервиса</b></code>. Для этого способа взаимодействия <a class=\"topiclink\" href=\"extention-api.html#delegated\">настройте делегированный метод API</a>;</li><li class=\"p_Normal\">в серверных скриптах модуля в формате <code><b>Namespace.services.название_сервиса</b></code>.</li></ul>\n<p class=\"p_Normal\">Для взаимодействия с микросервисом используйте:</p>\n<ol style=\"list-style-type:decimal\">\n<li class=\"p_Normal\" value=\"1\">Метод <code><b>fetch()</b></code>:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">чтобы отправить простой GET-запрос без дополнительных параметров, укажите в методе <code><b>fetch()</b></code> относительный путь к API микросервиса. Пример: </li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">const res = await Namespace.services.vap.fetch(\"/SayHello\");</span><br/>\n<span class=\"f_CodeExample\">if (res.ok) {</span><br/>\n<span class=\"f_CodeExample\">const resText = await res.text();</span><br/>\n<span class=\"f_CodeExample\">}</span></p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">чтобы отправить другой тип запроса, указать параметры, задать заголовки и тело запроса, в методе <code><b>fetch()</b></code> передайте <code><b>FetchRequest</b></code>. Пример:</li></ul>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">const res = await Namespace.services.vap.fetch(\"/RememberMe\", {</span><br/>\n<span class=\"f_CodeExample\">        method: 'POST',</span><br/>\n<span class=\"f_CodeExample\">        headers: {</span><br/>\n<span class=\"f_CodeExample\">            Authorization: 'myToken',</span><br/>\n<span class=\"f_CodeExample\">            },</span><br/>\n<span class=\"f_CodeExample\">        body: JSON.stringify({</span><br/>\n<span class=\"f_CodeExample\">            name: 'Ivan',</span><br/>\n<span class=\"f_CodeExample\">            age: 27,</span><br/>\n<span class=\"f_CodeExample\">        })</span><br/>\n<span class=\"f_CodeExample\">    } );</span></p>\n<ol start=\"2\" style=\"list-style-type:decimal\">\n<li style=\"line-height: 1.28; margin-top: 0; margin-right: 0; margin-bottom: 11px;\" value=\"2\">Метод <code><b>status()</b></code><span style=\"font-size: 13px;\">.</span><br/>\n<span style=\"font-size: 13px;\"> </span><br/>\nПозволяет проверить состояние микросервиса. В результате возвращает перечисление <code><b>ServiceStatus</b></code>, которое содержит информацию о текущем статусе микросервиса. Пример:</li></ol>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">const info = await Namespace.services.vap.status();</span></p>\n<h3 class=\"p_Heading3\"><a class=\"hmanchor\" id=\"communication-between-two-services\"></a><span class=\"f_Heading3\">Обмен данными между двумя переносимыми сервисами</span></h3>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">В поставках ELMA365 On‑Premises и SaaS Enterprise можно организовать взаимодействие между микросервисами внутри одного модуля. Путь доступа настраивается с помощью переменных окружения. </span></p>\n<p style=\"line-height: 1.28; margin: 0 0 11px 0;\"><span style=\"font-size: 15px; font-family: Inter;\">Подробнее читайте в статье </span><span style=\"font-size: 15px; font-family: Inter; color: #0563c1;\"><a class=\"topiclink\" href=\"development-key-points.html#communication-between-services\">«Рекомендации по разработке микросервисов для переносимых сервисов»</a></span><span style=\"font-size: 15px; font-family: Inter;\">.</span></p>\n<h2 class=\"p_Heading2\"><a class=\"hmanchor\" id=\"export-import\"></a><span class=\"f_Heading2\">Экспорт и импорт модуля с сервисом</span></h2>\n<p class=\"p_Normal\">Экспорт и импорт модуля, имеющего переносимые сервисы, возможен только в случае, если  <span style=\"font-weight: bold;\">Переносимые сервисы </span>разблокированы.</p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"events_processing.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">events_processing.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"service-monitor.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">service-monitor.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n</body>\n</html>\n",
  "plain_text": "Настройка переносимого сервиса в модуле ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Модули расширения системы > Пользовательские модули / Настройка переносимого сервиса в модуле Настройка переносимого сервиса в модуле Переносимые сервисы позволяют интегрировать микросервисы в пользовательские модули, расширяя их функциональные возможности. Подключить переносимый сервис в модуле можно несколькими способами. Нужный вариант выбирается в зависимости от среды размещения самого микросервиса, а также используемой поставки ELMA365. При создании сервиса вы можете передать в модуль: адрес образа микросервиса, размещённого в публичном или приватном репозитории Docker Hub, его внутренние настройки и конфигурации для работы в кластере. Такой способ используется в поставках, поддерживающих развёртывание сервиса в среде исполнения Kubernetes: ELMA365 On‑Premises и SaaS Enterprise; альтернативный адрес сервиса, установленного на внешнем хостинге с публичным доступом. Способ доступен для всех поставок, но зачастую применяется в облачной поставке ELMA365 SaaS Standard, где нельзя обеспечить работу образа сервиса. В этой статье рассмотрим процесс создания сервиса в пользовательском модуле. Подробнее об использовании микросервисов в разработке пользовательских решений читайте в статьях: особенности переносимых сервисов и пример использования — «Переносимые сервисы в модулях» ; реализация проверки стабильного подключения сервиса — «Пример использования Readiness проверки в переносимых сервисах» ; включение переносимых сервисов в ELMA365 Enterprise — «Включение переносимых сервисов» ; разработка собственного микросервиса — «Рекомендации по разработке микросервисов для переносимых сервисов» . Добавить и настроить переносимый сервис Откройте страницу пользовательского модуля, в котором подключается переносимый сервис, и перейдите в Управление . На вкладке Сервисы нажмите кнопку + Сервис и заполните основные настройки в открывшемся окне: Имя * — название сервиса, отображаемое в списке на странице модуля; Уникальное имя сервиса * — имя, которое будет использоваться в коде или скриптах для обращения к сервису. Заданное при создании имя невозможно изменить в дальнейшем; Docker контейнер — в блоке настраивается размещение образа микросервиса в отдельном пространстве в среде исполнения Kubernetes. Настройка доступна в поставках ELMA365 On‑Premises и SaaS Enterprise: Адрес образа * — URL-адрес Docker‑образа сервиса. Задаётся в одном из форматов: для Docker Hub используйте краткий относительный путь , для других реестров — полный путь . Когда для образа требуется аутентификация, нужно указать логин и токен учётных данных. Для этого напротив поля нажмите значок ключа и заполните форму одним из следующих способов: укажите логин и токен в строковом представлении. При экспорте модуля указанные значения сохраняются и передаются в открытом виде; чтобы предотвратить случайную утечку данных авторизации при экспорте модуля, используйте шаблонизированные переменные типа Строка (строка) , созданные в виде параметров настроек модуля . Для этого нажмите значок {+} и выберите добавленное свойство. В этом случае значения логина и токена указываются на странице подключения модуля , а не вводятся напрямую в окне Данные авторизации . При экспорте и последующем импорте модуля конфиденциальная информация не будет случайно передана, поскольку значения параметров настроек удалятся. При этом сами переменные для логина и токена сохранятся. Порт HTTP * — порт, через который будет происходить взаимодействие с микросервисом. По умолчанию указан порт 3000 . При настройке ознакомьтесь с документацией микросервиса и определите, какой из портов следует выбрать. Альтернативный адрес сервиса — блок заполняется, если микросервис размещён и функционирует на стороннем сервере с публичным адресом доступа. Вы можете указать URL‑адрес сервиса одним из следующих способов: внести адрес в строковом представлении, например https://example.mathcalculation.com ; использовать предварительно созданные параметры из настроек модуля и задать шаблон адреса . В этом случае, если компоненты адреса изменяются, вы сможете отредактировать значения параметров в модуле, а не настраивать подключение повторно. Обратите внимание, если в поставках ELMA365 On‑Premises и SaaS Enterprise указать оба адреса, то будет использоваться адрес образа. Нажмите Сохранить . Откроется окно Редактирование сервиса , в котором можно: отредактировать или добавить адрес образа и порт, а также указать дополнительные настройки Docker‑контейнера . Например, можно задать количество экземпляров микросервиса, добавить переменные окружения, настроить Liveness- и Readiness‑пробы ; отредактировать или указать публичный адрес сервиса, нажав значок шестерёнки справа от поля Альтернативный адрес сервиса . Чтобы адрес формировался на основе параметров модуля, для него можно задать шаблон . Форматы для адреса образа В зависимости от размещения Docker‑образа укажите в настройках сервиса: краткий относительный путь — применяется, если образ расположен в реестре по умолчанию — Docker Hub. Формат: <image_path>:<tag> , где: <image_path> — путь к образу в реестре. Обязателен; <tag> — тег образа. Необязателен. начало примера Примеры Адреса контейнеров в репозитории Docker Hub: nginx ; nginx:latest ; chialab/math-api ; chialab/math-api:latest ; company/service ; company/service:v1.0.0 . конец примера полный путь — для публичного или приватного репозитория, расположенного на отдельном сервере. Формат: <registry>:<port>/<image_path>:<tag> , где: <registry> — доменный адрес реестра образов. Обязателен; <port> — порт, по которому можно получить доступ к реестру образов. Необязателен; <image_path> — путь к образу в реестре. Обязателен; <tag> — тег образа. Необязателен. начало примера Примеры Адреса контейнеров в сторонних реестрах: company.goharbor.io/math-api ; company.goharbor.io:5005/math-api:v1.0.0 ; registry.company.com/service/app ; registry.company.com:5005/service/app:latest . конец примера Подробнее об адресах образов читайте в официальной документации Kubernetes . Проверка корректности адреса Для проверки загрузите образ микросервиса с помощью команды: docker pull <image_address> Где <image_address> — адрес образа. Если загрузка проходит успешно, адрес можно использовать для сервиса в модуле ELMA365. Шаблон альтернативного адреса сервиса Альтернативный адрес сервиса можно указать с помощью параметров модуля. Такой способ позволяет более гибко управлять переносимым сервисом. Например, вы можете изменять компоненты адреса на странице подключения модуля . Чтобы настроить шаблон адреса сервиса, выполните следующие шаги: Откройте страницу управления пользовательского модуля, в который будет добавляться переносимый сервис. Перейдите на вкладку Настройки и создайте свойства типа Строка (строка) , из которых будет состоять адрес сервиса. Например, это могут быть два параметра: для записи протокола передачи данных и для указания базового адреса сервиса. В настройках при создании сервиса в модуле укажите шаблон в поле Адрес сервиса . Для этого нажмите значок {+} , выберите созданные ранее параметры и сохраните настройки. Чтобы отредактировать указанный адрес, в настройках сервиса нажмите значок шестерёнки справа от опции Альтернативный адрес сервиса . Отредактируйте шаблон или задайте новый адрес и сохраните изменения. Сохраните настройки сервиса. Теперь адрес сервиса можно указать, изменить или удалить в настройках включённого модуля. Если поля не заполнены, связь с сервисом недоступна. Настройки Docker-контейнера В поставках ELMA365 On‑Premises и SaaS Enterprise образ микросервиса можно разместить в среде исполнения Kubernetes. Чтобы задать настройки развёртывания микросервиса, нажмите значок шестерёнки справа от названия блока Docker контейнер . В открывшемся окне настройка выполняется на нескольких вкладках : Основные настройки , Переменные окружения , Liveness , Readiness . Вкладка «Основные настройки» Адрес образа * , Порт HTTP * — вы можете отредактировать адрес образа, логин и токен для доступа к репозиторию и порт подключения, указанные при создании переносимого сервиса ; Дополнительные порты — вы можете указать для микросервиса дополнительные порты, с помощью которых другие микросервисы модуля смогут к нему обращаться. Для одного микросервиса доступно не более 10 дополнительных портов. начало внимание Чтобы указание дополнительных портов в настройках переносимых сервисов стало доступно, включите фича-флаг allowBabysitterOptionalPorts . Подробнее читайте в статьях «Изменение параметров ELMA365 Enterprise» и «Изменение параметров ELMA365 Standard» . конец внимание Количество экземпляров — укажите, сколько экземпляров микросервисов развернуть и запустить. При изменении количества следует учитывать, что в ELMA365 не поддерживается репликация сервисов. Если это не заложено в микросервис, то каждый из запущенных экземпляров не будет связан с остальными. Вы можете настроить дополнительные параметры переносимого сервиса с помощью ConfigMap. Например, задать лимиты использования ресурсов, включить автомасштабирование микросервиса и настроить размещение подов на узлах кластера. Подробнее читайте в статье «Настройка параметров переносимых сервисов через ConfigMap» . Вкладка «Переменные окружения» На этой вкладке создаются переменные окружения образа микросервиса. Они используются, если в микросервисе допускается конфигурирование через переменные среды. Определить доступность конфигурирования можно в документации микросервиса. Для создания переменной на вкладке нажмите + Переменная окружения и заполните шаблон параметра сервиса в открывшемся окне. Обратите внимание, при добавлении или изменении переменных окружения микросервис перезапускается. Вы можете не только задавать переменные окружения при разработке, но и предоставлять возможность их изменения конечным пользователям. Для этого при создании переменной в шаблоне можно использовать параметры настройки модуля . Например, в настройках модуля есть свойство ServiceTimeout . Можно создать переменную окружения R equestTimeout и указать в её шаблоне {$ServiceTimeout} . Тогда пользователи будут изменять значение свойства на главной странице настроек модуля и при этом устанавливать значение для переменной окружения в микросервисе. Если в шаблоне переменных окружения используются параметры настройки модуля, вы можете включить опцию Перезапускать при изменении настроек модуля . В этом случае, когда значения параметров на главной странице настроек модуля изменятся, сервис будет перезапускаться, т. е. полностью удаляться из Kubernetes‑кластера и разворачиваться повторно. Вкладка «Liveness» Здесь вы можете включить возможность Kubernetes автоматически перезапускать микросервис в случае его неработоспособности. В выпадающем списке доступны следующие опции: Command , HTTP , TCP . Прежде чем включать Liveness-пробы и выбирать их тип, ознакомьтесь с документацией подключаемого микросервиса. Вкладка «Readiness» На этой вкладке включается возможность Kubernetes не позволять подключаться к микросервису до его полной инициализации. В выпадающем списке доступны следующие опции: Command , HTTP , TCP . Прежде чем включать Readiness-пробы и выбирать их тип, ознакомьтесь с документацией подключаемого микросервиса. Конфигурирование параметров на вкладках Liveness и Readiness следует выполнять с особой осторожностью. В случае некорректной настройки и получении невалидного ответа Kubernetes будет считать микросервис неработоспособным и перезагружать его вне зависимости от его реального статуса. Включать параметры Liveness-проб и Readiness-проб рекомендуется, только если вы чётко понимаете специфику и последствия их использования. Чтобы закончить настройку добавленного сервиса, в окне редактирования нажмите кнопку Сохранить . Все созданные сервисы будут отображаться в управлении модулем, на вкладке Сервисы . Чтобы повторно открыть окно редактирования сервиса, нажмите на его название в списке. Для удаления сервиса отметьте его флажком и нажмите на появившуюся в правом углу страницы кнопку Удалить . Запуск и выключение микросервисов При включении модуля будут запущены все добавленные в него микросервисы. При выключении модуля микросервисы будут остановлены и удалены. Один и тот же образ микросервиса, развёрнутый из разных модулей в одной компании, будет иметь разные экземпляры микросервиса. Монитор сервисов модуля При включённом модуле статус добавленных в него микросервисов можно отслеживать на его странице. Для этого рядом с названием модуля отображается Монитор сервисов . Нажав на кнопку, вы увидите список всех микросервисов, заданных переносимыми сервисами. По каждому сервису отображаются данные об образе, из которого поднимается контейнер, о количестве набора реплик и их текущем статусе. При наличии возможностей кластера Kubernetes предоставлять метрики указываются также данные о потреблении ресурсов. Также вы можете просматривать информацию по сервисам в рамках всех модулей компании на странице Монитор сервисов . Взаимодействие с микросервисом Скрипты Взаимодействовать с микросервисами можно через API, предоставляемый скриптами. Он доступен только на уровне модуля, к которому принадлежит микросервис, например, в виджетах или бизнес-процессах модуля. Обратиться к микросервису можно: в клиентских и серверных скриптах модуля в формате Namespace.api.название_делегированного_метода_сервиса . Для этого способа взаимодействия настройте делегированный метод API ; в серверных скриптах модуля в формате Namespace.services.название_сервиса . Для взаимодействия с микросервисом используйте: Метод fetch() : чтобы отправить простой GET-запрос без дополнительных параметров, укажите в методе fetch() относительный путь к API микросервиса. Пример: const res = await Namespace.services.vap.fetch(\"/SayHello\"); if (res.ok) { const resText = await res.text(); } чтобы отправить другой тип запроса, указать параметры, задать заголовки и тело запроса, в методе fetch() передайте FetchRequest . Пример: const res = await Namespace.services.vap.fetch(\"/RememberMe\", { method: 'POST', headers: { Authorization: 'myToken', }, body: JSON.stringify({ name: 'Ivan', age: 27, }) } ); Метод status() . Позволяет проверить состояние микросервиса. В результате возвращает перечисление ServiceStatus , которое содержит информацию о текущем статусе микросервиса. Пример: const info = await Namespace.services.vap.status(); Обмен данными между двумя переносимыми сервисами В поставках ELMA365 On‑Premises и SaaS Enterprise можно организовать взаимодействие между микросервисами внутри одного модуля. Путь доступа настраивается с помощью переменных окружения. Подробнее читайте в статье «Рекомендации по разработке микросервисов для переносимых сервисов» . Экспорт и импорт модуля с сервисом Экспорт и импорт модуля, имеющего переносимые сервисы, возможен только в случае, если Переносимые сервисы разблокированы. events_processing.html service-monitor.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360024498352.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/extentions.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/portable-microservices.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/readiness.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/enable-portable-services.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/development-key-points.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/portable-services.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360009707032.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/extention-settings.html",
    "https://kubernetes.io/docs/concepts/containers/images/",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/change-settings-enterprise.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/change-elma365standard-parameters.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/configmap.html",
    "https://elma365.com/ru/help/platform/extention-settings.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/service-monitor.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/extention-api.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/events_processing.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T21:58:11.928911",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T21:58:12.029995"
  }
}