{
  "doc_id": "360027203731",
  "url": "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360027203731.html",
  "title": "Скрипт",
  "breadcrumbs": [],
  "section": "[kedo]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Скрипт</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"Скрипт — это код на языке TypeScript, который позволяет обращаться к данным бизнес-процессов, создавать, запрашивать, изменять и удалять элементы приложений, а также...\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/360027203731.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Дизайнер бизнес-процессов &gt; Графические элементы / Скрипт</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\" style=\"text-align: center; margin: 19px 0 19px 0;\"><span class=\"f_Heading1\" style=\"font-size: 32px;\">Скрипт</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><span style=\"font-weight: bold;\">Скрипт</span> — это код на языке TypeScript, который позволяет обращаться к данным бизнес-процессов, создавать, запрашивать, изменять и удалять элементы приложений, а также взаимодействовать с внешними системами по протоколу HTTP.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Предположим, компания сбывает продукцию через интернет. Когда клиент нажимает кнопку <span style=\"font-weight: bold;\">Заказать</span>, при помощи скрипта запускается бизнес-процесс, в который передаётся информация о заказе, сделанном на сайте. Система автоматически рассчитывает стоимость товара со скидкой, а затем отправляет данные обратно на сайт.</p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Как добавить блок «Скрипт» на схему процесса</span></h2>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p style=\"margin: 19px 0 0 0;\">Настраивать блок <span style=\"font-weight: bold;\">Скрипт</span> могут только пользователи, включённые в группу <a class=\"topiclink\" href=\"360006871932.html#administrators\">Администраторы</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><a class=\"topiclink\" href=\"360012265552.html#create_process\">На странице процесса</a> на панели инструментов справа от поля для моделирования откройте вкладку <span style=\"font-weight: bold;\">Стандартные элементы</span>. Перетащите блок <span style=\"font-weight: bold;\">Скрипт </span>на схему и разместите его там, где необходимо.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"2.PNG\" height=\"562\" src=\"360026678492-2.png\" style=\"margin:0;width:678px;height:562px;border:none\" title=\"2.PNG\" width=\"678\"/></p>\n<p style=\"margin: 14px 0 0 0;\">Обратите внимание, для блока <span style=\"font-weight: bold;\">Скрипт</span> можно применить только два исходящих перехода. Один переход <span style=\"font-size: 13px; font-family: Inter; color: #394149;\">— </span>при успешном выполнении, второй <span style=\"font-size: 13px; font-family: Inter; color: #394149;\">— </span>при <a class=\"topiclink\" href=\"360027203731.html#error-handling-tab\">возникновении ошибки</a> во время работы скрипта. Если количество переходов из блока будет превышено, то процесс не опубликуется.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Дважды нажмите на добавленный блок, чтобы открыть окно с настройками. Оно содержит вкладки: <span style=\"font-weight: bold;\">Основное,</span> <span style=\"font-weight: bold;\">Обработка ошибок</span>,<span style=\"font-weight: bold;\"> Описание</span>.</p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><span class=\"f_Heading2\" style=\"font-size: 24px;\">Вкладка «Основное»</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\"><img alt=\"Сценарий_02\" height=\"291\" src=\"hmfile_hash_90b63099.png\" style=\"margin:0;width:706px;height:291px;border:none\" width=\"706\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">В поле <span style=\"font-weight: bold;\">Название</span> укажите название операции, которое будет отображаться в системе, например, <span style=\"font-weight: bold;\">Расчет стоимости</span>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">В поле <span style=\"font-weight: bold;\">Функция</span> привяжите к блоку конкретную функцию. Если в процесс уже были добавлены функции, то вы сможете выбрать нужную из выпадающего списка. Если вам нужно создать новую функцию, нажмите кнопку <span style=\"font-weight: bold;\">Создать </span>и укажите её название. Обратите внимание, название может содержать только латинские буквы, цифры и знак подчёркивания. При этом оно должно начинаться с буквы. Сохраните название новой функции и затем нажмите кнопку <span style=\"font-weight: bold;\">Открыть</span>.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"Сценарий_03\" height=\"281\" src=\"hmfile_hash_f18adcff.png\" style=\"margin:0;width:785px;height:281px;border:none\" width=\"785\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Откроется <a class=\"topiclink\" href=\"360028476691.html\">редактор</a>, в котором вы можете написать скрипт для обработки контекста. Такие скрипты выполняются на стороне сервера без ограничения доступа к элементам приложения. Например, если в каком-либо приложении ограничен доступ к элементам, то при попытке загрузить элемент, к которому у текущего пользователя нет доступа, серверный код выполнится успешно. Аналогично при получении списка элементов вернутся все элементы.</p>\n<p class=\"p_Normal\">Для создания скриптов используется <a class=\"weblink\" href=\"https://www.typescriptlang.org/\">TypeScript</a>. Более подробно про принципы написания скриптов вы можете прочитать в <a class=\"weblink\" href=\"https://tssdk.elma365.com/ru/latest/index.html\" target=\"_blank\">справке ELMA365 TS SDK</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">начало внимание</span></p>\n<p class=\"p_Normal\">Использование констант <code><b>Global</b></code> или <code><b>Namespace</b></code> в скриптах ограничивает экспорт компонентов системы. Подробнее об этом читайте в статье <a class=\"topiclink\" href=\"global-constants.html#export-restrictions\">«Глобальные константы в скриптах»</a>.</p>\n<p class=\"p_CodeExample\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">конец внимание</span></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"Сценарий_04\" height=\"523\" src=\"hmfile_hash_545d3306.png\" style=\"margin:0;width:727px;height:523px;border:none\" width=\"727\"/></p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">При написании некоторых скриптов можно использовать дополнительные параметры. Они позволяют донастроить процесс или внести изменения в скрипт без перепубликации. Подробнее об этом вы можете прочитать в статье <span style=\"background-color: #ffffff;\"><a class=\"topiclink\" href=\"360009207779.html\">«Дополнительные параметры»</a></span>.</p>\n<h2 class=\"p_Heading2\" style=\"margin: 19px 0 0 0;\"><a class=\"hmanchor\" id=\"error-handling-tab\"></a><span class=\"f_Heading2\" style=\"font-size: 24px;\">Вкладка «Обработка ошибок»</span></h2>\n<p class=\"p_Normal\" style=\"margin: 19px 0 0 0;\">В ходе процесса может возникнуть ошибка выполнения скрипта, например, если ELMA365 не сможет получить доступ к внешнему сервису. На этой вкладке определите, как продолжится процесс в случае ошибки.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Для этого перейдите на вкладку <span style=\"font-weight: bold;\">Обработка ошибок</span> в окне настроек.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\"><img alt=\"Сценарий_05\" height=\"533\" src=\"hmfile_hash_65fa0d74.png\" style=\"margin:0;width:756px;height:533px;border:none\" width=\"756\"/></p>\n<ul style=\"list-style-type:disc\">\n<li><span style=\"font-weight: bold;\">Повторить выполнение</span> — выберите эту опцию, чтобы в случае ошибки скрипт выполнился повторно;<ul style=\"list-style-type:disc\">\n<li><span style=\"font-weight: bold;\">Количество повторений</span> — укажите количество попыток для воспроизведения скрипта;</li><li><span style=\"font-weight: bold;\">Время задержки между повторениями (сек)</span> — определите частоту попыток воспроизведения скрипта;</li></ul></li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 36px;\">Если в настройках приложения <a class=\"topiclink\" href=\"360007708691.html#data-save-conflict\">активировано предотвращение конфликта сохранений</a> при редактировании элемента приложения, оставьте опцию выключенной. Это позволит избежать бесконечной попытки перезаписать данные при конфликте. Ошибка отобразится в <a class=\"topiclink\" href=\"error_monitor.html\">мониторе ошибок</a>, и вы сможете перезапустить скрипт после того, как данные, введённые другим пользователем, сохранятся;</p>\n<ul style=\"list-style-type:disc\">\n<li><span style=\"font-weight: bold;\">Оповещение</span> — выберите опцию, <span style=\"font-size: 13px; font-family: Inter; color: #394149;\">чтобы в случае ошибки уведомить ответственных пользователей. Они получат оповещение один раз по завершении всех попыток выполнения скрипта. Можно выбрать:</span><ul style=\"list-style-type:disc\">\n<li><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">текущего пользователя — того, кто выполнил задачу, стоящую перед блоком </span><span style=\"font-size: 13px; font-family: Inter; font-weight: bold; color: #394149;\">Скрипт</span><span style=\"font-size: 13px; font-family: Inter; color: #394149;\"> на схеме процесса;</span></li><li><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">контекстную переменную — например, инициатора;</span></li><li><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">группу;</span></li><li><span style=\"font-size: 13px; font-family: Inter; color: #394149;\">элемент оргструктуры</span>;</li></ul>\n</li><li><span style=\"font-weight: bold;\">Прервать</span> — <span style=\"font-size: 15px; font-family: Calibri,Vectora,'Droid Sans','Open Sans',Frutiger,sans-serif;\">в случае ошибки прекратятся попытки выполнения скрипта и процесс пойдёт по выбранному переходу</span>.</li></ul>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Вкладка «Описание»</span></h2>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">Укажите служебную информацию о работе блока, например, опишите, какие операции выполнятся в результате настроенного скрипта. Администраторы системы и сотрудники, моделирующие процесс, смогут перейти на вкладку и ознакомиться с этими данными.</p>\n<p class=\"p_Normal\" style=\"margin: 14px 0 0 0;\">После завершения настроек нажмите <span style=\"font-weight: bold;\">Сохранить</span>.</p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"360012266792.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">360012266792.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"360012495911.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">360012495911.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n</body>\n</html>\n",
  "plain_text": "Скрипт ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Дизайнер бизнес-процессов > Графические элементы / Скрипт Скрипт Скрипт — это код на языке TypeScript, который позволяет обращаться к данным бизнес-процессов, создавать, запрашивать, изменять и удалять элементы приложений, а также взаимодействовать с внешними системами по протоколу HTTP. Предположим, компания сбывает продукцию через интернет. Когда клиент нажимает кнопку Заказать , при помощи скрипта запускается бизнес-процесс, в который передаётся информация о заказе, сделанном на сайте. Система автоматически рассчитывает стоимость товара со скидкой, а затем отправляет данные обратно на сайт. Как добавить блок «Скрипт» на схему процесса начало внимание Настраивать блок Скрипт могут только пользователи, включённые в группу Администраторы . конец внимание На странице процесса на панели инструментов справа от поля для моделирования откройте вкладку Стандартные элементы . Перетащите блок Скрипт на схему и разместите его там, где необходимо. Обратите внимание, для блока Скрипт можно применить только два исходящих перехода. Один переход — при успешном выполнении, второй — при возникновении ошибки во время работы скрипта. Если количество переходов из блока будет превышено, то процесс не опубликуется. Дважды нажмите на добавленный блок, чтобы открыть окно с настройками. Оно содержит вкладки: Основное, Обработка ошибок , Описание . Вкладка «Основное» В поле Название укажите название операции, которое будет отображаться в системе, например, Расчет стоимости . В поле Функция привяжите к блоку конкретную функцию. Если в процесс уже были добавлены функции, то вы сможете выбрать нужную из выпадающего списка. Если вам нужно создать новую функцию, нажмите кнопку Создать и укажите её название. Обратите внимание, название может содержать только латинские буквы, цифры и знак подчёркивания. При этом оно должно начинаться с буквы. Сохраните название новой функции и затем нажмите кнопку Открыть . Откроется редактор , в котором вы можете написать скрипт для обработки контекста. Такие скрипты выполняются на стороне сервера без ограничения доступа к элементам приложения. Например, если в каком-либо приложении ограничен доступ к элементам, то при попытке загрузить элемент, к которому у текущего пользователя нет доступа, серверный код выполнится успешно. Аналогично при получении списка элементов вернутся все элементы. Для создания скриптов используется TypeScript . Более подробно про принципы написания скриптов вы можете прочитать в справке ELMA365 TS SDK . начало внимание Использование констант Global или Namespace в скриптах ограничивает экспорт компонентов системы. Подробнее об этом читайте в статье «Глобальные константы в скриптах» . конец внимание При написании некоторых скриптов можно использовать дополнительные параметры. Они позволяют донастроить процесс или внести изменения в скрипт без перепубликации. Подробнее об этом вы можете прочитать в статье «Дополнительные параметры» . Вкладка «Обработка ошибок» В ходе процесса может возникнуть ошибка выполнения скрипта, например, если ELMA365 не сможет получить доступ к внешнему сервису. На этой вкладке определите, как продолжится процесс в случае ошибки. Для этого перейдите на вкладку Обработка ошибок в окне настроек. Повторить выполнение — выберите эту опцию, чтобы в случае ошибки скрипт выполнился повторно; Количество повторений — укажите количество попыток для воспроизведения скрипта; Время задержки между повторениями (сек) — определите частоту попыток воспроизведения скрипта; Если в настройках приложения активировано предотвращение конфликта сохранений при редактировании элемента приложения, оставьте опцию выключенной. Это позволит избежать бесконечной попытки перезаписать данные при конфликте. Ошибка отобразится в мониторе ошибок , и вы сможете перезапустить скрипт после того, как данные, введённые другим пользователем, сохранятся; Оповещение — выберите опцию, чтобы в случае ошибки уведомить ответственных пользователей. Они получат оповещение один раз по завершении всех попыток выполнения скрипта. Можно выбрать: текущего пользователя — того, кто выполнил задачу, стоящую перед блоком Скрипт на схеме процесса; контекстную переменную — например, инициатора; группу; элемент оргструктуры ; Прервать — в случае ошибки прекратятся попытки выполнения скрипта и процесс пойдёт по выбранному переходу . Вкладка «Описание» Укажите служебную информацию о работе блока, например, опишите, какие операции выполнятся в результате настроенного скрипта. Администраторы системы и сотрудники, моделирующие процесс, смогут перейти на вкладку и ознакомиться с этими данными. После завершения настроек нажмите Сохранить . 360012266792.html 360012495911.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360006871932.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360012265552.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360027203731.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360028476691.html",
    "https://www.typescriptlang.org/",
    "https://tssdk.elma365.com/ru/latest/index.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/global-constants.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360009207779.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360007708691.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/error_monitor.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360012266792.html",
    "https://elma365.com/ru/help/kedo/ru/help/business_solutions/360012495911.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T22:01:19.097202",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T22:01:19.259184"
  }
}