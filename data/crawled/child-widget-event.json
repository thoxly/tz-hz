{
  "doc_id": "child-widget-event",
  "url": "https://elma365.com/ru/help/crm/ru/help/business_solutions/child-widget-event.html",
  "title": "Передать событие между двумя дочерними виджетами",
  "breadcrumbs": [
    "Создание интерфейсов",
    "Скрипты в виджетах"
  ],
  "section": "Создание интерфейсов > Скрипты в виджетах | [crm]",
  "html": "<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n<title>Передать событие между двумя дочерними виджетами</title>\n<meta content=\"Help+Manual\" name=\"generator\"/>\n<meta content=\"\" name=\"keywords\"/>\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"/>\n<meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n<meta content=\"С помощью поля типа Событие в одном виджете можно создать пользовательское событие и передать его в другой виджет. Подробнее о том, как это работает и как настроить передачу...\" name=\"description\"/>\n<meta content=\"\" name=\"picture\"/>\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"Cправка по Low-code платформе ELMA365\" property=\"og:title\"/>\n<meta content=\"https://elma365.com/ru/help\" property=\"og:url\"/>\n<meta content=\"\" property=\"og:image\"/>\n<meta content=\"ELMA365\" property=\"og:site_name\"/>\n<link href=\"favicon.png\" rel=\"icon\" type=\"image/png\"/>\n<link href=\"https://elma365.com/ru/help/platform/child-widget-event.html\" rel=\"canonical\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\n<link href=\"./jquery-ui.min.css\" rel=\"stylesheet\"/>\n<link href=\"default.css\" rel=\"stylesheet\"/>\n<link href=\"./search-yandex.css\" rel=\"stylesheet\"/>\n<link href=\"./article.css\" rel=\"stylesheet\"/>\n<link href=\"./glossary.css\" rel=\"stylesheet\"/>\n<link href=\"./theme.css\" rel=\"stylesheet\"/>\n<link href=\"./tooltipster.bundle.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"jquery.js\" type=\"text/javascript\"></script>\n<script src=\"./tooltipster.bundle.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n        $(document).ready($('.tooltip').tooltipster({\n            contentCloning: true,\n            theme: 'tooltipster-borderless',\n        }));\n    </script>\n<script src=\"helpman_settings.js\" type=\"text/javascript\"></script>\n<script src=\"helpman_topicinit.js\" type=\"text/javascript\"></script>\n<script src=\"highlight.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n     $(document).ready(function(){highlight();});\n   </script>\n</head>\n<body>\n<script async=\"\" src=\"https://www.googletagmanager.com/gtag/js?id=G-M6ETBEC1R9\"></script><script>window.dataLayer=window.dataLayer || []; function gtag(){dataLayer.push(arguments);}gtag('js', new Date()); gtag('config', 'G-M6ETBEC1R9');</script>\n<script>!function(e,t,c,n,r,a,m){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===n)return;a=t.createElement(c),m=t.getElementsByTagName(c)[0],a.async=1,a.src=n,m.parentNode.insertBefore(a,m)}(window,document,\"script\",\"https://mc.yandex.ru/metrika/tag.js\"),ym(83179930,\"init\",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img alt=\"\" src=\"https://mc.yandex.ru/watch/83179930\" style=\"position:absolute;left:-9999px\"/></div></noscript> \n    \n    ﻿<header class=\"header elma-365\">\n<div class=\"container\">\n<div class=\"nav-container\">\n<div class=\"nav-wrap\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<div class=\"header__navi\">\n<ul class=\"header__list\"><li><span class=\"solution-select\"><span class=\"solution-select__selected\"></span><svg fill=\"none\" height=\"4\" viewbox=\"0 0 7 4\" width=\"7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1 1L3.5 3.5L6 1\" stroke=\"white\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path></svg><ul class=\"solution-select__list\"><li class=\"header__list-item\"><a class=\"project-link\" href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">CSP</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/crm/crm-functions.html\">CRM+CX</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/kedo/kedo.html\">КЭДО</a></li><li><a class=\"project-link\" href=\"https://elma365.com/ru/help/business_solutions/-elma365-store.html\">Бизнес-решения</a></li><ul class=\"social-links-header\"><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://elma-academy.com/ru/\" target=\"_blank\">Academy</a></li><li class=\"social-link-header\"><a class=\"project-link\" href=\"https://community.elma365.com/ru/\" target=\"_blank\">Community</a></li><li></li></ul></ul></span></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li class=\"header__list-item\"><a class=\"header__list-item-url\" href=\"https://tssdk.elma365.com/latest/\" target=\"_blank\">SDK</a></li><li class=\"header__list-item header__list-item-latest\"><a class=\"header__list-item-url header__list-item-last\" href=\"https://elma365.com/ru/\" target=\"_blank\">Сайт ELMA365</a></li></ul>\n<div class=\"hero-wrap\" style=\"display: flex; align-items: center;\">\n<div class=\"hero__search\" style=\"display: flex; justify-content: space-between; width: 100%; padding-left: 0;\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img alt=\"header logo\" src=\"./logo.svg\"/>\n</a>\n<button class=\"hero__search-icon\" id=\"search-icon\">\n<img alt=\"search string\" src=\"search-icon-white.svg\"/>\n</button>\n<div class=\"hero__search-form\" id=\"search-panel\"><form class=\"search-form\"><label class=\"search-form__label\"><span class=\"search__icon\" id=\"reset-search\" src=\"Union.svg\"></span><input class=\"search-form__input\" type=\"text\"/></label><input class=\"search-form__submit\" type=\"submit\" value=\"Submit\"/></form></div>\n</div>\n</div>\n</div>\n</div>\n<a class=\"hero__side-icon\" href=\"#\" id=\"side-menu-icon\">\n<img alt=\"side menu\" src=\"side_menu.svg\"/>\n</a>\n</div>\n</div>\n</header>\n<main class=\"main container\">\n<aside class=\"sidebar\" id=\"sidebar\">\n<div class=\"sidebar__header\">\n<a class=\"header__logo\" href=\"https://elma365.com/ru/help\">\n<img src=\"./logo-light.svg\"/>\n</a>\n<span class=\"sidebar__close elma-365-close\" id=\"close\"></span>\n</div>\n<div class=\"sidebar__wrapper\" id=\"side-menu\">\n</div>\n</aside>\n<article class=\"article\" id=\"article\">\n<div class=\"article-inner\">\n<div class=\"content\">\n<header class=\"article__header\">\n<div class=\"article__bread\" style=\"display:flex; gap:8px;\">\n<span class=\"search-res__item-category search-res__item-category_subcategory subcategory article__badge\" id=\"subcategory\"></span>\n<nav class=\"topic__breadcrumbs\">\n<p>Low-code дизайнер &gt; <a href=\"interface_settings.html\">Создание интерфейсов</a> &gt; <a href=\"client_server_scripts.html\">Скрипты в виджетах</a> / Передать событие между двумя дочерними виджетами</p>\n</nav>\n</div>\n<div class=\"topic__title\"><h1 class=\"p_Heading1\"><span class=\"f_Heading1\">Передать событие между двумя дочерними виджетами</span></h1>\n</div>\n</header>\n<section class=\"article__content\">\n<div class=\"scroll-top-inner\">\n<a class=\"scroll-top\" href=\"#h1-article\"></a>\n</div>\n<!-- Placeholder for topic body. -->\n<p class=\"p_Normal\">С помощью поля типа <span style=\"font-weight: bold;\">Событие</span> в одном виджете можно создать пользовательское событие и передать его в другой виджет. Подробнее о том, как это работает и как настроить передачу данных от дочернего виджета в родительский, читайте в статье <a class=\"topiclink\" href=\"event-in-widgets.html\">«Передать событие из дочернего в родительский виджет»</a>. </p>\n<p class=\"p_Normal\">В данной статье рассмотрим комплексный пример с использованием различных опций и дополнительных переменных, когда событие передаётся между двумя дочерними виджетами, размещёнными в одном родительском.</p>\n<p class=\"p_Normal\">Предположим, что в системе создана страница <span style=\"font-weight: bold;\">Отчёт по транзакциям</span>. На ней размещены два дочерних виджета: <span style=\"font-weight: bold;\">Настройки фильтрации</span> и <span style=\"font-weight: bold;\">Таблица с поступлениями</span>. Когда пользователь вводит значения в поля фильтров, в виджете с таблицей выполняется поиск по введённым параметрам и отображаются его результаты. Это позволяет просматривать искомые элементы сразу после ввода значения в поле фильтра.</p>\n<p class=\"p_Normal\"><img alt=\"child-widget-event-1\" height=\"518\" src=\"child-widget-event-1.png\" style=\"margin:0;width:822px;height:518px;border:none\" width=\"822\"/></p>\n<p class=\"p_Normal\">Рассмотрим подробнее, как выполнить настройку такой передачи данных. </p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Шаг 1. Создать и настроить пользовательский виджет «Настройки фильтрации»</span></h2>\n<p class=\"p_Normal\">Начните настройку с создания виджета, который содержит поля с параметрами фильтрации. В нём нужно:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">добавить свойства для поиска;</li><li class=\"p_Normal\">создать переменную типа <span style=\"font-weight: bold;\">Событие</span>, к которой в родительском виджете (странице <span style=\"font-weight: bold;\">Отчёт по транзакциям</span>) привязывается скрипт для выполнения поиска;</li><li class=\"p_Normal\">в настройках созданных свойств для поиска указать скрипт в опции <span style=\"font-weight: bold;\">Событие при изменении значения</span>. Таким образом каждый раз, когда вводится значение в поле, в родительский виджет будет передаваться событие вместе с указанными данными фильтрации.</li></ul>\n<p class=\"p_Normal\">Выполните эти действия:</p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\"><a class=\"topiclink\" href=\"interface_settings.html#create-widget\">Создайте виджет</a> <span style=\"font-weight: bold;\">Настройки фильтрации</span> со следующими переменными:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">Контрагент</span> — переменная типа <a class=\"topiclink\" href=\"360009707032.html#app\">Приложение</a>. В этом поле пользователь укажет название нужного контрагента для поиска данных по его названию;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">Начало периода</span> и <span style=\"font-weight: bold;\">Конец периода</span> — переменные типа <a class=\"topiclink\" href=\"360009707032.html#date-time\">Дата/время</a>. Здесь можно указать период поступлений;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">Изменение фильтров</span> — служебное поле типа <a class=\"topiclink\" href=\"360009707032.html#event\">Событие</a>. Оно применяется в скрипте, который зафиксирует событие использования фильтра, произошедшее в виджете.<br/>\n<img alt=\"child-widget-event-2\" height=\"228\" src=\"child-widget-event-2.jpg\" style=\"margin:0;width:864px;height:228px;border:none\" width=\"864\"/></li></ul>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">На вкладке <span style=\"font-weight: bold;\">Шаблон</span> вынесите виджет <a class=\"topiclink\" href=\"panel_with_heading.html\">Панель с заголовком</a> и назовите его <span style=\"font-weight: bold;\">Настройки фильтрации</span>. В эту панель добавьте виджет <a class=\"topiclink\" href=\"columns.html\">Колонки</a>, а в них — свойства <span style=\"font-weight: bold;\">Контрагент</span>, <span style=\"font-weight: bold;\">Начало периода</span> и <span style=\"font-weight: bold;\">Конец</span> <span style=\"font-weight: bold;\">периода</span>.<br/>\n<img alt=\"child-widget-event-3\" height=\"310\" src=\"child-widget-event-3.png\" style=\"margin:0;width:779px;height:310px;border:none\" width=\"779\"/></li></ol>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">На поле для моделирования выберите свойство <span style=\"font-weight: bold;\">Контрагент</span> и нажмите значок шестерёнки. В открывшемся окне перейдите на вкладку <span style=\"font-weight: bold;\">События</span>. Справа от опции <span style=\"font-weight: bold;\">Событие при изменении значения</span> нажмите кнопку <span style=\"font-weight: bold;\">Создать</span>, введите название функции <span style=\"font-weight: bold;\">setFilters</span>, выберите <span style=\"font-weight: bold;\">Сохранить</span>, а затем — <span style=\"font-weight: bold;\">Открыть</span>.<br/>\n<img alt=\"child-widget-event-4\" height=\"141\" src=\"child-widget-event-4.png\" style=\"margin:0;width:710px;height:141px;border:none\" width=\"710\"/></li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 20px;\">Чтобы отправить событие вместе с данными фильтрации, когда пользователь введёт значение в это поле, на открывшейся вкладке <span style=\"font-weight: bold;\">Скрипты</span> укажите следующую функцию:</p>\n<p class=\"p_CodeExample\" style=\"white-space: normal; page-break-inside: avoid;\"><span class=\"f_CodeExample\">async function setFilters(): Promise&lt;void&gt; {</span><br/>\n<span class=\"f_CodeExample\">    const filterData = {</span><br/>\n<span class=\"f_CodeExample\">        agent: Context.data.agent,</span><br/>\n<span class=\"f_CodeExample\">        from_date: Context.data.from_date,</span><br/>\n<span class=\"f_CodeExample\">        to_date: Context.data.to_date,</span><br/>\n<span class=\"f_CodeExample\">    };</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    Context.data.filter_changed?.emit(filterData);</span><br/>\n<span class=\"f_CodeExample\">}</span></p>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"4\">Укажите эту же функцию для свойств <span style=\"font-weight: bold;\">Начало периода</span> и <span style=\"font-weight: bold;\">Конец периода</span>. Для этого в их настройках на вкладке <span style=\"font-weight: bold;\">События</span> справа от опции <span style=\"font-weight: bold;\">Событие при изменении значения</span> нажмите пустое поле и выберите <span style=\"font-weight: bold;\">setFilters</span>.</li><li class=\"p_Normal\" value=\"5\">Сохраните и опубликуйте виджет <span style=\"font-weight: bold;\">Настройки фильтрации</span>.</li></ol>\n<p class=\"p_Normal\">Теперь его можно использовать в других виджетах как дочерний для фильтрации элементов приложений по заданным параметрам.</p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Шаг 2. Создать и настроить пользовательский виджет «Таблица с поступлениями»</span></h2>\n<p class=\"p_Normal\">Создайте второй виджет для отображения результатов фильтрации в виде таблицы. В настройках виджета задайте настройки, чтобы:</p>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">запускать поиск соответствующих элементов, когда в фильтрах изменяется значение;</li><li class=\"p_Normal\">отображать результат поиска в таблице.</li></ul>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\"><a class=\"topiclink\" href=\"interface_settings.html#create-widget\">Создайте виджет</a> <span style=\"font-weight: bold;\">Таблица с поступлениями</span> со следующими переменными:<br/>\n<img alt=\"child-widget-event-5\" height=\"269\" src=\"child-widget-event-5.png\" style=\"margin:0;width:811px;height:269px;border:none\" width=\"811\"/></li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\"><span style=\"font-weight: bold;\">Таблица</span> — переменная типа <a class=\"topiclink\" href=\"360010201779.html\">Таблица</a>. Настройте её колонки, указав необходимые свойства приложения. Здесь пользователь увидит результаты фильтрации по введённым значениям. Подробнее о том, как настроить колонки таблицы читайте в статье <a class=\"topiclink\" href=\"table-visibility.html\">«Настройка таблицы»</a>;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">Поступление</span> — переменная типа <a class=\"topiclink\" href=\"360009707032.html#app\">Приложение</a> с опцией <span style=\"font-weight: bold;\">Один</span>. Выберите приложение <span style=\"font-weight: bold;\">Реестр поступлений</span>. Это служебная переменная, которая нужна для выполнения ниже указанного скрипта. С её помощью происходит поиск элементов приложения по заданным фильтрам;</li><li class=\"p_Normal\"><span style=\"font-weight: bold;\">Данные фильтрации</span> — служебная переменная типа <a class=\"topiclink\" href=\"360009707032.html#any\">Произвольный тип</a>. Она используется, чтобы передать данные из первого виджета <span style=\"font-weight: bold;\">Настройки фильтрации</span> во второй виджет <span style=\"font-weight: bold;\">Таблица с поступлениями</span>.<br/>\n<img alt=\"child-widget-event-6\" height=\"522\" src=\"child-widget-event-6.png\" style=\"margin:0;width:871px;height:522px;border:none\" width=\"871\"/></li></ul>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 13px;\">При создании переменной <span style=\"font-weight: bold;\">Данные фильтрации</span> в опции <span style=\"font-weight: bold;\">Событие при изменении значения</span> укажите скрипт, который покажет отфильтрованные данные в таблице.</p>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 12px;\"><a class=\"dropdown-toggle\" href=\"javascript:HMToggle('toggle','TOGGLE0186A1')\" style=\"font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;\">Скрипт для заполнения таблицы отфильтрованными данными</a></p>\n<div class=\"dropdown-toggle-body\" id=\"TOGGLE0186A1\" style=\"text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;\"><table style=\"border:none; border-spacing:0;\">\n<tr>\n<td style=\"vertical-align:top; padding:0; border:none\"><p class=\"p_Normal\" style=\"page-break-inside: avoid;\"><span class=\"f_CodeExample\">interface FilterData {</span><br/>\n<span class=\"f_CodeExample\">    agent: TApplication&lt;Application$_clients$_companies$Data, any, Application$_clients$_companies$Processes&gt; | undefined;</span><br/>\n<span class=\"f_CodeExample\">    from_date: TDate | undefined;</span><br/>\n<span class=\"f_CodeExample\">    to_date: TDate | undefined;</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">async function setFilter(): Promise&lt;void&gt; {</span><br/>\n<span class=\"f_CodeExample\">    const filterData: FilterData = Context.data.filterData;</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    // Получение транзакций поступлений по заданным фильтрам</span><br/>\n<span class=\"f_CodeExample\">    const transactions = await Context.fields.transactions.app.search()</span><br/>\n<span class=\"f_CodeExample\">    .where((f, g) =&gt; {</span><br/>\n<span class=\"f_CodeExample\">        const conditions: Filter[] = [];</span><br/>\n<span class=\"f_CodeExample\">        if (filterData.agent) {</span><br/>\n<span class=\"f_CodeExample\">            conditions.push(f._contractor.link(filterData.agent))</span><br/>\n<span class=\"f_CodeExample\">        }</span><br/>\n<span class=\"f_CodeExample\">        if (filterData.from_date) {</span><br/>\n<span class=\"f_CodeExample\">            conditions.push(f._plannedPaymentDate.gte(filterData.from_date))</span><br/>\n<span class=\"f_CodeExample\">        }</span><br/>\n<span class=\"f_CodeExample\">        if (filterData.to_date) {</span><br/>\n<span class=\"f_CodeExample\">            conditions.push(f._plannedPaymentDate.lte(filterData.to_date))</span><br/>\n<span class=\"f_CodeExample\">        }</span><br/>\n<span class=\"f_CodeExample\">        return g.and(...conditions)</span><br/>\n<span class=\"f_CodeExample\">    })</span><br/>\n<span class=\"f_CodeExample\">    .all()</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    const table = Context.data.table!;</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    // Очистка таблицы</span><br/>\n<span class=\"f_CodeExample\">    for (let i = table.length - 1; i &gt;= 0; i--) {</span><br/>\n<span class=\"f_CodeExample\">        table.delete(i);</span><br/>\n<span class=\"f_CodeExample\">    }</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    // Заполнение таблицы</span><br/>\n<span class=\"f_CodeExample\">    for (const item of transactions) {</span><br/>\n<span class=\"f_CodeExample\">        const row = table.insert();</span><br/>\n<span class=\"f_CodeExample\">        row.contractor = item.data._contractor!;</span><br/>\n<span class=\"f_CodeExample\">        row.plan_data = item.data._plannedPaymentDate!;</span><br/>\n<span class=\"f_CodeExample\">        row.name = item.data.__name;</span><br/>\n<span class=\"f_CodeExample\">    }</span><br/>\n<span class=\"f_CodeExample\"> </span><br/>\n<span class=\"f_CodeExample\">    // Обновляем отображение таблицы</span><br/>\n<span class=\"f_CodeExample\">    Context.data.table = Context.data.table;</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\"> </span></p>\n</td>\n</tr>\n</table>\n</div>\n<ol start=\"2\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"2\">На вкладке <span style=\"font-weight: bold;\">Шаблон</span> вынесите виджет <a class=\"topiclink\" href=\"panel_with_heading.html\">Панель с заголовком</a> и назовите его <span style=\"font-weight: bold;\">Поступления</span>. В этот виджет добавьте созданное свойство <span style=\"font-weight: bold;\">Таблица</span>.<br/>\n<img alt=\"child-widget-event-7\" height=\"162\" src=\"child-widget-event-7.png\" style=\"margin:0;width:887px;height:162px;border:none\" width=\"887\"/></li></ol>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">Сохраните и опубликуйте виджет <span style=\"font-weight: bold;\">Таблица с поступлениями</span>.</li></ol>\n<p class=\"p_Normal\">Теперь его можно использовать в других виджетах как дочерний, чтобы показать результаты фильтрации транзакций в виде таблицы.</p>\n<h2 class=\"p_Heading2\"><span class=\"f_Heading2\">Шаг 3. Добавить виджеты на страницу и настроить передачу данных между ними</span></h2>\n<p class=\"p_Normal\">На <a class=\"topiclink\" href=\"360009924451.html\">созданную страницу</a> <span style=\"font-weight: bold;\">Отчёт по транзакциям</span> добавьте виджеты <span style=\"font-weight: bold;\">Настройки фильтрации</span> и <span style=\"font-weight: bold;\">Таблица с поступлениями</span>. Страница станет для них родительским виджетом. На странице записываются данные фильтрации от первого виджета и передаются во второй.</p>\n<ol style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"1\">Откройте настройки страницы <span style=\"font-weight: bold;\">Отчёт по транзакциям</span> и перейдите в <a class=\"topiclink\" href=\"360027211631.html#setting-in-designer\">дизайнер интерфейсов</a>, нажав опцию <span style=\"font-weight: bold;\">Конструктор</span>.</li><li class=\"p_Normal\" value=\"2\">На вкладке <span style=\"font-weight: bold;\">Контекст</span> создайте переменную <span style=\"font-weight: bold;\">Данные фильтрации</span> типа <span style=\"font-weight: bold;\">Произвольный тип</span>. Она нужна, чтобы:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">записать в эту переменную данные фильтрации, полученные вместе с событием от виджета <span style=\"font-weight: bold;\">Настройки фильтрации</span>;</li><li class=\"p_Normal\">связать контекст страницы с контекстом виджета <span style=\"font-weight: bold;\">Таблица с поступлениями</span> для показа найденных элементов в таблице.</li></ul>\n<ol start=\"3\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"3\">Перейдите на вкладку <span style=\"font-weight: bold;\">Шаблон</span> и вынесите созданные ранее:</li></ol>\n<ul style=\"list-style-type:disc\">\n<li class=\"p_Normal\">виджет <span style=\"font-weight: bold;\">Настройки фильтрации</span>;</li><li class=\"p_Normal\">виджет <span style=\"font-weight: bold;\">Таблица с поступлениями</span>.<br/>\n<img alt=\"child-widget-event-8\" height=\"356\" src=\"child-widget-event-8.png\" style=\"margin:0;width:903px;height:356px;border:none\" width=\"903\"/></li></ul>\n<ol start=\"4\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"4\">Откройте настройки виджета <span style=\"font-weight: bold;\">Настройки фильтрации</span> и перейдите на вкладку <span style=\"font-weight: bold;\">События</span>.<br/>\n<img alt=\"child-widget-event-9\" height=\"235\" src=\"child-widget-event-9.png\" style=\"margin:0;width:607px;height:235px;border:none\" width=\"607\"/><br/>\nНа этой вкладке отобразится переменная типа <span style=\"font-weight: bold;\">Событие</span>, созданная в конструкторе виджета. Привяжите к ней скрипт. С его помощью данные фильтрации запишутся в контекст страницы, когда виджет передаст событие <span style=\"font-weight: bold;\">Изменение фильтров</span>.<br/>\n<img alt=\"child-widget-event-10\" height=\"336\" src=\"child-widget-event-10.png\" style=\"margin:0;width:817px;height:336px;border:none\" width=\"817\"/></li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 20px;\">Для этого справа от события нажмите <span style=\"font-weight: bold;\">Создать</span>, введите название функции <span style=\"font-weight: bold;\">onFilterChanged</span> и выберите <span style=\"font-weight: bold;\">Сохранить</span>, а затем — <span style=\"font-weight: bold;\">Открыть</span>. В результате на вкладке <span style=\"font-weight: bold;\">Скрипты</span> создастся асинхронная функция. Внесите в неё следующий скрипт:</p>\n<p class=\"p_CodeExample\" style=\"white-space: normal; page-break-inside: avoid;\"><span class=\"f_CodeExample\">// Устанавливаем запуск скрипта, если значение фильтра изменилось</span><br/>\n<span class=\"f_CodeExample\">async function onFilterChanged(filterData: FilterData): Promise&lt;void&gt; {</span><br/>\n<span class=\"f_CodeExample\">    Context.data.filterData = filterData;</span><br/>\n<span class=\"f_CodeExample\">}</span><br/>\n<span class=\"f_CodeExample\">// Указываем, какие значения может принять функция</span><br/>\n<span class=\"f_CodeExample\">interface FilterData {</span><br/>\n<span class=\"f_CodeExample\">    agent: TApplication&lt;Application$_clients$_companies$Data, any, Application$_clients$_companies$Processes&gt; | undefined;</span><br/>\n<span class=\"f_CodeExample\">    from_date: TDate | undefined;</span><br/>\n<span class=\"f_CodeExample\">    to_date: TDate | undefined;</span><br/>\n<span class=\"f_CodeExample\">}</span></p>\n<ol start=\"5\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"5\">Вернитесь на вкладку <span style=\"font-weight: bold;\">Шаблон</span> и откройте настройки виджета <span style=\"font-weight: bold;\">Таблица с поступлениями</span>. На вкладке <span style=\"font-weight: bold;\">Основные</span> вы увидите его переменные. Чтобы таблица отобразила элементы по данным фильтрации, нужно передать эти данные в контекст виджета таблицы. Для этого установите связь с переменной произвольного типа <span style=\"font-weight: bold;\">Данные фильтрации</span>, которую создали ранее в контексте страницы.<br/>\n<img alt=\"child-widget-event-11\" height=\"376\" src=\"child-widget-event-11.png\" style=\"margin:0;width:817px;height:376px;border:none\" width=\"817\"/></li></ol>\n<p class=\"p_Normal\" style=\"margin: 0 0 0 20px;\">Сохраните настройки виджета <span style=\"font-weight: bold;\">Таблица с поступлениями</span>.</p>\n<ol start=\"5\" style=\"list-style-type:upper-roman\">\n<li class=\"p_Normal\" value=\"6\">Сохраните и опубликуйте страницу <span style=\"font-weight: bold;\">Отчёт по транзакциям</span>.</li></ol>\n<p class=\"p_Normal\">Теперь при вводе значения в одно из полей фильтров в таблице отобразятся данные элементов приложения <span style=\"font-weight: bold;\">Реестр поступлений</span>.</p>\n<div class=\"bottom-nav\">\n<a class=\"topic__navi_prev\" href=\"event-in-widgets.html\" id=\"prev-link\">\n<span class=\"bottom-nav__arrow bottom-nav__arrow--prev\"></span> <span class=\"bottom-nav__link\">event-in-widgets.html</span>\n</a>\n<a class=\"topic__navi_next\" href=\"markdown.html\" id=\"next-link\">\n<span class=\"bottom-nav__link\">markdown.html</span> <span class=\"bottom-nav__arrow bottom-nav__arrow--next\"></span>\n</a>\n</div>\n<!-- добавляет на страницу строку блок Была ли статья полезной?  -->\n<div class=\"feedback-wrap\"><div class=\"feedback\" id=\"feedback\"><span><b>Была ли статья полезной?</b></span><form action=\"\" class=\"feedback-form\" id=\"feedback-form\" method=\"POST\"><div class=\"feedback__popup feedback__popup-response\" id=\"feedback__popup_thx\">Спасибо за ваш отзыв!</div><div id=\"feedback-success-popup\"><div class=\"wrap\"><button class=\"feedback-popup-close\" type=\"button\">×</button><svg fill=\"none\" height=\"44\" viewbox=\"0 0 44 44\" width=\"44\" xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_212_2187)\"><path d=\"M22 0.6875C10.2294 0.6875 0.6875 10.2294 0.6875 22C0.6875 33.7706 10.2294 43.3125 22 43.3125C33.7706 43.3125 43.3125 33.7706 43.3125 22C43.3125 10.2294 33.7706 0.6875 22 0.6875ZM22 40.5625C11.8023 40.5625 3.4375 32.3078 3.4375 22C3.4375 11.8024 11.6922 3.4375 22 3.4375C32.1977 3.4375 40.5625 11.6922 40.5625 22C40.5625 32.1976 32.3078 40.5625 22 40.5625ZM34.1713 16.933L18.6613 32.3186C18.257 32.7197 17.604 32.7171 17.203 32.3128L9.82283 24.873C9.42176 24.4686 9.42434 23.8157 9.82867 23.4146L10.5609 22.6884C10.9652 22.2873 11.6181 22.2899 12.0192 22.6942L17.9468 28.6697L31.9926 14.7366C32.3969 14.3356 33.0498 14.3382 33.4509 14.7425L34.1772 15.4747C34.5783 15.879 34.5757 16.532 34.1713 16.933Z\" fill=\"#27AE60\"></path></g><defs><clippath id=\"clip0_212_2187\"><rect fill=\"white\" height=\"44\" width=\"44\"></rect></clippath></defs></svg><p>Ваш отзыв успешно отправлен!</p><span>Спасибо за обратную связь.</span></div></div><div class=\"feedback__popup\" id=\"feedback__popup_why\"><button class=\"feedback-popup-close\" type=\"button\">×</button><div class=\"feedback__popup-header\">Уточните, почему:</div><input id=\"bad_recommendation\" name=\"category\" type=\"radio\" value=\"bad_recommendation\"/><label for=\"bad_recommendation\">Рекомендации не помогли</label><input id=\"difficult_text\" name=\"category\" type=\"radio\" value=\"difficult_text\"/><label for=\"difficult_text\">Текст трудно понять</label><input id=\"no_answer\" name=\"category\" type=\"radio\" value=\"no_answer\"/><label for=\"no_answer\">Нет ответа на мой вопрос</label><input id=\"bad_header\" name=\"category\" type=\"radio\" value=\"bad_header\"/><label for=\"bad_header\">Содержание статьи не соответствует заголовку</label><input id=\"other_reason\" name=\"category\" type=\"radio\" value=\"other_reason\"/><label for=\"other_reason\">Другая причина</label></div><div class=\"feedback__popup\" id=\"feedback__popup-other\"><button class=\"feedback-popup-close\" type=\"button\">×</button> <div class=\"feedback__popup-header\">Расскажите, что вам не понравилось в статье:</div><textarea class=\"feedback__textarea\" id=\"\" name=\"other\"></textarea><input class=\"feedback__other-btn\" type=\"submit\" value=\"Отправить\"/></div><div class=\"feedback-form__btn-group\"><input id=\"feedback__useful_yes\" name=\"useful\" type=\"radio\" value=\"true\"/><label for=\"feedback__useful_yes\"><img src=\"like.svg\"/><span class=\"feedback-form__btn-group_yes-btn\">Да</span></label><input id=\"feedback__useful_no\" name=\"useful\" type=\"radio\" value=\"false\"/><label for=\"feedback__useful_no\"><img src=\"dislike.svg\"/><span class=\"feedback-form__btn-group_no-btn\">Нет</span></label></div><select name=\"category\"><option disabled=\"\">Выберите вариант</option><option selected=\"\" value=\"bad_recommendation\">Рекомендации не помогли</option><option value=\"difficult_text\">Текст трудно понять</option><option value=\"no_answer\">Нет ответа на мой вопрос</option><option value=\"bad_header\">Содержание статьи не соответствует заголовку</option><option value=\"other_reason\">Другая причина</option></select><input type=\"submit\"/></form></div></div>\n</section>\n</div>\n<aside class=\"article__sidebar\" style=\"display:none\">\n<input type=\"checkbox\"/>\n<div class=\"article__arrow\"></div>\n<div class=\"table-of-contents elma365-right\" id=\"toc2Content\">\n<h3 class=\"h3-toc\">В этой статье</h3>\n<nav id=\"toc2\"></nav>\n</div>\n</aside>\n</div>\n</article>\n</main>\n<footer class=\"footer\">\n<div class=\"footer-container\">\n<div class=\"footer-mobile\">\n<ul class=\"footer-mobile__list\"><li><a href=\"https://api.elma365.com/ru/\" target=\"_blank\">API</a></li><li><a href=\"https://tssdk.elma365.com/\" target=\"_blank\">TS SDK</a></li><li><a href=\"https://community.elma365.com/\" target=\"_blank\">Community</a></li><li><a href=\"https://elma-academy.com/ru/elma365\" target=\"_blank\">Академия</a></li></ul><ul class=\"footer-mobile__list\"><li><a href=\"https://elma365.com/ru/help/platform/get-trial.html\">Платформа</a></li><li><a href=\"https://elma365.com/ru/help/ecm/ecm-functions.html\">ECM</a></li><li><a href=\"https://elma365.com/ru/help/service/service-functions.html\">Service</a></li><li><a href=\"https://elma365.com/ru/help/projects/projects-functions.html\">Проекты</a></li></ul>\n</div>\n<div class=\"container\">\n<div class=\"footer-wrap\">\n<div><span class=\"mobile-question-popup\">Отправить фидбэк</span><form action=\"\" class=\"question__popup question-xs\" id=\"question__popup\" method=\"POST\"><div class=\"question-wrap\"><span class=\"close\"></span><span class=\"title\">Задать вопрос</span><label for=\"help_question\" style=\"display: none;\"></label><textarea id=\"help_question\" name=\"help_question\"></textarea><input type=\"submit\" value=\"Отправить\"/></div></form><div class=\"hidden fade-in question-success-xs\">Ваш фидбэк отправлен.</div></div>\n<div class=\"footer-flex-b\">\n<div class=\"footer-top\">\n<span class=\"footer-copy\">© 2025 \n              ELMA365\n            \n            \n          </span>\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</div>\n<div class=\"footer-line\">\n<div class=\"footer-line-copy\">\n<span class=\"footer-copy\">© 2025 \n                  ELMA365\n                \n                \n              </span>\n</div>\n<ul class=\"footer-list\">\n<li class=\"footer-item footer-url-elma\"><a class=\"footer-link footer-url-link-elma\" href=\"https://elma365.com/ru/\" style=\"color: #0D4A75;\" target=\"_blank\"><img alt=\"browse icon\" class=\"footer-img footer-img-elma-url\" src=\"browse.svg\"/>elma365.com</a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vkvideo.ru/@elma_bpm\" target=\"_blank\"><img alt=\"vk-video icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk-video.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://vk.com/elma_bpm\" target=\"_blank\"><img alt=\"vk icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"vk.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://t.me/elmaday\" target=\"_blank\"><img alt=\"telegram icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"telegram.svg\" width=\"20\"/></a></li><li class=\"footer-item\"><a class=\"footer-link\" href=\"https://dzen.ru/elma\" target=\"_blank\"><img alt=\"dzen icon\" class=\"footer-img social-footer-img\" height=\"20\" src=\"social_dzen.svg\" width=\"20\"/></a></li>\n<li class=\"footer-item sk-footer-img\">\n<a class=\"sk-img\" href=\"https://navigator.sk.ru/orn/1122971\" target=\"_blank\">\n<img alt=\"sk icon\" class=\"footer-img\" height=\"34\" src=\"sk-resident.svg\" width=\"117\"/>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<a class=\"arrow-top\" href=\"#\"></a>\n</div>\n</footer>\n<!--    <script type=\"text/javascript\" src=\"jquery1.min.js\"></script>-->\n<iframe name=\"hmnavigation\" style=\"display:none!important\"></iframe>\n<!--<script src=\"./jquery-ui.js\"></script> -->\n<script src=\"./jquery-ui.min.js\"></script>\n<!--script src=\"//cdn.jsdelivr.net/npm/featherlight@1.7.14/release/featherlight.min.js\" type=\"text/javascript\" charset=\"utf-8\"></script-->\n<script src=\"./jquery.tocify.min.js\"></script>\n<script src=\"./TypoReporter.min.js\"></script>\n<script src=\"./google-search.js\"></script>\n<script src=\"./main.js\"></script>\n<script type=\"text/javascript\">\nHMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');\n</script>\n</body>\n</html>\n",
  "plain_text": "Передать событие между двумя дочерними виджетами ﻿ Платформа CSP CRM+CX Проекты Service КЭДО Бизнес-решения Academy Community API SDK Сайт ELMA365 Low-code дизайнер > Создание интерфейсов > Скрипты в виджетах / Передать событие между двумя дочерними виджетами Передать событие между двумя дочерними виджетами С помощью поля типа Событие в одном виджете можно создать пользовательское событие и передать его в другой виджет. Подробнее о том, как это работает и как настроить передачу данных от дочернего виджета в родительский, читайте в статье «Передать событие из дочернего в родительский виджет» . В данной статье рассмотрим комплексный пример с использованием различных опций и дополнительных переменных, когда событие передаётся между двумя дочерними виджетами, размещёнными в одном родительском. Предположим, что в системе создана страница Отчёт по транзакциям . На ней размещены два дочерних виджета: Настройки фильтрации и Таблица с поступлениями . Когда пользователь вводит значения в поля фильтров, в виджете с таблицей выполняется поиск по введённым параметрам и отображаются его результаты. Это позволяет просматривать искомые элементы сразу после ввода значения в поле фильтра. Рассмотрим подробнее, как выполнить настройку такой передачи данных. Шаг 1. Создать и настроить пользовательский виджет «Настройки фильтрации» Начните настройку с создания виджета, который содержит поля с параметрами фильтрации. В нём нужно: добавить свойства для поиска; создать переменную типа Событие , к которой в родительском виджете (странице Отчёт по транзакциям ) привязывается скрипт для выполнения поиска; в настройках созданных свойств для поиска указать скрипт в опции Событие при изменении значения . Таким образом каждый раз, когда вводится значение в поле, в родительский виджет будет передаваться событие вместе с указанными данными фильтрации. Выполните эти действия: Создайте виджет Настройки фильтрации со следующими переменными: Контрагент — переменная типа Приложение . В этом поле пользователь укажет название нужного контрагента для поиска данных по его названию; Начало периода и Конец периода — переменные типа Дата/время . Здесь можно указать период поступлений; Изменение фильтров — служебное поле типа Событие . Оно применяется в скрипте, который зафиксирует событие использования фильтра, произошедшее в виджете. На вкладке Шаблон вынесите виджет Панель с заголовком и назовите его Настройки фильтрации . В эту панель добавьте виджет Колонки , а в них — свойства Контрагент , Начало периода и Конец периода . На поле для моделирования выберите свойство Контрагент и нажмите значок шестерёнки. В открывшемся окне перейдите на вкладку События . Справа от опции Событие при изменении значения нажмите кнопку Создать , введите название функции setFilters , выберите Сохранить , а затем — Открыть . Чтобы отправить событие вместе с данными фильтрации, когда пользователь введёт значение в это поле, на открывшейся вкладке Скрипты укажите следующую функцию: async function setFilters(): Promise<void> { const filterData = { agent: Context.data.agent, from_date: Context.data.from_date, to_date: Context.data.to_date, }; Context.data.filter_changed?.emit(filterData); } Укажите эту же функцию для свойств Начало периода и Конец периода . Для этого в их настройках на вкладке События справа от опции Событие при изменении значения нажмите пустое поле и выберите setFilters . Сохраните и опубликуйте виджет Настройки фильтрации . Теперь его можно использовать в других виджетах как дочерний для фильтрации элементов приложений по заданным параметрам. Шаг 2. Создать и настроить пользовательский виджет «Таблица с поступлениями» Создайте второй виджет для отображения результатов фильтрации в виде таблицы. В настройках виджета задайте настройки, чтобы: запускать поиск соответствующих элементов, когда в фильтрах изменяется значение; отображать результат поиска в таблице. Создайте виджет Таблица с поступлениями со следующими переменными: Таблица — переменная типа Таблица . Настройте её колонки, указав необходимые свойства приложения. Здесь пользователь увидит результаты фильтрации по введённым значениям. Подробнее о том, как настроить колонки таблицы читайте в статье «Настройка таблицы» ; Поступление — переменная типа Приложение с опцией Один . Выберите приложение Реестр поступлений . Это служебная переменная, которая нужна для выполнения ниже указанного скрипта. С её помощью происходит поиск элементов приложения по заданным фильтрам; Данные фильтрации — служебная переменная типа Произвольный тип . Она используется, чтобы передать данные из первого виджета Настройки фильтрации во второй виджет Таблица с поступлениями . При создании переменной Данные фильтрации в опции Событие при изменении значения укажите скрипт, который покажет отфильтрованные данные в таблице. Скрипт для заполнения таблицы отфильтрованными данными interface FilterData { agent: TApplication<Application$_clients$_companies$Data, any, Application$_clients$_companies$Processes> | undefined; from_date: TDate | undefined; to_date: TDate | undefined; } async function setFilter(): Promise<void> { const filterData: FilterData = Context.data.filterData; // Получение транзакций поступлений по заданным фильтрам const transactions = await Context.fields.transactions.app.search() .where((f, g) => { const conditions: Filter[] = []; if (filterData.agent) { conditions.push(f._contractor.link(filterData.agent)) } if (filterData.from_date) { conditions.push(f._plannedPaymentDate.gte(filterData.from_date)) } if (filterData.to_date) { conditions.push(f._plannedPaymentDate.lte(filterData.to_date)) } return g.and(...conditions) }) .all() const table = Context.data.table!; // Очистка таблицы for (let i = table.length - 1; i >= 0; i--) { table.delete(i); } // Заполнение таблицы for (const item of transactions) { const row = table.insert(); row.contractor = item.data._contractor!; row.plan_data = item.data._plannedPaymentDate!; row.name = item.data.__name; } // Обновляем отображение таблицы Context.data.table = Context.data.table; } На вкладке Шаблон вынесите виджет Панель с заголовком и назовите его Поступления . В этот виджет добавьте созданное свойство Таблица . Сохраните и опубликуйте виджет Таблица с поступлениями . Теперь его можно использовать в других виджетах как дочерний, чтобы показать результаты фильтрации транзакций в виде таблицы. Шаг 3. Добавить виджеты на страницу и настроить передачу данных между ними На созданную страницу Отчёт по транзакциям добавьте виджеты Настройки фильтрации и Таблица с поступлениями . Страница станет для них родительским виджетом. На странице записываются данные фильтрации от первого виджета и передаются во второй. Откройте настройки страницы Отчёт по транзакциям и перейдите в дизайнер интерфейсов , нажав опцию Конструктор . На вкладке Контекст создайте переменную Данные фильтрации типа Произвольный тип . Она нужна, чтобы: записать в эту переменную данные фильтрации, полученные вместе с событием от виджета Настройки фильтрации ; связать контекст страницы с контекстом виджета Таблица с поступлениями для показа найденных элементов в таблице. Перейдите на вкладку Шаблон и вынесите созданные ранее: виджет Настройки фильтрации ; виджет Таблица с поступлениями . Откройте настройки виджета Настройки фильтрации и перейдите на вкладку События . На этой вкладке отобразится переменная типа Событие , созданная в конструкторе виджета. Привяжите к ней скрипт. С его помощью данные фильтрации запишутся в контекст страницы, когда виджет передаст событие Изменение фильтров . Для этого справа от события нажмите Создать , введите название функции onFilterChanged и выберите Сохранить , а затем — Открыть . В результате на вкладке Скрипты создастся асинхронная функция. Внесите в неё следующий скрипт: // Устанавливаем запуск скрипта, если значение фильтра изменилось async function onFilterChanged(filterData: FilterData): Promise<void> { Context.data.filterData = filterData; } // Указываем, какие значения может принять функция interface FilterData { agent: TApplication<Application$_clients$_companies$Data, any, Application$_clients$_companies$Processes> | undefined; from_date: TDate | undefined; to_date: TDate | undefined; } Вернитесь на вкладку Шаблон и откройте настройки виджета Таблица с поступлениями . На вкладке Основные вы увидите его переменные. Чтобы таблица отобразила элементы по данным фильтрации, нужно передать эти данные в контекст виджета таблицы. Для этого установите связь с переменной произвольного типа Данные фильтрации , которую создали ранее в контексте страницы. Сохраните настройки виджета Таблица с поступлениями . Сохраните и опубликуйте страницу Отчёт по транзакциям . Теперь при вводе значения в одно из полей фильтров в таблице отобразятся данные элементов приложения Реестр поступлений . event-in-widgets.html markdown.html Была ли статья полезной? Спасибо за ваш отзыв! × Ваш отзыв успешно отправлен! Спасибо за обратную связь. × Уточните, почему: Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина × Расскажите, что вам не понравилось в статье: Да Нет Выберите вариант Рекомендации не помогли Текст трудно понять Нет ответа на мой вопрос Содержание статьи не соответствует заголовку Другая причина В этой статье API TS SDK Community Академия Платформа ECM Service Проекты Отправить фидбэк Задать вопрос Ваш фидбэк отправлен. © 2025 ELMA365 © 2025 ELMA365 elma365.com",
  "links": [
    "https://elma365.com/ru/help",
    "https://elma365.com/ru/help/platform/get-trial.html",
    "https://elma365.com/ru/help/ecm/ecm-functions.html",
    "https://elma365.com/ru/help/crm/crm-functions.html",
    "https://elma365.com/ru/help/projects/projects-functions.html",
    "https://elma365.com/ru/help/service/service-functions.html",
    "https://elma365.com/ru/help/kedo/kedo.html",
    "https://elma365.com/ru/help/business_solutions/-elma365-store.html",
    "https://elma-academy.com/ru/",
    "https://community.elma365.com/ru/",
    "https://api.elma365.com/ru/",
    "https://tssdk.elma365.com/latest/",
    "https://elma365.com/ru/",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/interface_settings.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/client_server_scripts.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/event-in-widgets.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360009707032.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/panel_with_heading.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/columns.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360010201779.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/table-visibility.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360009924451.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/360027211631.html",
    "https://elma365.com/ru/help/crm/ru/help/business_solutions/markdown.html",
    "https://tssdk.elma365.com/",
    "https://community.elma365.com/",
    "https://elma-academy.com/ru/elma365",
    "https://navigator.sk.ru/orn/1122971",
    "https://vkvideo.ru/@elma_bpm",
    "https://vk.com/elma_bpm",
    "https://t.me/elmaday",
    "https://dzen.ru/elma"
  ],
  "last_crawled": "2025-11-29T21:58:31.333226",
  "metadata": {
    "depth": 10,
    "saved_at": "2025-11-29T21:58:31.462149"
  }
}